.scrim { 
  position: fixed; 
  inset: 0; 
  background: rgba(0,0,0,.4); 
  opacity: 0; 
  pointer-events: none; 
  transition: .2s; 
}

.scrimOpen { 
  opacity: 1; 
  pointer-events: auto; 
}

.sheet { 
  position: fixed; 
  left: 0; 
  right: 0; 
  bottom: 0; 
  transform: translateY(100%); 
  transition: transform .28s ease;
  background: #ffffff; 
  background: var(--paper, #ffffff); 
  border-top-left-radius: 16px; 
  border-top-right-radius: 16px; 
  box-shadow: 0 -6px 24px rgba(0,0,0,.18); 
  max-height: 80vh; 
  display: flex; 
  flex-direction: column; 
  z-index: 1000;
}

.sheetOpen { 
  transform: translateY(0); 
}

/* Desktop: turn bottom sheet into LEFT drawer */
@media (min-width: 1024px) {
  .sheet {
    top: 0; bottom: 0; left: 0; right: auto;
    width: min(420px, 100vw);
    border-radius: 0; border-right: 1px solid var(--ui-border);
    transform: translateX(-100%); max-height: none; box-shadow: 6px 0 24px rgba(0,0,0,.18);
  }
  .sheetOpen { transform: translateX(0); }
  .handle { display: none; } /* Hide drag handle on desktop */
}

.handle { 
  height: 24px; 
  display: flex; 
  align-items: center; 
  justify-content: center; 
}

.handle::before { 
  content: ""; 
  width: 44px; 
  height: 4px; 
  border-radius: 999px; 
  background: var(--ui-border); 
}

.header { 
  padding: 0 var(--spacing-4) var(--spacing-3); 
  display: flex; 
  justify-content: space-between; 
  align-items: center; 
  background: var(--paper, #ffffff);
}

.title { 
  font-weight: 600; 
  color: var(--ink-800); 
}

.content { 
  padding: 0 var(--spacing-4) var(--spacing-4); 
  overflow: auto; 
  background: var(--paper, #ffffff);
}

.group { 
  margin-top: var(--spacing-3); 
}

.label { 
  font: 600 14px/1.2 system-ui, sans-serif; 
  color: var(--ink-800); 
}

.chips { 
  display: flex; 
  gap: 8px; 
  flex-wrap: wrap; 
  margin-top: 8px; 
}

.chip { 
  border: 1px solid var(--ui-border, #E5E7EB); 
  border-radius: 999px; 
  padding: 8px 12px; 
  background: var(--paper, #ffffff); 
  color: var(--ink-800, #1B2432); 
  font: 500 14px system-ui; 
}

.chip[data-selected="true"] { 
  background: var(--accent-600); 
  color: #fff; 
  border-color: var(--accent-700); 
}

.input, .select {
  width: 100%; 
  border: 1px solid var(--ui-border, #E5E7EB); 
  border-radius: 10px;
  padding: 10px 12px; 
  background: var(--paper, #ffffff); 
  color: var(--ink-900, #0B1220); 
  font-size: 16px;
  min-height: 44px;
  margin-top: 8px;
}

.controls { 
  position: sticky; 
  bottom: 0; 
  padding: var(--spacing-3) var(--spacing-4) calc(var(--spacing-4) + env(safe-area-inset-bottom)); 
  background: #ffffff;
  background: linear-gradient(to top, var(--paper, #ffffff), var(--paper, #ffffff)); 
  display: flex; 
  gap: 12px; 
}

.btn { 
  flex: 1; 
  border-radius: var(--radius-3); 
  padding: 12px; 
  font-weight: 600; 
  text-align: center; 
}

.primary { 
  background: var(--ink-800); 
  color: #fff; 
}

.secondary { 
  background: var(--paper-soft, #F8FAFC); 
  color: var(--ink-800, #1B2432); 
  border: 1px solid var(--ui-border, #E5E7EB); 
}

/* Body lock when open */
:global(body.noScroll) { overflow: hidden; }

/* Trigger button (toolbar) */
.trigger { 
  display: inline-flex; 
  align-items: center; 
  gap: 8px; 
  border: 1px solid var(--ui-border); 
  border-radius: var(--radius-3); 
  padding: 8px 12px; 
  background: var(--paper); 
  color: var(--ink-800); 
}