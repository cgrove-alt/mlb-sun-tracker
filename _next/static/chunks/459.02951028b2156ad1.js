"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[459],{2459:(e,a,t)=>{t.r(a),t.d(a,{default:()=>eF});var i=t(5155),r=t(2115);let s=[{id:"angels",name:"Angel Stadium",team:"Los Angeles Angels",city:"Anaheim",state:"CA",latitude:33.8003,longitude:-117.8827,orientation:65,capacity:45517,roof:"open",timezone:"America/Los_Angeles",roofHeight:120,roofOverhang:40,upperDeckHeight:80},{id:"astros",name:"Minute Maid Park",team:"Houston Astros",city:"Houston",state:"TX",latitude:29.757,longitude:-95.3555,orientation:20,capacity:41168,roof:"retractable",timezone:"America/Chicago"},{id:"athletics",name:"Sutter Health Park",team:"Oakland Athletics",city:"Sacramento",state:"CA",latitude:38.5664,longitude:-121.503,orientation:330,capacity:14014,roof:"open",timezone:"America/Los_Angeles"},{id:"bluejays",name:"Rogers Centre",team:"Toronto Blue Jays",city:"Toronto",state:"ON",latitude:43.6414,longitude:-79.3894,orientation:15,capacity:49282,roof:"retractable",timezone:"America/Toronto"},{id:"braves",name:"Truist Park",team:"Atlanta Braves",city:"Atlanta",state:"GA",latitude:33.8908,longitude:-84.4678,orientation:45,capacity:41084,roof:"open",timezone:"America/New_York"},{id:"brewers",name:"American Family Field",team:"Milwaukee Brewers",city:"Milwaukee",state:"WI",latitude:43.028,longitude:-87.9712,orientation:357,capacity:41900,roof:"retractable",timezone:"America/Chicago"},{id:"cardinals",name:"Busch Stadium",team:"St. Louis Cardinals",city:"St. Louis",state:"MO",latitude:38.6226,longitude:-90.1928,orientation:92,capacity:44494,roof:"open",timezone:"America/Chicago"},{id:"cubs",name:"Wrigley Field",team:"Chicago Cubs",city:"Chicago",state:"IL",latitude:41.9484,longitude:-87.6553,orientation:13,capacity:41649,roof:"open",timezone:"America/Chicago"},{id:"diamondbacks",name:"Chase Field",team:"Arizona Diamondbacks",city:"Phoenix",state:"AZ",latitude:33.4455,longitude:-112.0667,orientation:23,capacity:48686,roof:"retractable",timezone:"America/Phoenix"},{id:"dodgers",name:"Dodger Stadium",team:"Los Angeles Dodgers",city:"Los Angeles",state:"CA",latitude:34.0739,longitude:-118.24,orientation:25,capacity:56e3,roof:"open",timezone:"America/Los_Angeles"},{id:"giants",name:"Oracle Park",team:"San Francisco Giants",city:"San Francisco",state:"CA",latitude:37.7786,longitude:-122.3893,orientation:87,capacity:41915,roof:"open",timezone:"America/Los_Angeles"},{id:"guardians",name:"Progressive Field",team:"Cleveland Guardians",city:"Cleveland",state:"OH",latitude:41.4962,longitude:-81.6852,orientation:60,capacity:34830,roof:"open",timezone:"America/Chicago"},{id:"mariners",name:"T-Mobile Park",team:"Seattle Mariners",city:"Seattle",state:"WA",latitude:47.5914,longitude:-122.3325,orientation:318,capacity:47929,roof:"retractable",timezone:"America/Los_Angeles"},{id:"marlins",name:"loanDepot park",team:"Miami Marlins",city:"Miami",state:"FL",latitude:25.7781,longitude:-80.2197,orientation:40,capacity:37446,roof:"retractable",timezone:"America/New_York"},{id:"mets",name:"Citi Field",team:"New York Mets",city:"New York",state:"NY",latitude:40.7571,longitude:-73.8458,orientation:90,capacity:41922,roof:"open",timezone:"America/New_York"},{id:"nationals",name:"Nationals Park",team:"Washington Nationals",city:"Washington",state:"DC",latitude:38.873,longitude:-77.0074,orientation:87,capacity:41313,roof:"open",timezone:"America/New_York"},{id:"orioles",name:"Oriole Park at Camden Yards",team:"Baltimore Orioles",city:"Baltimore",state:"MD",latitude:39.2838,longitude:-76.6218,orientation:58,capacity:45971,roof:"open",timezone:"America/New_York"},{id:"padres",name:"Petco Park",team:"San Diego Padres",city:"San Diego",state:"CA",latitude:32.7076,longitude:-117.157,orientation:25,capacity:40209,roof:"open",timezone:"America/Los_Angeles"},{id:"phillies",name:"Citizens Bank Park",team:"Philadelphia Phillies",city:"Philadelphia",state:"PA",latitude:39.9061,longitude:-75.1665,orientation:59,capacity:42792,roof:"open",timezone:"America/New_York"},{id:"pirates",name:"PNC Park",team:"Pittsburgh Pirates",city:"Pittsburgh",state:"PA",latitude:40.4468,longitude:-80.0057,orientation:25,capacity:38362,roof:"open",timezone:"America/New_York"},{id:"rangers",name:"Globe Life Field",team:"Texas Rangers",city:"Arlington",state:"TX",latitude:32.7512,longitude:-97.0833,orientation:46,capacity:40300,roof:"retractable",timezone:"America/Denver"},{id:"rays",name:"George M. Steinbrenner Field",team:"Tampa Bay Rays",city:"Tampa",state:"FL",latitude:27.9628,longitude:-82.5062,orientation:316,capacity:11026,roof:"open",timezone:"America/New_York"},{id:"redsox",name:"Fenway Park",team:"Boston Red Sox",city:"Boston",state:"MA",latitude:42.3467,longitude:-71.0972,orientation:52,capacity:37755,roof:"open",timezone:"America/New_York"},{id:"reds",name:"Great American Ball Park",team:"Cincinnati Reds",city:"Cincinnati",state:"OH",latitude:39.0979,longitude:-84.508,orientation:105,capacity:42319,roof:"open",timezone:"America/Chicago"},{id:"rockies",name:"Coors Field",team:"Colorado Rockies",city:"Denver",state:"CO",latitude:39.7559,longitude:-104.9942,orientation:40,capacity:50144,roof:"open",timezone:"America/Denver"},{id:"royals",name:"Kauffman Stadium",team:"Kansas City Royals",city:"Kansas City",state:"MO",latitude:39.0517,longitude:-94.4803,orientation:58,capacity:37903,roof:"open",timezone:"America/Chicago"},{id:"tigers",name:"Comerica Park",team:"Detroit Tigers",city:"Detroit",state:"MI",latitude:42.339,longitude:-83.0485,orientation:145,capacity:41083,roof:"open",timezone:"America/Chicago"},{id:"twins",name:"Target Field",team:"Minnesota Twins",city:"Minneapolis",state:"MN",latitude:44.9817,longitude:-93.2776,orientation:0,capacity:38544,roof:"open",timezone:"America/Chicago"},{id:"whitesox",name:"Guaranteed Rate Field",team:"Chicago White Sox",city:"Chicago",state:"IL",latitude:41.8299,longitude:-87.6338,orientation:90,capacity:40615,roof:"open",timezone:"America/Chicago"},{id:"yankees",name:"Yankee Stadium",team:"New York Yankees",city:"New York",state:"NY",latitude:40.8296,longitude:-73.9262,orientation:55,capacity:46537,roof:"open",timezone:"America/New_York"}];var n=t(2490),o=t(6477);class l{generateKey(e,a){let t=a?JSON.stringify(a):"";return`${e}:${t}`}get(e,a){let t=this.generateKey(e,a),i=this.cache.get(t);return i?Date.now()>i.expiry?(this.cache.delete(t),null):i.data:null}set(e,a,t,i){let r=this.generateKey(e,t),s=i||this.DEFAULT_TTL,n={data:a,timestamp:Date.now(),expiry:Date.now()+s};this.cache.set(r,n)}invalidate(e,a){let t=this.generateKey(e,a);this.cache.delete(t)}invalidatePattern(e){let a=[];this.cache.forEach((t,i)=>{i.includes(e)&&a.push(i)}),a.forEach(e=>this.cache.delete(e))}clear(){this.cache.clear()}cleanup(){let e=Date.now(),a=[];this.cache.forEach((t,i)=>{e>t.expiry&&a.push(i)}),a.forEach(e=>this.cache.delete(e))}getStats(){let e=Date.now(),a=[];return this.cache.forEach((t,i)=>{a.push({key:i,age:e-t.timestamp,ttl:t.expiry-e})}),{size:this.cache.size,entries:a}}constructor(){this.cache=new Map,this.DEFAULT_TTL=3e5}}let c=new l;function d(e,a,t){return async(...i)=>{let r=`${a}:${JSON.stringify(i)}`,s=c.get(r);if(null!==s)return s;try{let a=await e(...i);return c.set(r,a,void 0,t),a}catch(e){throw e}}}setInterval(()=>{c.cleanup()},6e5);let u={maxRetries:3,initialDelay:1e3,maxDelay:1e4,backoffMultiplier:2,retryIf:e=>!!("NetworkError"===e.name||e.message.includes("fetch")||e.response?.status>=500||"ECONNABORTED"===e.code||e.message.includes("timeout")),onRetry:()=>{}};async function m(e,a){let t,i={...u,...a};for(let a=0;a<=i.maxRetries;a++)try{return await e()}catch(r){if(t=r,a===i.maxRetries||!i.retryIf(r))throw r;let e=Math.min(i.initialDelay*Math.pow(i.backoffMultiplier,a),i.maxDelay);i.onRetry(r,a+1),await function(e){return new Promise(a=>setTimeout(a,e))}(e)}throw t}function p(e){return async function(a,t){return m(async()=>{let e=await fetch(a,t);if(e.status>=500)throw Error(`Server error: ${e.status}`);return e},e)}}function h(e){if(!e||"string"!=typeof e||!/^\d{4}-\d{2}-\d{2}$/.test(e))return!1;let a=new Date(e);return a instanceof Date&&!isNaN(a.getTime())}function g(e,a,t){return"number"==typeof e&&!isNaN(e)&&e>=a&&e<=t}function f(e){try{let a=new URL(e);if(!["http:","https:"].includes(a.protocol))throw Error("Invalid protocol");if(!["api.open-meteo.com","statsapi.mlb.com","localhost","127.0.0.1"].some(e=>a.hostname===e||a.hostname.endsWith(`.${e}`)))throw Error("Invalid host");return a.toString()}catch{throw Error("Invalid URL")}}let x={108:"angels",117:"astros",133:"athletics",141:"bluejays",144:"braves",158:"brewers",138:"cardinals",112:"cubs",109:"diamondbacks",119:"dodgers",137:"giants",114:"guardians",136:"mariners",146:"marlins",121:"mets",120:"nationals",110:"orioles",135:"padres",143:"phillies",134:"pirates",140:"rangers",139:"rays",111:"redsox",113:"reds",115:"rockies",118:"royals",116:"tigers",142:"twins",145:"whitesox",147:"yankees"};class v{async getTeamSchedule(e,a,t){try{if(!Number.isInteger(e)||e<100||e>200)throw Error("Invalid team ID");let i=new Date,r=a||i.toISOString().split("T")[0],s=t||new Date(i.getTime()+15552e6).toISOString().split("T")[0];if(a&&!h(a))throw Error("Invalid start date format");if(t&&!h(t))throw Error("Invalid end date format");let n=`${this.baseUrl}/schedule/games/?sportId=1&teamId=${e}&startDate=${r}&endDate=${s}`,o=f(n),l=await this.retryableFetch(o);if(!l.ok)throw Error(`MLB API request failed: ${l.status}`);let c=await l.json(),d=[];return c.dates.forEach(e=>{d.push(...e.games)}),d}catch(e){return console.error("Error fetching team schedule:",e),[]}}getStadiumIdFromTeamId(e){return x[e]||null}getHomeGamesForStadium(e,a){let t=Object.entries(x).find(([a,t])=>t===e)?.[0];if(!t)return console.error(`No team ID found for stadium: ${e}`),[];let i=!1;return a.filter(e=>{let a=e.teams.home.team.id===parseInt(t),r="F"!==e.status.statusCode,s="C"!==e.status.statusCode;return a&&!i&&(i=!0),a&&r&&s&&!0})}constructor(){this.baseUrl="https://statsapi.mlb.com/api/v1",this.retryableFetch=p({maxRetries:3,initialDelay:500,onRetry:(e,a)=>{}}),this.getSchedule=d(async(e,a)=>{let t=new Date,i=e||t.toISOString().split("T")[0],r=a||new Date(t.getTime()+15552e6).toISOString().split("T")[0];if(e&&!h(e))throw Error("Invalid start date format");if(a&&!h(a))throw Error("Invalid end date format");let s=f(`${this.baseUrl}/schedule/games/?sportId=1&startDate=${i}&endDate=${r}`);try{let e=await this.retryableFetch(s);if(!e.ok)throw console.error(`MLB API request failed with status: ${e.status}`),Error(`MLB API request failed: ${e.status}`);let a=await e.json();if(!a||!a.dates)throw console.error("Invalid response from MLB API:",a),Error("Invalid API response structure");let t=[];return a.dates.forEach(e=>{e.games&&Array.isArray(e.games)&&t.push(...e.games)}),t}catch(e){throw console.error("Error fetching MLB schedule:",e),console.error("URL attempted:",s),console.error("Start date:",i,"End date:",r),e}},"mlb-schedule",18e5)}}let y=new v,b="mlb-sun-tracker-preferences",S={load(){try{let e=localStorage.getItem(b);if(e)return JSON.parse(e)}catch(e){console.warn("Failed to load preferences from localStorage:",e)}return{}},save(e){try{let a={...this.load(),...e};localStorage.setItem(b,JSON.stringify(a))}catch(e){console.warn("Failed to save preferences to localStorage:",e)}},update(e,a){let t=this.load();t[e]=a,this.save(t)},clear(){try{localStorage.removeItem(b)}catch(e){console.warn("Failed to clear preferences from localStorage:",e)}},get(e,a){let t=this.load();return void 0!==t[e]?t[e]:a}},w="mlb-sun-tracker-profiles",j=["#FF6B6B","#4ECDC4","#45B7D1","#96CEB4","#FECA57","#6C5CE7","#A29BFE","#FD79A8","#FDCB6E","#6AB04C"],N={loadProfiles(){try{let e=localStorage.getItem(w);if(e)return JSON.parse(e)}catch(e){console.warn("Failed to load profiles from localStorage:",e)}return{profiles:[],activeProfileId:null}},saveProfiles(e){try{localStorage.setItem(w,JSON.stringify(e))}catch(e){console.warn("Failed to save profiles to localStorage:",e)}},createProfile(e,a){let t={id:`profile-${Date.now()}-${Math.random().toString(36).substr(2,9)}`,name:e,email:a,avatarColor:j[Math.floor(Math.random()*j.length)],createdAt:new Date().toISOString(),lastActive:new Date().toISOString(),preferences:{},favorites:{stadiums:[],games:[]},stats:{stadiumsViewed:[],totalSearches:0}},i=this.loadProfiles();return i.profiles.push(t),i.activeProfileId=t.id,this.saveProfiles(i),t},getActiveProfile(){let e=this.loadProfiles();return e.activeProfileId&&e.profiles.find(a=>a.id===e.activeProfileId)||null},setActiveProfile(e){let a=this.loadProfiles();if(a.profiles.find(a=>a.id===e)){a.activeProfileId=e;let t=a.profiles.find(a=>a.id===e);t&&(t.lastActive=new Date().toISOString()),this.saveProfiles(a)}},updateProfile(e,a){let t=this.loadProfiles(),i=t.profiles.findIndex(a=>a.id===e);-1!==i&&(t.profiles[i]={...t.profiles[i],...a,id:e},this.saveProfiles(t))},deleteProfile(e){let a=this.loadProfiles();a.profiles=a.profiles.filter(a=>a.id!==e),a.activeProfileId===e&&(a.activeProfileId=a.profiles.length>0?a.profiles[0].id:null),this.saveProfiles(a)},addFavoriteStadium(e,a){let t=this.loadProfiles(),i=t.profiles.find(a=>a.id===e);i&&!i.favorites.stadiums.includes(a)&&(i.favorites.stadiums.push(a),this.saveProfiles(t))},removeFavoriteStadium(e,a){let t=this.loadProfiles(),i=t.profiles.find(a=>a.id===e);i&&(i.favorites.stadiums=i.favorites.stadiums.filter(e=>e!==a),this.saveProfiles(t))},updateStats(e,a){let t=this.loadProfiles(),i=t.profiles.find(a=>a.id===e);i&&(i.stats.stadiumsViewed.includes(a)||i.stats.stadiumsViewed.push(a),i.stats.totalSearches+=1,i.stats.lastSearch={stadiumId:a,date:new Date().toISOString()},this.saveProfiles(t))},exportProfile(e){let a=this.loadProfiles().profiles.find(a=>a.id===e);return a?JSON.stringify(a,null,2):null},importProfile(e){try{let a=JSON.parse(e);a.id=`profile-${Date.now()}-${Math.random().toString(36).substr(2,9)}`,a.createdAt=new Date().toISOString(),a.lastActive=new Date().toISOString();let t=this.loadProfiles();return t.profiles.push(a),this.saveProfiles(t),a}catch(e){return console.error("Failed to import profile:",e),null}},getAllProfiles(){return this.loadProfiles().profiles}},C=(0,r.createContext)(void 0),k=()=>{let e=(0,r.useContext)(C);if(!e)throw Error("useUserProfile must be used within a UserProfileProvider");return e},D=({children:e})=>{let[a,t]=(0,r.useState)(null),[s,n]=(0,r.useState)([]),[o,l]=(0,r.useState)(!0);(0,r.useEffect)(()=>{c()},[]),(0,r.useEffect)(()=>{a&&S.save(a.preferences)},[a]);let c=()=>{l(!0);let e=N.loadProfiles();n(e.profiles);let a=N.getActiveProfile();if(a)t(a);else if(0===e.profiles.length){let e=N.createProfile("Guest");t(e),n([e])}else N.setActiveProfile(e.profiles[0].id),t(e.profiles[0]);l(!1)},d=e=>{N.setActiveProfile(e);let a=N.getActiveProfile();a&&(t(a),S.save(a.preferences))},u=e=>{if(a){N.updateProfile(a.id,e);let i=N.getActiveProfile();i&&t(i),n(N.getAllProfiles())}};return(0,i.jsx)(C.Provider,{value:{currentProfile:a,allProfiles:s,isLoading:o,createProfile:(e,a)=>{t(N.createProfile(e,a)),n(N.getAllProfiles())},switchProfile:d,updateCurrentProfile:u,deleteProfile:e=>{N.deleteProfile(e),n(N.getAllProfiles()),a?.id===e&&t(N.getActiveProfile())},updatePreferences:e=>{a&&u({preferences:{...a.preferences,...e}})},addFavoriteStadium:e=>{if(a){N.addFavoriteStadium(a.id,e);let i=N.getActiveProfile();i&&t(i)}},removeFavoriteStadium:e=>{if(a){N.removeFavoriteStadium(a.id,e);let i=N.getActiveProfile();i&&t(i)}},isFavoriteStadium:e=>a?.favorites.stadiums.includes(e)||!1,trackStadiumView:e=>{if(a){N.updateStats(a.id,e);let i=N.getActiveProfile();i&&t(i)}},exportProfile:()=>a?N.exportProfile(a.id):null,importProfile:e=>{let a=N.importProfile(e);return!!a&&(n(N.getAllProfiles()),d(a.id),!0)}},children:e})};t(525);let P=({content:e,children:a,position:t="top",delay:s=300,className:n=""})=>{let[o,l]=(0,r.useState)(!1),[c,d]=(0,r.useState)(t),u=(0,r.useRef)(null),m=(0,r.useRef)(null),p=(0,r.useRef)(null),h=()=>{p.current&&clearTimeout(p.current),p.current=setTimeout(()=>{l(!0),f()},s)},g=()=>{p.current&&clearTimeout(p.current),l(!1)},f=()=>{if(!u.current||!m.current)return;let e=u.current.getBoundingClientRect(),a=m.current.getBoundingClientRect(),i=window.innerWidth,r=window.innerHeight,s=t;switch(t){case"top":e.top-a.height<0&&(s="bottom");break;case"bottom":e.bottom+a.height>r&&(s="top");break;case"left":e.left-a.width<0&&(s="right");break;case"right":e.right+a.width>i&&(s="left")}d(s)};return(0,r.useEffect)(()=>()=>{p.current&&clearTimeout(p.current)},[]),(0,i.jsxs)("div",{className:`tooltip-container ${n}`,ref:u,onMouseEnter:h,onMouseLeave:g,onFocus:h,onBlur:g,onKeyDown:e=>{"Escape"===e.key&&g()},"aria-describedby":o?"tooltip":void 0,children:[a,o&&(0,i.jsxs)("div",{ref:m,id:"tooltip",className:`tooltip tooltip-${c}`,role:"tooltip","aria-live":"polite",children:[e,(0,i.jsx)("div",{className:`tooltip-arrow tooltip-arrow-${c}`})]})]})};t(1008);let E=({stadiumId:e,stadiumName:a,size:t="medium",showLabel:s=!1})=>{let{isFavoriteStadium:n,addFavoriteStadium:o,removeFavoriteStadium:l}=k(),[c,d]=(0,r.useState)(!1),u=n(e);return(0,i.jsx)(P,{content:u?`Remove ${a} from favorites`:`Add ${a} to favorites`,children:(0,i.jsxs)("button",{className:`favorite-button ${{small:"favorite-btn-small",medium:"favorite-btn-medium",large:"favorite-btn-large"}[t]} ${u?"is-favorite":""} ${c?"animating":""}`,onClick:a=>{a.stopPropagation(),d(!0),setTimeout(()=>d(!1),600),u?l(e):o(e)},"aria-label":u?`Remove ${a} from favorites`:`Add ${a} to favorites`,"aria-pressed":u,children:[(0,i.jsx)("span",{className:"favorite-icon","aria-hidden":"true",children:u?"★":"☆"}),s&&(0,i.jsx)("span",{className:"favorite-label",children:u?"Favorited":"Favorite"})]})})};var F=t(7031),A=t(8794);let T=(e,a,t=!1)=>{try{let i="string"==typeof e?(0,A.H)(e):e;return(0,F.qD)(i,a,t?"MMM d, h:mm a zzz":"h:mm a zzz")}catch(a){return console.error("Error formatting game time:",a),("string"==typeof e?new Date(e):e).toLocaleString()}},L=()=>{let e=(0,r.useRef)(!0),a=(0,r.useRef)(0),t=(0,r.useCallback)(()=>"ontouchstart"in window&&/iPhone|iPad|iPod/.test(navigator.userAgent)&&"vibrate"in navigator,[]);(0,r.useEffect)(()=>{let a=window.matchMedia("(prefers-reduced-motion: reduce)");e.current=!a.matches;let t=a=>{e.current=!a.matches};return a.addEventListener("change",t),()=>a.removeEventListener("change",t)},[]);let i=(0,r.useCallback)(t=>{let i=Date.now();if(e.current&&!(i-a.current<50)&&(a.current=i,"vibrate"in navigator&&navigator.vibrate))try{navigator.vibrate(t)}catch(e){}},[]),s=(0,r.useCallback)(a=>{e.current=a},[]),n=(0,r.useCallback)(()=>e.current&&"vibrate"in navigator,[]);return{...{light:()=>i(5),medium:()=>i(10),heavy:()=>i(20),tap:()=>i(3),doubleTap:()=>i([3,50,3]),longPress:()=>i(25),success:()=>i([5,50,5,50,5]),warning:()=>i([10,30,10]),error:()=>i([20,50,20,50,20]),swipe:()=>i(8),pageChange:()=>i([5,30,5]),tabSwitch:()=>i(7),keyPress:()=>i(2),toggle:()=>i(10),slider:()=>i(4),sectionSelect:()=>i([5,20,5]),favoriteAdd:()=>i([10,30,10,30,10]),favoriteRemove:()=>i([5,20,5]),custom:e=>i(e)},setEnabled:s,isEnabled:n,hasIOSHaptics:t()}},B=JSON.parse('{"app":{"title":"The Shadium","subtitle":"Find out which seats will be in the sun during baseball games","loading":"Loading...","error":"Error","retry":"Retry","cancel":"Cancel","create":"Create","save":"Save","delete":"Delete","export":"Export","import":"Import","edit":"Edit","close":"Close","clear":"Clear","clearAll":"Clear All","apply":"Apply","reset":"Reset","confirm":"Confirm","yes":"Yes","no":"No","any":"Any","none":"None","required":"Required","optional":"Optional","language":"Language","selectLanguage":"Select language"},"navigation":{"breadcrumb":"Navigation breadcrumb","currentPage":"Current page","home":"Home","back":"Back","next":"Next","previous":"Previous","sunTracker":"Sun Tracker","smartItinerary":"Smart Itinerary"},"breadcrumb":{"label":"Current selection breadcrumb","selectStadium":"Select Stadium","backToStadium":"Back to stadium selection","selectDifferentStadium":"Select a different stadium","backToGame":"Back to game selection","selectDifferentGame":"Select a different game or time","customTime":"Custom Time"},"stadium":{"select":"Select Stadium","selectStadium":"Select a stadium","selectedStadium":"Selected stadium","noStadium":"No stadium selected","stadiumName":"Stadium Name","location":"Location","capacity":"Capacity","opened":"Opened","surface":"Surface","roof":"Roof","roofTypes":{"open":"Open","fixed":"Fixed","retractable":"Retractable"},"totalStadiums":"Total Stadiums","stadiumsViewed":"stadiums viewed","favorites":"favorites"},"game":{"selectGame":"Select Game","selectDate":"Select Date","noGames":"No games found","upcomingGames":"Upcoming Games","customDateTime":"Custom Date & Time","gameTime":"Game Time","gameDate":"Game Date","matchup":"Matchup","venue":"Venue","gameDetails":"Game Details","homeTeam":"Home Team","awayTeam":"Away Team","firstPitch":"First Pitch","status":"Status","scheduled":"Scheduled","inProgress":"In Progress","final":"Final","postponed":"Postponed","cancelled":"Cancelled","at":"at"},"gameSelector":{"title":"Select Game or Time","realGames":"Real Games","customTime":"Custom Time","stadium":"Stadium","chooseStadium":"Choose a stadium...","selectStadium":"Select MLB stadium","upcomingGames":"Upcoming Home Games","loadingGames":"Loading games...","chooseGame":"Choose a game...","noGamesFound":"No upcoming games found","selectGame":"Select upcoming game","noGamesForStadium":"No upcoming home games found for this stadium.","tryCustomTime":"Try selecting \\"Custom Time\\" to analyze any date and time.","foundGames":"Found {count} upcoming home games","selectStadiumPrompt":"Please select a stadium to see upcoming games.","date":"Date","timeLocal":"Time (local)","selectDate":"Select date for custom time analysis","selectTime":"Select time for custom time analysis","applyCustomTime":"Apply Custom Time","customTimeInfo":"Use custom time to analyze sun exposure for any date and time, even during off-season."},"sun":{"position":"Sun Position","information":"Sun Information","condition":"Condition","direction":"Direction","elevation":"Elevation","azimuth":"Azimuth","altitude":"Altitude","exposure":"Sun Exposure","sunExposure":"Sun Exposure","inSun":"In Sun","inShade":"In Shade","partialSun":"Partial Sun","description":{"daytime":"Daytime","nighttime":"Nighttime","sunrise":"Sunrise","sunset":"Sunset","twilight":"Twilight","dawn":"Dawn","dusk":"Dusk"},"compass":{"north":"North","northeast":"Northeast","east":"East","southeast":"Southeast","south":"South","southwest":"Southwest","west":"West","northwest":"Northwest"},"preferences":{"title":"Sun Preference","description":"Filter sections based on how much direct sunlight they receive during the game","any":"Any (no preference)","avoid":"Avoid sun (≤20% exposure)","prefer":"Prefer sun (≥60% exposure)","custom":"Custom range","minExposure":"Min exposure","maxExposure":"Max exposure","percentage":"%"}},"weather":{"forecast":"Weather Forecast","conditions":{"clear":"Clear","cloudy":"Cloudy","partlyCloudy":"Partly Cloudy","overcast":"Overcast","rain":"Rain","snow":"Snow","thunderstorm":"Thunderstorm","fog":"Fog","mist":"Mist","drizzle":"Drizzle"},"temperature":"Temperature","humidity":"Humidity","windSpeed":"Wind Speed","windDirection":"Wind Direction","cloudCover":"Cloud Cover","precipitation":"Precipitation","precipitationChance":"Precipitation Chance","uvIndex":"UV Index","visibility":{"excellent":"Excellent","good":"Good","poor":"Poor","blocked":"Blocked"},"pressure":"Pressure","feelsLike":"Feels Like","loading":"Loading weather data...","error":"Unable to load weather forecast. Sun calculations will continue without weather data.","impact":"Weather Impact","forGameTime":"For game time","wind":"Wind","rainChance":"Rain Chance","sunVisibility":"Sun Visibility","sunExposureAdjustment":"{percentage}% of normal sun exposure","gameDayForecast":"Game Day Forecast","uvLevels":{"low":"Low","moderate":"Moderate","high":"High","veryHigh":"Very High","extreme":"Extreme"}},"sections":{"title":"Stadium Sections","list":"Section List","search":"Search sections","searchPlaceholder":"Search by section name or number...","filter":"Filter","sort":"Sort","sortBy":"Sort by","sortOptions":{"name":"Name","sunExposure":"Sun Exposure","level":"Level","price":"Price"},"totalSections":"Total Sections","matchingFilters":"Matching Filters","noResults":"No sections match your criteria","clearFilters":"Clear filters to see all sections","section":"Section","sectionInfo":"Section Information","level":"Level","levels":{"field":"Field Level","lower":"Lower Bowl","club":"Club Level","upper":"Upper Deck","suite":"Suites"},"coverage":"Coverage","covered":"Covered","uncovered":"Uncovered","price":"Price","priceRange":"Price Range","priceRanges":{"value":"Value","moderate":"Moderate","premium":"Premium","luxury":"Luxury"},"calculating":"Calculating sun exposure for all sections...","listLabel":"Stadium sections list","summaryStats":{"sunny":"{count} sunny","shaded":"{count} shaded","searchResults":"{shown} of {total} shown"},"searchLabel":"Search stadium sections","clearSearch":"Clear search","sortingOptions":"Section sorting options","sortBySun":"Sort by sun exposure","sortByName":"Sort by section name","sortByLevel":"Sort by seating level","sortByPrice":"Sort by price range","descending":"descending","ascending":"ascending","sortLabels":{"sun":"Sun","name":"Name","level":"Level","price":"Price"},"noSearchResults":"No sections found matching \\"{term}\\".","tryDifferentSearch":"Try a different search term or clear the search to see all sections.","noFilterResults":"No sections match your filter criteria.","tryAdjustFilters":"Try adjusting your filters to see more results.","coveredSection":"Covered section","levelSeating":"level seating","sunExposure":"sun exposure","sunExposureTooltip":"The percentage of time this section receives direct sunlight during the game, considering weather conditions","weatherAdjusted":"Weather conditions are reducing the sun exposure for this section","weatherAdjustedLabel":"Weather-adjusted sun exposure","angleRangeTooltip":"The compass direction range this section faces (0\xb0 = North, 90\xb0 = East, 180\xb0 = South, 270\xb0 = West). This helps determine sun exposure timing.","angleRangeLabel":"Angle range from {start} to {end} degrees","rowCount":"Approximately {count} rows","rows":"rows"},"filter":{"title":"Section Filter","options":"Filtering options","seatingLevel":{"title":"Seating Level","description":"Filter by the level of seating in the stadium (field level closest to the action, upper deck highest up)"},"coverage":{"title":"Coverage","description":"Filter by whether sections are covered by a roof or overhang, providing protection from sun and weather","any":"Any","covered":"Covered sections only","uncovered":"Uncovered sections only"},"priceRange":{"title":"Price Range","description":"Filter by the typical price range for tickets in different sections (value = budget-friendly, luxury = premium pricing)"}},"recommendations":{"title":"Smart Seating Recommendations","nightGame":{"title":"Night Game","description":"Since this is a night game, sun exposure won\'t be a concern for any seats. Focus on other factors like sightlines and amenities."},"coveredStadium":{"title":"Covered Stadium","description":"This stadium has a fixed roof, so all seats are protected from direct sunlight and weather."},"avoidSun":{"title":"To Avoid Sun","firstBaseSide":"Choose seats on the first base side or in shaded sections.","thirdBaseSide":"Choose seats on the third base side or in shaded sections.","retractableRoof":"The retractable roof may also provide coverage."},"sunLovers":{"title":"For Sun Lovers","rightField":"Seats in right field will likely have the most sun exposure.","leftField":"Seats in left field will likely have the most sun exposure."},"highSun":{"title":"High Sun","description":"With the sun high in the sky, upper deck seats may provide more shade from overhangs."},"weather":{"title":"Weather Considerations"}},"profile":{"menu":"Profile Menu","loggedInAs":"Logged in as","current":"Current Profile","switchProfile":"Switch Profile","createNew":"Create New Profile","createProfile":"Create Profile","profileName":"Profile Name","email":"Email","emailOptional":"Email (Optional)","profileNamePlaceholder":"Enter profile name","emailPlaceholder":"Enter email address","profileNameHelp":"This will be displayed as your profile name","emailHelp":"Used for profile identification and data export","profileNameRequired":"Profile name is required","createSuccess":"Profile created successfully","deleteProfile":"Delete Profile","deleteConfirm":"Are you sure you want to delete the profile \\"{name}\\"?","exportProfile":"Export Profile","importProfile":"Import Profile","importError":"Failed to import profile. Please check the file format.","stats":{"stadiumsViewed":"stadiums viewed","favorites":"favorites","gamesAnalyzed":"games analyzed","totalSessions":"total sessions"}},"sharing":{"share":"Share","shareButton":"Share Button","shareMenu":"Share Menu","copyLink":"Copy Link","linkCopied":"Link copied to clipboard!","shareVia":"Share via","shareTitle":"Check out The Shadium - Find the best shaded seats at {stadium}","shareDescription":"Discover which seats will be in the sun at {stadium} on {date}. The Shadium helps you find the perfect seats!","email":"Email","twitter":"Twitter","facebook":"Facebook","whatsapp":"WhatsApp","linkedin":"LinkedIn","reddit":"Reddit"},"favorites":{"add":"Add to Favorites","remove":"Remove from Favorites","addedToFavorites":"Added to favorites","removedFromFavorites":"Removed from favorites","yourFavorites":"Your Favorites","noFavorites":"No favorites yet"},"tooltips":{"sunDirection":"The compass direction where the sun is located (0\xb0 = North, 90\xb0 = East, 180\xb0 = South, 270\xb0 = West)","sunElevation":"The sun\'s angle above the horizon (0\xb0 = horizon, 90\xb0 = directly overhead). Negative values indicate the sun is below the horizon.","sunExposure":"Percentage of time this section receives direct sunlight during the game","sectionLevel":"The level of seating in the stadium","coverage":"Whether this section is covered by a roof or overhang","priceRange":"Typical price range for tickets in this section"},"emptyStates":{"noStadium":{"title":"Choose Your Stadium","description":"Choose from 30 MLB stadiums to analyze sun exposure patterns","message":"Select an MLB stadium to get started with sun exposure analysis."},"noGame":{"title":"Select Game Time","description":"Pick a real game or set any custom date and time","message":"Choose a game or set a custom time to see sun analysis."},"noSections":{"title":"No Sections Found","description":"Try adjusting your filters or search criteria","message":"Try adjusting your filters to see more seating options."},"noResults":{"title":"No Results","description":"No sections match your current criteria"},"loading":{"title":"Calculating...","message":"Analyzing sun exposure for all stadium sections."},"error":{"title":"Something went wrong","message":"Please try again."}},"errors":{"generic":"Something went wrong. Please try again.","network":"Network error. Please check your connection.","notFound":"The requested resource was not found.","timeout":"The request timed out. Please try again.","validation":"Please check your input and try again.","stadiumLoad":"Failed to load stadium data.","gameLoad":"Failed to load game data.","weatherLoad":"Failed to load weather data.","sunCalculation":"Failed to calculate sun exposure.","profileCreate":"Failed to create profile.","profileDelete":"Failed to delete profile.","profileImport":"Failed to import profile.","profileExport":"Failed to export profile.","webglNotSupported":"WebGL is not supported in this browser.","threejsLoad":"Failed to load 3D graphics.","containerNotFound":"Container element not found."},"accessibility":{"skipToContent":"Skip to main content","skipToNavigation":"Skip to navigation","menu":"Menu","menuExpanded":"Menu expanded","menuCollapsed":"Menu collapsed","searchResults":"Search results","loading":"Loading","error":"Error","required":"Required field","optional":"Optional field","clickToExpand":"Click to expand","clickToCollapse":"Click to collapse","pressEnterToActivate":"Press Enter to activate","pressSpaceToActivate":"Press Space to activate","useArrowKeysToNavigate":"Use arrow keys to navigate","screenReaderOnly":"Screen reader only content"},"mlb":{"teams":{"angels":"Los Angeles Angels","astros":"Houston Astros","athletics":"Oakland Athletics","bluejays":"Toronto Blue Jays","braves":"Atlanta Braves","brewers":"Milwaukee Brewers","cardinals":"St. Louis Cardinals","cubs":"Chicago Cubs","diamondbacks":"Arizona Diamondbacks","dodgers":"Los Angeles Dodgers","giants":"San Francisco Giants","guardians":"Cleveland Guardians","mariners":"Seattle Mariners","marlins":"Miami Marlins","mets":"New York Mets","nationals":"Washington Nationals","orioles":"Baltimore Orioles","padres":"San Diego Padres","phillies":"Philadelphia Phillies","pirates":"Pittsburgh Pirates","rangers":"Texas Rangers","rays":"Tampa Bay Rays","redsox":"Boston Red Sox","reds":"Cincinnati Reds","rockies":"Colorado Rockies","royals":"Kansas City Royals","tigers":"Detroit Tigers","twins":"Minnesota Twins","whitesox":"Chicago White Sox","yankees":"New York Yankees"},"stadiums":{"angels":"Angel Stadium","astros":"Minute Maid Park","athletics":"Sutter Health Park","bluejays":"Rogers Centre","braves":"Truist Park","brewers":"American Family Field","cardinals":"Busch Stadium","cubs":"Wrigley Field","diamondbacks":"Chase Field","dodgers":"Dodger Stadium","giants":"Oracle Park","guardians":"Progressive Field","mariners":"T-Mobile Park","marlins":"loanDepot park","mets":"Citi Field","nationals":"Nationals Park","orioles":"Oriole Park at Camden Yards","padres":"Petco Park","phillies":"Citizens Bank Park","pirates":"PNC Park","rangers":"Globe Life Field","rays":"Tropicana Field","redsox":"Fenway Park","reds":"Great American Ball Park","rockies":"Coors Field","royals":"Kauffman Stadium","tigers":"Comerica Park","twins":"Target Field","whitesox":"Guaranteed Rate Field","yankees":"Yankee Stadium"}},"footer":{"disclaimer":"Sun calculations are approximate and may vary based on stadium architecture and weather conditions.","weatherCredit":"Weather data provided by","openMeteo":"Open-Meteo.com","copyright":"\xa9 2024 The Shadium"},"offline":{"message":"You\'re offline - Using cached data","backOnline":"Back online!","syncing":"Syncing your data...","cacheUsage":"Cache: {percentage}%","dataAvailable":"Stadium data available offline","willSyncWhenOnline":"Changes will sync when you\'re back online"}}'),z={en:B,es:JSON.parse('{"app":{"title":"The Shadium","subtitle":"Descubre qu\xe9 asientos estar\xe1n al sol durante los juegos de b\xe9isbol","loading":"Cargando...","error":"Error","retry":"Reintentar","cancel":"Cancelar","create":"Crear","save":"Guardar","delete":"Eliminar","export":"Exportar","import":"Importar","edit":"Editar","close":"Cerrar","clear":"Limpiar","clearAll":"Limpiar Todo","apply":"Aplicar","reset":"Restablecer","confirm":"Confirmar","yes":"S\xed","no":"No","any":"Cualquiera","none":"Ninguno","required":"Requerido","optional":"Opcional","language":"Idioma","selectLanguage":"Seleccionar idioma"},"navigation":{"breadcrumb":"Navegaci\xf3n breadcrumb","currentPage":"P\xe1gina actual","home":"Inicio","back":"Atr\xe1s","next":"Siguiente","previous":"Anterior","sunTracker":"Rastreador de Sol","smartItinerary":"Itinerario Inteligente"},"breadcrumb":{"label":"Navegaci\xf3n breadcrumb de selecci\xf3n actual","selectStadium":"Seleccionar Estadio","backToStadium":"Volver a la selecci\xf3n de estadio","selectDifferentStadium":"Seleccionar un estadio diferente","backToGame":"Volver a la selecci\xf3n de juego","selectDifferentGame":"Seleccionar un juego o hora diferente","customTime":"Hora Personalizada"},"stadium":{"select":"Seleccionar Estadio","selectStadium":"Selecciona un estadio","selectedStadium":"Estadio seleccionado","noStadium":"No hay estadio seleccionado","stadiumName":"Nombre del Estadio","location":"Ubicaci\xf3n","capacity":"Capacidad","opened":"Inaugurado","surface":"Superficie","roof":"Techo","roofTypes":{"open":"Abierto","fixed":"Fijo","retractable":"Retr\xe1ctil"},"totalStadiums":"Estadios Totales","stadiumsViewed":"estadios vistos","favorites":"favoritos"},"game":{"selectGame":"Seleccionar Juego","selectDate":"Seleccionar Fecha","noGames":"No se encontraron juegos","upcomingGames":"Pr\xf3ximos Juegos","customDateTime":"Fecha y Hora Personalizada","gameTime":"Hora del Juego","gameDate":"Fecha del Juego","matchup":"Enfrentamiento","venue":"Estadio","gameDetails":"Detalles del Juego","homeTeam":"Equipo Local","awayTeam":"Equipo Visitante","firstPitch":"Primer Lanzamiento","status":"Estado","scheduled":"Programado","inProgress":"En Progreso","final":"Final","postponed":"Pospuesto","cancelled":"Cancelado","at":"a las"},"gameSelector":{"title":"Seleccionar Juego o Hora","realGames":"Juegos Reales","customTime":"Hora Personalizada","stadium":"Estadio","chooseStadium":"Elige un estadio...","selectStadium":"Seleccionar estadio MLB","upcomingGames":"Pr\xf3ximos Juegos en Casa","loadingGames":"Cargando juegos...","chooseGame":"Elige un juego...","noGamesFound":"No se encontraron pr\xf3ximos juegos","selectGame":"Seleccionar pr\xf3ximo juego","noGamesForStadium":"No se encontraron pr\xf3ximos juegos en casa para este estadio.","tryCustomTime":"Intenta seleccionar \\"Hora Personalizada\\" para analizar cualquier fecha y hora.","foundGames":"Se encontraron {count} pr\xf3ximos juegos en casa","selectStadiumPrompt":"Por favor selecciona un estadio para ver los pr\xf3ximos juegos.","date":"Fecha","timeLocal":"Hora (local)","selectDate":"Seleccionar fecha para an\xe1lisis de hora personalizada","selectTime":"Seleccionar hora para an\xe1lisis de hora personalizada","applyCustomTime":"Aplicar Hora Personalizada","customTimeInfo":"Usa hora personalizada para analizar la exposici\xf3n al sol en cualquier fecha y hora, incluso durante la temporada baja."},"sun":{"position":"Posici\xf3n del Sol","information":"Informaci\xf3n del Sol","condition":"Condici\xf3n","direction":"Direcci\xf3n","elevation":"Elevaci\xf3n","azimuth":"Azimut","altitude":"Altitud","exposure":"Exposici\xf3n al Sol","sunExposure":"Exposici\xf3n al Sol","inSun":"Al Sol","inShade":"En Sombra","partialSun":"Sol Parcial","description":{"daytime":"D\xeda","nighttime":"Noche","sunrise":"Amanecer","sunset":"Atardecer","twilight":"Crep\xfasculo","dawn":"Alba","dusk":"Anochecer"},"compass":{"north":"Norte","northeast":"Noreste","east":"Este","southeast":"Sureste","south":"Sur","southwest":"Suroeste","west":"Oeste","northwest":"Noroeste"},"preferences":{"title":"Preferencia de Sol","description":"Filtra secciones bas\xe1ndose en cu\xe1nta luz solar directa reciben durante el juego","any":"Cualquiera (sin preferencia)","avoid":"Evitar sol (≤20% exposici\xf3n)","prefer":"Preferir sol (≥60% exposici\xf3n)","custom":"Rango personalizado","minExposure":"Exposici\xf3n m\xednima","maxExposure":"Exposici\xf3n m\xe1xima","percentage":"%"}},"weather":{"forecast":"Pron\xf3stico del Tiempo","conditions":{"clear":"Despejado","cloudy":"Nublado","partlyCloudy":"Parcialmente Nublado","overcast":"Nublado","rain":"Lluvia","snow":"Nieve","thunderstorm":"Tormenta","fog":"Niebla","mist":"Neblina","drizzle":"Llovizna"},"temperature":"Temperatura","humidity":"Humedad","windSpeed":"Velocidad del Viento","windDirection":"Direcci\xf3n del Viento","cloudCover":"Cobertura de Nubes","precipitation":"Precipitaci\xf3n","precipitationChance":"Probabilidad de Precipitaci\xf3n","uvIndex":"\xcdndice UV","visibility":{"excellent":"Excelente","good":"Buena","poor":"Pobre","blocked":"Bloqueada"},"pressure":"Presi\xf3n","feelsLike":"Sensaci\xf3n T\xe9rmica","loading":"Cargando datos meteorol\xf3gicos...","error":"No se pudo cargar el pron\xf3stico del tiempo. Los c\xe1lculos del sol continuar\xe1n sin datos meteorol\xf3gicos.","impact":"Impacto del Clima","forGameTime":"Para la hora del juego","wind":"Viento","rainChance":"Probabilidad de Lluvia","sunVisibility":"Visibilidad del Sol","sunExposureAdjustment":"{percentage}% de la exposici\xf3n solar normal","gameDayForecast":"Pron\xf3stico del D\xeda del Juego","uvLevels":{"low":"Bajo","moderate":"Moderado","high":"Alto","veryHigh":"Muy Alto","extreme":"Extremo"}},"sections":{"title":"Secciones del Estadio","list":"Lista de Secciones","search":"Buscar secciones","searchPlaceholder":"Buscar por nombre o n\xfamero de secci\xf3n...","filter":"Filtrar","sort":"Ordenar","sortBy":"Ordenar por","sortOptions":{"name":"Nombre","sunExposure":"Exposici\xf3n al Sol","level":"Nivel","price":"Precio"},"totalSections":"Secciones Totales","matchingFilters":"Coinciden con Filtros","noResults":"No hay secciones que coincidan con sus criterios","clearFilters":"Limpie los filtros para ver todas las secciones","section":"Secci\xf3n","sectionInfo":"Informaci\xf3n de la Secci\xf3n","level":"Nivel","levels":{"field":"Nivel del Campo","lower":"Nivel Inferior","club":"Nivel Club","upper":"Nivel Superior","suite":"Suites"},"coverage":"Cobertura","covered":"Cubierto","uncovered":"Descubierto","price":"Precio","priceRange":"Rango de Precios","priceRanges":{"value":"Econ\xf3mico","moderate":"Moderado","premium":"Premium","luxury":"Lujo"},"calculating":"Calculando exposici\xf3n al sol para todas las secciones...","listLabel":"Lista de secciones del estadio","summaryStats":{"sunny":"{count} soleado","shaded":"{count} sombreado","searchResults":"{shown} de {total} mostrados"},"searchLabel":"Buscar secciones del estadio","clearSearch":"Limpiar b\xfasqueda","sortingOptions":"Opciones de ordenaci\xf3n de secciones","sortBySun":"Ordenar por exposici\xf3n al sol","sortByName":"Ordenar por nombre de secci\xf3n","sortByLevel":"Ordenar por nivel de asientos","sortByPrice":"Ordenar por rango de precios","descending":"descendente","ascending":"ascendente","sortLabels":{"sun":"Sol","name":"Nombre","level":"Nivel","price":"Precio"},"noSearchResults":"No se encontraron secciones que coincidan con \\"{term}\\".","tryDifferentSearch":"Intente con un t\xe9rmino de b\xfasqueda diferente o limpie la b\xfasqueda para ver todas las secciones.","noFilterResults":"No hay secciones que coincidan con sus criterios de filtro.","tryAdjustFilters":"Intente ajustar sus filtros para ver m\xe1s resultados.","coveredSection":"Secci\xf3n cubierta","levelSeating":"asientos de nivel","sunExposure":"exposici\xf3n al sol","sunExposureTooltip":"El porcentaje de tiempo que esta secci\xf3n recibe luz solar directa durante el juego, considerando las condiciones clim\xe1ticas","weatherAdjusted":"Las condiciones clim\xe1ticas est\xe1n reduciendo la exposici\xf3n al sol para esta secci\xf3n","weatherAdjustedLabel":"Exposici\xf3n al sol ajustada por el clima","angleRangeTooltip":"El rango de direcci\xf3n de br\xfajula que enfrenta esta secci\xf3n (0\xb0 = Norte, 90\xb0 = Este, 180\xb0 = Sur, 270\xb0 = Oeste). Esto ayuda a determinar el momento de la exposici\xf3n al sol.","angleRangeLabel":"Rango de \xe1ngulo de {start} a {end} grados","rowCount":"Aproximadamente {count} filas","rows":"filas"},"filter":{"title":"Filtro de Secciones","options":"Opciones de filtrado","seatingLevel":{"title":"Nivel de Asientos","description":"Filtra por el nivel de asientos en el estadio (nivel del campo m\xe1s cerca de la acci\xf3n, nivel superior m\xe1s alto)"},"coverage":{"title":"Cobertura","description":"Filtra por si las secciones est\xe1n cubiertas por un techo o voladizo, proporcionando protecci\xf3n del sol y el clima","any":"Cualquiera","covered":"Solo secciones cubiertas","uncovered":"Solo secciones descubiertas"},"priceRange":{"title":"Rango de Precios","description":"Filtra por el rango de precios t\xedpico para boletos en diferentes secciones (econ\xf3mico = asequible, lujo = precios premium)"}},"recommendations":{"title":"Recomendaciones Inteligentes de Asientos","nightGame":{"title":"Juego Nocturno","description":"Como este es un juego nocturno, la exposici\xf3n al sol no ser\xe1 una preocupaci\xf3n para ning\xfan asiento. Enf\xf3cate en otros factores como las l\xedneas de visi\xf3n y las comodidades."},"coveredStadium":{"title":"Estadio Cubierto","description":"Este estadio tiene un techo fijo, por lo que todos los asientos est\xe1n protegidos de la luz solar directa y el clima."},"avoidSun":{"title":"Para Evitar el Sol","firstBaseSide":"Elige asientos en el lado de la primera base o en secciones sombreadas.","thirdBaseSide":"Elige asientos en el lado de la tercera base o en secciones sombreadas.","retractableRoof":"El techo retr\xe1ctil tambi\xe9n puede proporcionar cobertura."},"sunLovers":{"title":"Para Amantes del Sol","rightField":"Los asientos en el campo derecho probablemente tendr\xe1n la mayor exposici\xf3n al sol.","leftField":"Los asientos en el campo izquierdo probablemente tendr\xe1n la mayor exposici\xf3n al sol."},"highSun":{"title":"Sol Alto","description":"Con el sol alto en el cielo, los asientos del nivel superior pueden proporcionar m\xe1s sombra de los voladizos."},"weather":{"title":"Consideraciones Meteorol\xf3gicas"}},"profile":{"menu":"Men\xfa de Perfil","loggedInAs":"Conectado como","current":"Perfil Actual","switchProfile":"Cambiar Perfil","createNew":"Crear Nuevo Perfil","createProfile":"Crear Perfil","profileName":"Nombre del Perfil","email":"Correo Electr\xf3nico","emailOptional":"Correo Electr\xf3nico (Opcional)","profileNamePlaceholder":"Ingresa nombre del perfil","emailPlaceholder":"Ingresa direcci\xf3n de correo electr\xf3nico","profileNameHelp":"Esto se mostrar\xe1 como el nombre de tu perfil","emailHelp":"Usado para identificaci\xf3n del perfil y exportaci\xf3n de datos","profileNameRequired":"El nombre del perfil es requerido","createSuccess":"Perfil creado exitosamente","deleteProfile":"Eliminar Perfil","deleteConfirm":"\xbfEst\xe1s seguro de que quieres eliminar el perfil \\"{name}\\"?","exportProfile":"Exportar Perfil","importProfile":"Importar Perfil","importError":"Error al importar el perfil. Por favor verifica el formato del archivo.","stats":{"stadiumsViewed":"estadios vistos","favorites":"favoritos","gamesAnalyzed":"juegos analizados","totalSessions":"sesiones totales"}},"sharing":{"share":"Compartir","shareButton":"Bot\xf3n de Compartir","shareMenu":"Men\xfa de Compartir","copyLink":"Copiar Enlace","linkCopied":"\xa1Enlace copiado al portapapeles!","shareVia":"Compartir v\xeda","shareTitle":"Descubre The Shadium - Encuentra los mejores asientos con sombra en {stadium}","shareDescription":"Descubre qu\xe9 asientos estar\xe1n al sol en {stadium} el {date}. \xa1The Shadium te ayuda a encontrar los asientos perfectos!","email":"Correo Electr\xf3nico","twitter":"Twitter","facebook":"Facebook","whatsapp":"WhatsApp","linkedin":"LinkedIn","reddit":"Reddit"},"favorites":{"add":"Agregar a Favoritos","remove":"Quitar de Favoritos","addedToFavorites":"Agregado a favoritos","removedFromFavorites":"Quitado de favoritos","yourFavorites":"Tus Favoritos","noFavorites":"A\xfan no hay favoritos"},"tooltips":{"sunDirection":"La direcci\xf3n de br\xfajula donde se encuentra el sol (0\xb0 = Norte, 90\xb0 = Este, 180\xb0 = Sur, 270\xb0 = Oeste)","sunElevation":"El \xe1ngulo del sol sobre el horizonte (0\xb0 = horizonte, 90\xb0 = directamente arriba). Los valores negativos indican que el sol est\xe1 bajo el horizonte.","sunExposure":"Porcentaje de tiempo que esta secci\xf3n recibe luz solar directa durante el juego","sectionLevel":"El nivel de asientos en el estadio","coverage":"Si esta secci\xf3n est\xe1 cubierta por un techo o voladizo","priceRange":"Rango de precios t\xedpico para boletos en esta secci\xf3n"},"emptyStates":{"noStadium":{"title":"Selecciona un Estadio","description":"Elige entre 30 estadios MLB para analizar patrones de exposici\xf3n al sol"},"noGame":{"title":"Selecciona un Juego o Fecha","description":"Elige un juego real o establece cualquier fecha y hora personalizada"},"noSections":{"title":"No se Encontraron Secciones","description":"Intenta ajustar tus filtros o criterios de b\xfasqueda"},"noResults":{"title":"Sin Resultados","description":"Ninguna secci\xf3n coincide con tus criterios actuales"}},"errors":{"generic":"Algo sali\xf3 mal. Por favor intenta de nuevo.","network":"Error de red. Por favor verifica tu conexi\xf3n.","notFound":"El recurso solicitado no fue encontrado.","timeout":"La solicitud tard\xf3 demasiado. Por favor intenta de nuevo.","validation":"Por favor verifica tu entrada e intenta de nuevo.","stadiumLoad":"Error al cargar datos del estadio.","gameLoad":"Error al cargar datos del juego.","weatherLoad":"Error al cargar datos meteorol\xf3gicos.","sunCalculation":"Error al calcular la exposici\xf3n al sol.","profileCreate":"Error al crear perfil.","profileDelete":"Error al eliminar perfil.","profileImport":"Error al importar perfil.","profileExport":"Error al exportar perfil.","webglNotSupported":"WebGL no es compatible con este navegador.","threejsLoad":"Error al cargar gr\xe1ficos 3D.","containerNotFound":"Elemento contenedor no encontrado."},"accessibility":{"skipToContent":"Saltar al contenido principal","skipToNavigation":"Saltar a la navegaci\xf3n","menu":"Men\xfa","menuExpanded":"Men\xfa expandido","menuCollapsed":"Men\xfa colapsado","searchResults":"Resultados de b\xfasqueda","loading":"Cargando","error":"Error","required":"Campo requerido","optional":"Campo opcional","clickToExpand":"Haz clic para expandir","clickToCollapse":"Haz clic para colapsar","pressEnterToActivate":"Presiona Enter para activar","pressSpaceToActivate":"Presiona Espacio para activar","useArrowKeysToNavigate":"Usa las teclas de flecha para navegar","screenReaderOnly":"Contenido solo para lector de pantalla"},"mlb":{"teams":{"angels":"Angelinos de Los \xc1ngeles","astros":"Astros de Houston","athletics":"Atl\xe9ticos de Oakland","bluejays":"Azulejos de Toronto","braves":"Bravos de Atlanta","brewers":"Cerveceros de Milwaukee","cardinals":"Cardenales de San Luis","cubs":"Cachorros de Chicago","diamondbacks":"Diamondbacks de Arizona","dodgers":"Dodgers de Los \xc1ngeles","giants":"Gigantes de San Francisco","guardians":"Guardianes de Cleveland","mariners":"Marineros de Seattle","marlins":"Marlins de Miami","mets":"Mets de Nueva York","nationals":"Nacionales de Washington","orioles":"Orioles de Baltimore","padres":"Padres de San Diego","phillies":"Filis de Filadelfia","pirates":"Piratas de Pittsburgh","rangers":"Rangers de Texas","rays":"Rays de Tampa Bay","redsox":"Medias Rojas de Boston","reds":"Rojos de Cincinnati","rockies":"Rockies de Colorado","royals":"Reales de Kansas City","tigers":"Tigres de Detroit","twins":"Mellizos de Minnesota","whitesox":"Medias Blancas de Chicago","yankees":"Yankees de Nueva York"},"stadiums":{"angels":"Estadio \xc1ngel","astros":"Parque Minute Maid","athletics":"Parque Sutter Health","bluejays":"Centro Rogers","braves":"Parque Truist","brewers":"Campo American Family","cardinals":"Estadio Busch","cubs":"Campo Wrigley","diamondbacks":"Campo Chase","dodgers":"Estadio Dodger","giants":"Parque Oracle","guardians":"Campo Progresivo","mariners":"Parque T-Mobile","marlins":"Parque loanDepot","mets":"Campo Citi","nationals":"Parque de los Nacionales","orioles":"Parque Oriole en Camden Yards","padres":"Parque Petco","phillies":"Parque Citizens Bank","pirates":"Parque PNC","rangers":"Campo Globe Life","rays":"Campo Tropicana","redsox":"Parque Fenway","reds":"Parque Great American Ball","rockies":"Campo Coors","royals":"Estadio Kauffman","tigers":"Parque Comerica","twins":"Campo Target","whitesox":"Campo Guaranteed Rate","yankees":"Estadio Yankee"}},"footer":{"disclaimer":"Los c\xe1lculos del sol son aproximados y pueden variar seg\xfan la arquitectura del estadio y las condiciones clim\xe1ticas.","weatherCredit":"Datos meteorol\xf3gicos proporcionados por","openMeteo":"Open-Meteo.com","copyright":"\xa9 2024 The Shadium"},"offline":{"message":"Est\xe1s sin conexi\xf3n - Usando datos en cach\xe9","backOnline":"\xa1De vuelta en l\xednea!","syncing":"Sincronizando tus datos...","cacheUsage":"Cach\xe9: {percentage}%","dataAvailable":"Datos del estadio disponibles sin conexi\xf3n","willSyncWhenOnline":"Los cambios se sincronizar\xe1n cuando vuelvas a estar en l\xednea"}}'),ja:JSON.parse('{"app":{"title":"The Shadium","subtitle":"野球の試合中に太陽の下になる席を見つけよう","loading":"読み込み中...","error":"エラー","retry":"再試行","cancel":"キャンセル","create":"作成","save":"保存","delete":"削除","export":"エクスポート","import":"インポート","edit":"編集","close":"閉じる","clear":"クリア","clearAll":"すべてクリア","apply":"適用","reset":"リセット","confirm":"確認","yes":"はい","no":"いいえ","any":"すべて","none":"なし","required":"必須","optional":"任意","language":"言語","selectLanguage":"言語を選択"},"navigation":{"breadcrumb":"ナビゲーション パンくずリスト","currentPage":"現在のページ","home":"ホーム","back":"戻る","next":"次へ","previous":"前へ","sunTracker":"サントラッカー","smartItinerary":"スマート旅程"},"breadcrumb":{"label":"現在の選択パンくずリスト","selectStadium":"スタジアムを選択","backToStadium":"スタジアム選択に戻る","selectDifferentStadium":"別のスタジアムを選択","backToGame":"試合選択に戻る","selectDifferentGame":"別の試合または時間を選択","customTime":"カスタム時間"},"stadium":{"select":"スタジアムを選択","selectStadium":"スタジアムを選択してください","selectedStadium":"選択されたスタジアム","noStadium":"スタジアムが選択されていません","stadiumName":"スタジアム名","location":"所在地","capacity":"収容人数","opened":"開場","surface":"表面","roof":"屋根","roofTypes":{"open":"オープン","fixed":"固定","retractable":"開閉式"},"totalStadiums":"総スタジアム数","stadiumsViewed":"閲覧したスタジアム","favorites":"お気に入り"},"game":{"selectGame":"試合を選択","selectDate":"日付を選択","noGames":"試合が見つかりません","upcomingGames":"今後の試合","customDateTime":"カスタム日時","gameTime":"試合時間","gameDate":"試合日","matchup":"対戦","venue":"会場","gameDetails":"試合詳細","homeTeam":"ホームチーム","awayTeam":"アウェイチーム","firstPitch":"初球","status":"状態","scheduled":"予定","inProgress":"進行中","final":"終了","postponed":"延期","cancelled":"中止","at":""},"gameSelector":{"title":"試合または時間を選択","realGames":"実際の試合","customTime":"カスタム時間","stadium":"スタジアム","chooseStadium":"スタジアムを選択...","selectStadium":"MLBスタジアムを選択","upcomingGames":"今後のホームゲーム","loadingGames":"試合を読み込み中...","chooseGame":"試合を選択...","noGamesFound":"今後の試合が見つかりません","selectGame":"今後の試合を選択","noGamesForStadium":"このスタジアムの今後のホームゲームは見つかりませんでした。","tryCustomTime":"「カスタム時間」を選択して任意の日時を分析してみてください。","foundGames":"{count}件の今後のホームゲームが見つかりました","selectStadiumPrompt":"今後の試合を見るにはスタジアムを選択してください。","date":"日付","timeLocal":"時間（現地時間）","selectDate":"カスタム時間分析の日付を選択","selectTime":"カスタム時間分析の時間を選択","applyCustomTime":"カスタム時間を適用","customTimeInfo":"カスタム時間を使用して、オフシーズンでも任意の日時の日照を分析できます。"},"sun":{"position":"太陽の位置","information":"太陽の情報","condition":"状態","direction":"方向","elevation":"高度","azimuth":"方位角","altitude":"高度","exposure":"日照","sunExposure":"日照","inSun":"日向","inShade":"日陰","partialSun":"部分的日照","description":{"daytime":"日中","nighttime":"夜間","sunrise":"日の出","sunset":"日没","twilight":"薄暮","dawn":"夜明け","dusk":"夕暮れ"},"compass":{"north":"北","northeast":"北東","east":"東","southeast":"南東","south":"南","southwest":"南西","west":"西","northwest":"北西"},"preferences":{"title":"日照の好み","description":"試合中に直射日光をどの程度受けるかに基づいてセクションをフィルタリング","any":"すべて（好みなし）","avoid":"日光を避ける（≤20% 日照）","prefer":"日光を好む（≥60% 日照）","custom":"カスタム範囲","minExposure":"最小日照","maxExposure":"最大日照","percentage":"%"}},"weather":{"forecast":"天気予報","conditions":{"clear":"晴れ","cloudy":"曇り","partlyCloudy":"部分的に曇り","overcast":"曇天","rain":"雨","snow":"雪","thunderstorm":"雷雨","fog":"霧","mist":"霞","drizzle":"小雨"},"temperature":"気温","humidity":"湿度","windSpeed":"風速","windDirection":"風向き","cloudCover":"雲量","precipitation":"降水","precipitationChance":"降水確率","uvIndex":"UVインデックス","visibility":{"excellent":"優秀","good":"良好","poor":"悪い","blocked":"遮断"},"pressure":"気圧","feelsLike":"体感温度","loading":"気象データを読み込み中...","error":"天気予報を読み込めませんでした。太陽の計算は気象データなしで続行されます。","impact":"天気の影響","forGameTime":"試合時間","wind":"風","rainChance":"降水確率","sunVisibility":"太陽の見え方","sunExposureAdjustment":"通常の日照の{percentage}%","gameDayForecast":"試合日の予報","uvLevels":{"low":"低い","moderate":"中程度","high":"高い","veryHigh":"非常に高い","extreme":"極端"}},"sections":{"title":"スタジアムセクション","list":"セクション一覧","search":"セクション検索","searchPlaceholder":"セクション名または番号で検索...","filter":"フィルタ","sort":"並び替え","sortBy":"並び替え基準","sortOptions":{"name":"名前","sunExposure":"日照","level":"レベル","price":"価格"},"totalSections":"総セクション数","matchingFilters":"フィルタに一致","noResults":"条件に一致するセクションはありません","clearFilters":"フィルタをクリアしてすべてのセクションを表示","section":"セクション","sectionInfo":"セクション情報","level":"レベル","levels":{"field":"フィールドレベル","lower":"ローワーボウル","club":"クラブレベル","upper":"アッパーデッキ","suite":"スイート"},"coverage":"屋根","covered":"屋根あり","uncovered":"屋根なし","price":"価格","priceRange":"価格帯","priceRanges":{"value":"お得","moderate":"標準","premium":"プレミアム","luxury":"ラグジュアリー"},"calculating":"すべてのセクションの日照を計算中...","listLabel":"スタジアムセクション一覧","summaryStats":{"sunny":"{count} 日向","shaded":"{count} 日陰","searchResults":"{shown} / {total} 件表示"},"searchLabel":"スタジアムセクション検索","clearSearch":"検索をクリア","sortingOptions":"セクション並び替えオプション","sortBySun":"日照で並び替え","sortByName":"セクション名で並び替え","sortByLevel":"座席レベルで並び替え","sortByPrice":"価格帯で並び替え","descending":"降順","ascending":"昇順","sortLabels":{"sun":"日照","name":"名前","level":"レベル","price":"価格"},"noSearchResults":"\\"{term}\\"に一致するセクションが見つかりません。","tryDifferentSearch":"別の検索用語を試すか、検索をクリアしてすべてのセクションを表示してください。","noFilterResults":"フィルタ条件に一致するセクションはありません。","tryAdjustFilters":"フィルタを調整してより多くの結果を表示してください。","coveredSection":"屋根付きセクション","levelSeating":"レベル座席","sunExposure":"日照","sunExposureTooltip":"試合中にこのセクションが直射日光を受ける時間の割合（天気条件を考慮）","weatherAdjusted":"天気条件によりこのセクションの日照が減少しています","weatherAdjustedLabel":"天気調整済み日照","angleRangeTooltip":"このセクションが向いている方位角の範囲（0\xb0 = 北、90\xb0 = 東、180\xb0 = 南、270\xb0 = 西）。日照のタイミングを決定するのに役立ちます。","angleRangeLabel":"角度範囲 {start} から {end} 度","rowCount":"約{count}列","rows":"列"},"filter":{"title":"セクションフィルタ","options":"フィルタリングオプション","seatingLevel":{"title":"座席レベル","description":"スタジアムの座席レベルでフィルタリング（フィールドレベルは最もアクションに近く、アッパーデッキは最も高い位置）"},"coverage":{"title":"屋根","description":"屋根や庇によってセクションが覆われているかどうかでフィルタリング、太陽や天気から保護されます","any":"すべて","covered":"屋根ありセクションのみ","uncovered":"屋根なしセクションのみ"},"priceRange":{"title":"価格帯","description":"異なるセクションのチケットの一般的な価格帯でフィルタリング（お得 = 予算に優しい、ラグジュアリー = プレミアム価格）"}},"recommendations":{"title":"スマート座席推奨","nightGame":{"title":"ナイトゲーム","description":"これはナイトゲームなので、どの席も日光の影響を受けません。視界やアメニティなどの他の要因に注目してください。"},"coveredStadium":{"title":"屋根付きスタジアム","description":"このスタジアムは固定屋根があるため、すべての座席が直射日光と天候から保護されています。"},"avoidSun":{"title":"日光を避けるには","firstBaseSide":"一塁側または日陰のセクションの座席を選択してください。","thirdBaseSide":"三塁側または日陰のセクションの座席を選択してください。","retractableRoof":"開閉式屋根も保護を提供する場合があります。"},"sunLovers":{"title":"日光好きの方","rightField":"右翼の座席が最も日光を受ける可能性が高いです。","leftField":"左翼の座席が最も日光を受ける可能性が高いです。"},"highSun":{"title":"高い太陽","description":"太陽が空高くにある場合、アッパーデッキの座席は庇からより多くの日陰を提供する可能性があります。"},"weather":{"title":"天気に関する考慮事項"}},"profile":{"menu":"プロファイルメニュー","loggedInAs":"ログイン中","current":"現在のプロファイル","switchProfile":"プロファイル切り替え","createNew":"新しいプロファイル作成","createProfile":"プロファイル作成","profileName":"プロファイル名","email":"メールアドレス","emailOptional":"メールアドレス（任意）","profileNamePlaceholder":"プロファイル名を入力","emailPlaceholder":"メールアドレスを入力","profileNameHelp":"これがプロファイル名として表示されます","emailHelp":"プロファイルの識別とデータエクスポートに使用","profileNameRequired":"プロファイル名は必須です","createSuccess":"プロファイルが正常に作成されました","deleteProfile":"プロファイル削除","deleteConfirm":"プロファイル \\"{name}\\" を削除してもよろしいですか？","exportProfile":"プロファイルエクスポート","importProfile":"プロファイルインポート","importError":"プロファイルのインポートに失敗しました。ファイル形式を確認してください。","stats":{"stadiumsViewed":"閲覧したスタジアム","favorites":"お気に入り","gamesAnalyzed":"分析した試合","totalSessions":"総セッション数"}},"sharing":{"share":"共有","shareButton":"共有ボタン","shareMenu":"共有メニュー","copyLink":"リンクをコピー","linkCopied":"リンクがクリップボードにコピーされました！","shareVia":"共有方法","shareTitle":"The Shadiumをチェック - {stadium}で最適な日陰の席を見つけよう","shareDescription":"{date}の{stadium}でどの席が日向になるか発見しよう。The Shadiumが完璧な席を見つけるお手伝いをします！","email":"メール","twitter":"Twitter","facebook":"Facebook","whatsapp":"WhatsApp","linkedin":"LinkedIn","reddit":"Reddit"},"favorites":{"add":"お気に入りに追加","remove":"お気に入りから削除","addedToFavorites":"お気に入りに追加されました","removedFromFavorites":"お気に入りから削除されました","yourFavorites":"あなたのお気に入り","noFavorites":"お気に入りはまだありません"},"tooltips":{"sunDirection":"太陽の位置する方位角（0\xb0 = 北、90\xb0 = 東、180\xb0 = 南、270\xb0 = 西）","sunElevation":"地平線上の太陽の角度（0\xb0 = 地平線、90\xb0 = 真上）。負の値は太陽が地平線下にあることを示します。","sunExposure":"このセクションが試合中に直射日光を受ける時間の割合","sectionLevel":"スタジアムの座席レベル","coverage":"このセクションが屋根や庇で覆われているかどうか","priceRange":"このセクションのチケットの一般的な価格帯"},"emptyStates":{"noStadium":{"title":"スタジアムを選択","description":"30のMLBスタジアムから選択して日照パターンを分析"},"noGame":{"title":"試合または日付を選択","description":"実際の試合を選択するか、任意の日時を設定"},"noSections":{"title":"セクションが見つかりません","description":"フィルタや検索条件を調整してみてください"},"noResults":{"title":"結果なし","description":"現在の条件に一致するセクションはありません"}},"errors":{"generic":"何かが間違っています。もう一度お試しください。","network":"ネットワークエラー。接続を確認してください。","notFound":"要求されたリソースが見つかりませんでした。","timeout":"リクエストがタイムアウトしました。もう一度お試しください。","validation":"入力内容を確認してもう一度お試しください。","stadiumLoad":"スタジアムデータの読み込みに失敗しました。","gameLoad":"試合データの読み込みに失敗しました。","weatherLoad":"気象データの読み込みに失敗しました。","sunCalculation":"日照の計算に失敗しました。","profileCreate":"プロファイルの作成に失敗しました。","profileDelete":"プロファイルの削除に失敗しました。","profileImport":"プロファイルのインポートに失敗しました。","profileExport":"プロファイルのエクスポートに失敗しました。","webglNotSupported":"このブラウザではWebGLがサポートされていません。","threejsLoad":"3Dグラフィックスの読み込みに失敗しました。","containerNotFound":"コンテナ要素が見つかりませんでした。"},"accessibility":{"skipToContent":"メインコンテンツにスキップ","skipToNavigation":"ナビゲーションにスキップ","menu":"メニュー","menuExpanded":"メニューが展開されました","menuCollapsed":"メニューが折りたたまれました","searchResults":"検索結果","loading":"読み込み中","error":"エラー","required":"必須フィールド","optional":"任意フィールド","clickToExpand":"クリックして展開","clickToCollapse":"クリックして折りたたみ","pressEnterToActivate":"Enterキーを押してアクティベート","pressSpaceToActivate":"スペースキーを押してアクティベート","useArrowKeysToNavigate":"矢印キーを使用してナビゲート","screenReaderOnly":"スクリーンリーダー専用コンテンツ"},"mlb":{"teams":{"angels":"ロサンゼルス・エンゼルス","astros":"ヒューストン・アストロズ","athletics":"オークランド・アスレチックス","bluejays":"トロント・ブルージェイズ","braves":"アトランタ・ブレーブス","brewers":"ミルウォーキー・ブルワーズ","cardinals":"セントルイス・カージナルス","cubs":"シカゴ・カブス","diamondbacks":"アリゾナ・ダイヤモンドバックス","dodgers":"ロサンゼルス・ドジャース","giants":"サンフランシスコ・ジャイアンツ","guardians":"クリーブランド・ガーディアンズ","mariners":"シアトル・マリナーズ","marlins":"マイアミ・マーリンズ","mets":"ニューヨーク・メッツ","nationals":"ワシントン・ナショナルズ","orioles":"ボルチモア・オリオールズ","padres":"サンディエゴ・パドレス","phillies":"フィラデルフィア・フィリーズ","pirates":"ピッツバーグ・パイレーツ","rangers":"テキサス・レンジャーズ","rays":"タンパベイ・レイズ","redsox":"ボストン・レッドソックス","reds":"シンシナティ・レッズ","rockies":"コロラド・ロッキーズ","royals":"カンザスシティ・ロイヤルズ","tigers":"デトロイト・タイガース","twins":"ミネソタ・ツインズ","whitesox":"シカゴ・ホワイトソックス","yankees":"ニューヨーク・ヤンキース"},"stadiums":{"angels":"エンゼル・スタジアム","astros":"ミニッツメイド・パーク","athletics":"サッターヘルス・パーク","bluejays":"ロジャース・センター","braves":"トゥルーイスト・パーク","brewers":"アメリカンファミリー・フィールド","cardinals":"ブッシュ・スタジアム","cubs":"リグレー・フィールド","diamondbacks":"チェイス・フィールド","dodgers":"ドジャー・スタジアム","giants":"オラクル・パーク","guardians":"プログレッシブ・フィールド","mariners":"T-モバイル・パーク","marlins":"ローンデポ・パーク","mets":"シティ・フィールド","nationals":"ナショナルズ・パーク","orioles":"オリオール・パーク・アット・カムデンヤーズ","padres":"ペトコ・パーク","phillies":"シチズンズバンク・パーク","pirates":"PNCパーク","rangers":"グローブライフ・フィールド","rays":"トロピカーナ・フィールド","redsox":"フェンウェイ・パーク","reds":"グレートアメリカン・ボールパーク","rockies":"クアーズ・フィールド","royals":"カウフマン・スタジアム","tigers":"コメリカ・パーク","twins":"ターゲット・フィールド","whitesox":"ギャランティード・レート・フィールド","yankees":"ヤンキー・スタジアム"}},"footer":{"disclaimer":"太陽の計算は近似値であり、スタジアムの建築や気象条件によって変動する場合があります。","weatherCredit":"気象データ提供","openMeteo":"Open-Meteo.com","copyright":"\xa9 2024 The Shadium"},"offline":{"message":"オフラインです - キャッシュデータを使用中","backOnline":"オンラインに戻りました！","syncing":"データを同期中...","cacheUsage":"キャッシュ: {percentage}%","dataAvailable":"スタジアムデータはオフラインで利用可能","willSyncWhenOnline":"オンラインに戻ると変更が同期されます"}}')},M=[{code:"en",name:"English",nativeName:"English"},{code:"es",name:"Spanish",nativeName:"Espa\xf1ol"},{code:"ja",name:"Japanese",nativeName:"日本語"}],R="mlb-sun-tracker-language",I=(0,r.createContext)(null),_=()=>{let e=localStorage.getItem(R);if(e&&M.some(a=>a.code===e))return e;let a=navigator.language.toLowerCase(),t=M.map(e=>e.code);if(t.includes(a))return a;let i=a.split("-")[0];return t.includes(i)?i:a.startsWith("es")?"es":a.startsWith("ja")?"ja":"en"},$=e=>z[e]||z.en,O=({children:e,initialLanguage:a})=>{let[t,s]=(0,r.useState)(a||_()),[n,o]=(0,r.useState)($(a||_())),[l]=(0,r.useState)(!1);return(0,r.useEffect)(()=>{o($(t))},[t]),(0,r.useEffect)(()=>{document.documentElement.lang=t},[t]),(0,i.jsx)(I.Provider,{value:{language:t,translations:n,setLanguage:e=>{s(e),localStorage.setItem(R,e),document.documentElement.lang=e},t:(e,a)=>{let t=e.split(".").reduce((e,a)=>e&&void 0!==e[a]?e[a]:null,n);return null==t?(console.warn(`Translation key not found: ${e}`),e):"string"==typeof t?((e,a={})=>e.replace(/\{(\w+)\}/g,(e,t)=>void 0!==a[t]?String(a[t]):e))(t,a):"object"==typeof t?(console.warn(`Translation key points to object, not string: ${e}`),e):String(t)},isLoading:l,supportedLanguages:M},children:e})},G=()=>{let e=(0,r.useContext)(I);if(!e)throw Error("useI18n must be used within an I18nProvider");return e},W=()=>{let{t:e,language:a,isLoading:t}=G();return{t:e,language:a,isLoading:t}},H=({className:e="",showLabel:a=!0,variant:t="dropdown"})=>{let{language:r,setLanguage:s,supportedLanguages:n,t:o}=G();return"buttons"===t?(0,i.jsxs)("div",{className:`language-selector language-selector-buttons ${e}`,children:[a&&(0,i.jsx)("span",{className:"language-selector-label",id:"language-selector-label",children:o("app.language")}),(0,i.jsx)("div",{className:"language-buttons",role:"radiogroup","aria-label":o("app.selectLanguage"),"aria-labelledby":a?"language-selector-label":void 0,children:n.map(e=>(0,i.jsx)("button",{type:"button",className:`language-button ${r===e.code?"active":""}`,onClick:()=>s(e.code),"aria-pressed":r===e.code,role:"radio","aria-checked":r===e.code,title:`${e.name} (${e.nativeName})`,children:e.code.toUpperCase()},e.code))})]}):(0,i.jsxs)("div",{className:`language-selector language-selector-dropdown ${e}`,children:[a&&(0,i.jsx)("label",{htmlFor:"language-select",className:"language-selector-label",children:o("app.language",{fallback:"Language"})}),(0,i.jsx)("select",{id:"language-select",value:r,onChange:e=>s(e.target.value),className:"language-select","aria-label":o("app.selectLanguage"),children:n.map(e=>(0,i.jsx)("option",{value:e.code,children:e.nativeName},e.code))})]})};t(3284);let U=({width:e="100%",height:a="20px",borderRadius:t="var(--radius-sm)",className:r=""})=>(0,i.jsx)("div",{className:`skeleton ${r}`,style:{width:e,height:a,borderRadius:t}}),q=()=>(0,i.jsxs)("div",{className:"game-selector-skeleton",children:[(0,i.jsx)(U,{height:"36px",width:"150px",className:"skeleton-title"}),(0,i.jsx)("div",{className:"skeleton-games",children:[1,2,3].map(e=>(0,i.jsx)(U,{height:"80px",borderRadius:"var(--radius-lg)"},e))})]});t(8137);let V=({selectedStadium:e,onGameSelect:a,onStadiumChange:t,stadiums:s,onGamesLoaded:l})=>{let c=L(),{t:d}=W(),[u,m]=(0,r.useState)([]),p=function(e={}){let{initialLoading:a=!0,minLoadingTime:t=300,retryLimit:i=3,retryDelay:s=1e3}=e,[n,o]=(0,r.useState)({data:null,loading:a,error:null,isInitialLoad:!0,isRefreshing:!1,retryCount:0}),l=(0,r.useRef)(null),c=(0,r.useRef)(null),d=(0,r.useRef)(0);(0,r.useEffect)(()=>()=>{l.current&&window.clearTimeout(l.current),c.current&&window.clearTimeout(c.current)},[]);let u=(0,r.useCallback)((e,a=!1)=>{if(e)d.current=Date.now(),o(e=>({...e,loading:!0,isRefreshing:!e.isInitialLoad&&a,error:null}));else{let e=Math.max(0,t-(Date.now()-d.current));e>0?l.current=window.setTimeout(()=>{o(e=>({...e,loading:!1,isRefreshing:!1,isInitialLoad:!1}))},e):o(e=>({...e,loading:!1,isRefreshing:!1,isInitialLoad:!1}))}},[t]),m=(0,r.useCallback)(e=>{o(a=>({...a,data:e,error:null,retryCount:0}))},[]),p=(0,r.useCallback)(e=>{o(a=>({...a,error:e,loading:!1,isRefreshing:!1}))},[]),h=(0,r.useCallback)(()=>!(n.retryCount>=i)&&(o(e=>({...e,retryCount:e.retryCount+1,error:null})),!0),[n.retryCount,i]),g=(0,r.useCallback)(()=>{l.current&&window.clearTimeout(l.current),c.current&&window.clearTimeout(c.current),o({data:null,loading:!1,error:null,isInitialLoad:!0,isRefreshing:!1,retryCount:0})},[]),f=(0,r.useCallback)(async(e,a={})=>{let{onSuccess:t,onError:r,isRefresh:o=!1,autoRetry:l=!0}=a;try{u(!0,o);let a=await e();return m(a),u(!1),t&&t(a),a}catch(o){let t=o instanceof Error?o:Error(String(o));if(p(t),u(!1),l&&n.retryCount<i&&(t.message.toLowerCase().includes("network")||t.message.toLowerCase().includes("fetch"))){let t=s*Math.pow(2,n.retryCount);c.current=window.setTimeout(()=>{h()&&f(e,a)},t)}throw r&&r(t),t}},[u,m,p,h,n.retryCount,i,s]);return{...n,setLoading:u,setData:m,setError:p,retry:h,reset:g,execute:f}}({minLoadingTime:500,initialLoading:!1}),[h,g]=(0,r.useState)(()=>S.get("viewMode","games")),[f,x]=(0,r.useState)(()=>S.get("lastUsedDate",(0,o.GP)(new Date,"yyyy-MM-dd"))),[v,b]=(0,r.useState)(()=>S.get("lastUsedTime",(0,o.GP)(new Date,"HH:mm"))),[w,j]=(0,r.useState)(null),[N,C]=(0,r.useState)(null),{currentProfile:D}=k(),P=[...s].sort((e,a)=>{let t=D?.favorites.stadiums.includes(e.id)||!1,i=D?.favorites.stadiums.includes(a.id)||!1;return t&&!i?-1:!t&&i?1:e.name.localeCompare(a.name)}).map(e=>({value:e.id,label:`${e.name} - ${e.team}`,stadium:e,isFavorite:D?.favorites.stadiums.includes(e.id)||!1})),F=(0,r.useCallback)(async()=>{if(e)try{C(null),p.setLoading(!0);let a=new Date,t=a.getFullYear(),i=new Date(t,9,31),r=await y.getSchedule(a.toISOString().split("T")[0],i.toISOString().split("T")[0]),s=y.getHomeGamesForStadium(e.id,r);m(s),p.setData(s),l&&l(s)}catch(e){console.error("[GameSelector] Error loading games:",e),C("Unable to load games. Please try again."),m([]),p.setError(e)}finally{p.setLoading(!1)}},[e,p,l]);(0,r.useEffect)(()=>{if(e&&"games"===h){p.reset(),m([]),C(null);let e=setTimeout(()=>{F()},200);return()=>clearTimeout(e)}j(null)},[e,h]);let A=()=>{f&&v&&(a(null,new Date(`${f}T${v}:00`)),S.update("lastUsedDate",f),S.update("lastUsedTime",v))},B=(e,a)=>{if("Enter"===e.key||" "===e.key)e.preventDefault(),g(a),S.update("viewMode",a);else if("ArrowLeft"===e.key||"ArrowRight"===e.key){e.preventDefault();let t="games"===a?"custom":"games";g(t),S.update("viewMode",t)}},z=u.map(e=>{let a=new Date(e.gameDate),t=s.find(a=>a.team===e.teams.home.team.name)?.id||"";s.find(a=>a.team===e.teams.away.team.name)?.id;let i=e.teams.home.team.name,r=e.teams.away.team.name,n=s.find(e=>e.id===t),o=T(a,n?.timezone||"America/New_York",!0);return{value:e.gamePk,label:`${o} - ${r} @ ${i}`,game:e}});return(0,i.jsxs)("div",{className:"game-selector",children:[(0,i.jsxs)("div",{className:"selector-header",children:[(0,i.jsx)("h3",{id:"game-selector-title",children:d("gameSelector.title")}),(0,i.jsxs)("div",{className:"view-mode-toggle",role:"tablist","aria-labelledby":"game-selector-title",children:[(0,i.jsxs)("button",{className:`toggle-btn ${"games"===h?"active":""}`,onClick:()=>{c.light(),g("games"),S.update("viewMode","games")},onKeyDown:e=>B(e,"games"),role:"tab","aria-selected":"games"===h,"aria-controls":"games-panel",id:"games-tab",tabIndex:"games"===h?0:-1,children:["\uD83D\uDCC5 ",d("gameSelector.realGames")]}),(0,i.jsxs)("button",{className:`toggle-btn ${"custom"===h?"active":""}`,onClick:()=>{c.light(),g("custom"),S.update("viewMode","custom")},onKeyDown:e=>B(e,"custom"),role:"tab","aria-selected":"custom"===h,"aria-controls":"custom-panel",id:"custom-tab",tabIndex:"custom"===h?0:-1,children:["\uD83D\uDD52 ",d("gameSelector.customTime")]})]})]}),(0,i.jsxs)("div",{className:"control-group",children:[(0,i.jsxs)("label",{htmlFor:"stadium-select",children:[d("gameSelector.stadium"),":"]}),(0,i.jsx)(n.Ay,{inputId:"stadium-select",options:P,value:P.find(a=>a.stadium.id===e?.id)||null,onChange:e=>t(e?.stadium||null),placeholder:d("gameSelector.chooseStadium"),className:"stadium-select","aria-label":d("gameSelector.selectStadium"),formatOptionLabel:e=>(0,i.jsxs)("div",{className:"stadium-option",children:[(0,i.jsxs)("div",{className:"stadium-option-content",children:[e.isFavorite&&(0,i.jsx)("span",{className:"favorite-indicator",children:"★"}),(0,i.jsx)("span",{children:e.label})]}),(0,i.jsx)(E,{stadiumId:e.stadium.id,stadiumName:e.stadium.name,size:"small"})]})})]}),"games"===h?(0,i.jsx)("div",{className:"games-section",role:"tabpanel",id:"games-panel","aria-labelledby":"games-tab",children:e?(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)("div",{className:"control-group",children:[(0,i.jsxs)("label",{htmlFor:"game-select",children:[d("gameSelector.upcomingGames"),":"]}),p.loading?(0,i.jsx)(q,{}):N?(0,i.jsxs)("div",{className:"error-message",role:"alert",children:[N,(0,i.jsx)("button",{onClick:F,className:"retry-button","aria-label":"Retry loading games",children:"Retry"})]}):(0,i.jsxs)(i.Fragment,{children:[u.length>0&&(0,i.jsxs)("div",{style:{fontSize:"12px",color:"green",marginBottom:"8px"},children:["✓ ",u.length," games loaded successfully"]}),(0,i.jsx)(n.Ay,{inputId:"game-select",value:w,options:z,onChange:e=>{if(j(e),e?.game){let t=new Date(e.game.gameDate);a(e.game,t)}else a(null,null)},placeholder:d(u.length>0?"gameSelector.chooseGame":"gameSelector.noGamesFound"),className:`game-select ${p.isRefreshing?"refreshing":""}`,isDisabled:0===u.length||p.isRefreshing,"aria-label":d("gameSelector.selectGame")})]})]}),0===u.length&&!p.loading&&!N&&(0,i.jsxs)("div",{className:"no-games",children:[(0,i.jsx)("p",{children:d("gameSelector.noGamesForStadium")}),(0,i.jsx)("p",{children:d("gameSelector.tryCustomTime")})]}),u.length>0&&(0,i.jsx)("div",{className:"games-info",children:(0,i.jsxs)("p",{className:"games-count",children:["\uD83D\uDCCA ",d("gameSelector.foundGames",{count:u.length})]})})]}):(0,i.jsx)("div",{className:"no-stadium",children:(0,i.jsx)("p",{children:d("gameSelector.selectStadiumPrompt")})})}):(0,i.jsxs)("div",{className:"custom-section",role:"tabpanel",id:"custom-panel","aria-labelledby":"custom-tab",children:[(0,i.jsxs)("div",{className:"custom-controls",children:[(0,i.jsxs)("div",{className:"control-group",children:[(0,i.jsxs)("label",{htmlFor:"custom-date",children:[d("gameSelector.date"),":"]}),(0,i.jsx)("input",{id:"custom-date",type:"date",value:f,onChange:e=>x(e.target.value),className:"date-input","aria-label":d("gameSelector.selectDate")})]}),(0,i.jsxs)("div",{className:"control-group",children:[(0,i.jsxs)("label",{htmlFor:"custom-time",children:[d("gameSelector.timeLocal"),":"]}),(0,i.jsx)("input",{id:"custom-time",type:"time",value:v,onChange:e=>b(e.target.value),className:"time-input","aria-label":d("gameSelector.selectTime")})]}),(0,i.jsx)("button",{onClick:()=>{c.medium(),A()},onKeyDown:e=>((e,a)=>{("Enter"===e.key||" "===e.key)&&(e.preventDefault(),a())})(e,A),className:"apply-custom-btn",disabled:!f||!v||!e,"aria-label":d("gameSelector.applyCustomTime"),children:d("gameSelector.applyCustomTime")})]}),(0,i.jsx)("div",{className:"custom-info",children:(0,i.jsxs)("p",{children:["\uD83D\uDCA1 ",d("gameSelector.customTimeInfo")]})})]})]})};class K{getWeatherForTime(e,a){if(!a)return e.current;if(!e.hourly||0===e.hourly.length)return{...e.current,isForecastAvailable:!1};let t=new Date(e.hourly[0].time).getTime(),i=new Date(e.hourly[e.hourly.length-1].time).getTime(),r=a.getTime(),s={...e.current,time:new Date().toISOString()},n=1/0;return e.hourly.forEach(e=>{let a=Math.abs(new Date(e.time).getTime()-r);a<n&&(n=a,s={...e.weather,time:e.time})}),{...s,isForecastAvailable:!(r>i)&&!(r<t)}}parseWeatherResponse(e){let a=this.parseCurrentWeather(e.current);return{current:a,hourly:e.hourly.time.map((a,t)=>({time:a,weather:this.parseHourlyWeather(e.hourly,t)})),daily:e.daily.time.map((a,t)=>({date:a,weather:{day:this.parseDailyWeather(e.daily,t,!0),night:this.parseDailyWeather(e.daily,t,!1),min:e.daily.temperature_2m_min[t],max:e.daily.temperature_2m_max[t]}}))}}parseCurrentWeather(e){return{temperature:e.temperature_2m||70,feelsLike:e.apparent_temperature||70,humidity:e.relative_humidity_2m||50,pressure:e.pressure_msl||1013,windSpeed:e.wind_speed_10m||0,windDirection:e.wind_direction_10m||0,cloudCover:e.cloud_cover||0,visibility:10,uvIndex:0,conditions:[this.getWeatherCondition(e.weather_code||0,e.is_day)],precipitationProbability:0,precipitationAmount:e.precipitation||0}}parseHourlyWeather(e,a){return{temperature:e.temperature_2m[a]||70,feelsLike:e.apparent_temperature[a]||70,humidity:e.relative_humidity_2m[a]||50,pressure:e.pressure_msl[a]||1013,windSpeed:e.wind_speed_10m[a]||0,windDirection:e.wind_direction_10m[a]||0,cloudCover:e.cloud_cover[a]||0,visibility:e.visibility[a]/1e3||10,uvIndex:e.uv_index[a]||0,conditions:[this.getWeatherCondition(e.weather_code[a]||0,e.is_day[a])],precipitationProbability:e.precipitation_probability[a]||0,precipitationAmount:e.precipitation[a]||0}}parseDailyWeather(e,a,t){return{temperature:t?e.temperature_2m_max[a]:e.temperature_2m_min[a],feelsLike:t?e.apparent_temperature_max[a]:e.apparent_temperature_min[a],humidity:50,pressure:1013,windSpeed:e.wind_speed_10m_max[a]||0,windDirection:e.wind_direction_10m_dominant[a]||0,cloudCover:50,visibility:10,uvIndex:e.uv_index_max[a]||0,conditions:[this.getWeatherCondition(e.weather_code[a]||0,t)],precipitationProbability:e.precipitation_probability_max[a]||0,precipitationAmount:e.precipitation_sum[a]||0}}getWeatherCondition(e,a=!0){let t={0:{id:800,main:"Clear",description:"Clear sky",icon:"01d"},1:{id:801,main:"Clouds",description:"Mainly clear",icon:"02d"},2:{id:802,main:"Clouds",description:"Partly cloudy",icon:"03d"},3:{id:803,main:"Clouds",description:"Overcast",icon:"04d"},45:{id:741,main:"Fog",description:"Fog",icon:"50d"},48:{id:741,main:"Fog",description:"Depositing rime fog",icon:"50d"},51:{id:300,main:"Drizzle",description:"Light drizzle",icon:"09d"},53:{id:301,main:"Drizzle",description:"Moderate drizzle",icon:"09d"},55:{id:302,main:"Drizzle",description:"Dense drizzle",icon:"09d"},56:{id:310,main:"Drizzle",description:"Light freezing drizzle",icon:"09d"},57:{id:311,main:"Drizzle",description:"Dense freezing drizzle",icon:"09d"},61:{id:500,main:"Rain",description:"Slight rain",icon:"10d"},63:{id:501,main:"Rain",description:"Moderate rain",icon:"10d"},65:{id:502,main:"Rain",description:"Heavy rain",icon:"10d"},66:{id:511,main:"Rain",description:"Light freezing rain",icon:"10d"},67:{id:511,main:"Rain",description:"Heavy freezing rain",icon:"10d"},71:{id:600,main:"Snow",description:"Slight snow",icon:"13d"},73:{id:601,main:"Snow",description:"Moderate snow",icon:"13d"},75:{id:602,main:"Snow",description:"Heavy snow",icon:"13d"},77:{id:600,main:"Snow",description:"Snow grains",icon:"13d"},80:{id:520,main:"Rain",description:"Slight rain showers",icon:"09d"},81:{id:521,main:"Rain",description:"Moderate rain showers",icon:"09d"},82:{id:522,main:"Rain",description:"Violent rain showers",icon:"09d"},85:{id:620,main:"Snow",description:"Slight snow showers",icon:"13d"},86:{id:621,main:"Snow",description:"Heavy snow showers",icon:"13d"},95:{id:200,main:"Thunderstorm",description:"Thunderstorm",icon:"11d"},96:{id:201,main:"Thunderstorm",description:"Thunderstorm with slight hail",icon:"11d"},99:{id:202,main:"Thunderstorm",description:"Thunderstorm with heavy hail",icon:"11d"}};if(!t[e])return console.warn(`Unknown weather code: ${e}. Defaulting to partly cloudy.`),{id:802,main:"Clouds",description:"Unknown conditions (partly cloudy)",icon:a?"03d":"03n"};let i=t[e],r=i.icon.replace("d",a?"d":"n");return{...i,icon:r}}getWeatherImpactOnSun(e){let{cloudCover:a,conditions:t,precipitationProbability:i}=e;return i&&i>70||t.some(e=>"Rain"===e.main||"Snow"===e.main)?{visibility:"blocked",recommendation:"Rain/snow will block most sunlight. Any covered seating recommended.",sunExposureAdjustment:.1}:a>80?{visibility:"poor",recommendation:"Heavy cloud cover will significantly reduce sun exposure.",sunExposureAdjustment:.3}:a>50?{visibility:"good",recommendation:"Partial cloud cover will provide some relief from direct sunlight.",sunExposureAdjustment:.6}:a>20?{visibility:"good",recommendation:"Mostly sunny with some clouds providing occasional shade.",sunExposureAdjustment:.8}:{visibility:"excellent",recommendation:"Clear skies - full sun exposure expected. Consider shade if sun-sensitive.",sunExposureAdjustment:1}}getMockWeather(){let e={temperature:75,feelsLike:78,humidity:45,pressure:1015,windSpeed:8,windDirection:180,cloudCover:25,visibility:10,uvIndex:6,conditions:[{id:801,main:"Clouds",description:"Few clouds",icon:"02d"}],precipitationProbability:10,precipitationAmount:0},a=Array.from({length:24},(a,t)=>({time:new Date(Date.now()+60*t*6e4).toISOString(),weather:{...e,temperature:e.temperature+10*Math.random()-5,cloudCover:Math.max(0,Math.min(100,e.cloudCover+40*Math.random()-20))}}));return{current:e,hourly:a,daily:Array.from({length:7},(a,t)=>({date:new Date(Date.now()+24*t*36e5).toISOString().split("T")[0],weather:{day:{...e,temperature:e.temperature+5},night:{...e,temperature:e.temperature-10},min:e.temperature-10,max:e.temperature+5}}))}}constructor(){this.baseUrl="https://api.open-meteo.com/v1",this.retryableFetch=p({maxRetries:3,initialDelay:500,maxDelay:5e3,onRetry:(e,a)=>{}}),this.getForecast=d(async(e,a)=>{if(!g(e,-90,90))throw Error("Invalid latitude: must be between -90 and 90");if(!g(a,-180,180))throw Error("Invalid longitude: must be between -180 and 180");try{let t=new URLSearchParams({latitude:e.toString(),longitude:a.toString(),current:"temperature_2m,relative_humidity_2m,apparent_temperature,is_day,precipitation,weather_code,cloud_cover,pressure_msl,surface_pressure,wind_speed_10m,wind_direction_10m,wind_gusts_10m",hourly:"temperature_2m,relative_humidity_2m,apparent_temperature,precipitation_probability,precipitation,weather_code,pressure_msl,surface_pressure,cloud_cover,visibility,wind_speed_10m,wind_direction_10m,wind_gusts_10m,uv_index,is_day",daily:"weather_code,temperature_2m_max,temperature_2m_min,apparent_temperature_max,apparent_temperature_min,sunrise,sunset,uv_index_max,precipitation_sum,rain_sum,showers_sum,snowfall_sum,precipitation_hours,precipitation_probability_max,wind_speed_10m_max,wind_gusts_10m_max,wind_direction_10m_dominant",temperature_unit:"fahrenheit",wind_speed_unit:"mph",precipitation_unit:"inch",timezone:"auto",forecast_days:"7"}),i=`${this.baseUrl}/forecast?${t}`,r=f(i),s=await this.retryableFetch(r);if(!s.ok)throw Error(`Weather API request failed: ${s.status}`);let n=await s.json();return this.parseWeatherResponse(n)}catch(e){throw console.error("Error fetching weather data:",e),Error(`Weather service unavailable: ${e instanceof Error?e.message:"Unknown error"}`)}},"weather-forecast",6e5)}}let Y=new K;t(4390);let J=({weather:e,gameTime:a,loading:t=!1,stadium:r=null})=>{let{t:s}=W();if(t)return(0,i.jsxs)("div",{className:"weather-display loading",children:[(0,i.jsx)("div",{className:"weather-header",children:(0,i.jsx)("h3",{children:"Weather Forecast"})}),(0,i.jsxs)("div",{className:"loading-content",children:[(0,i.jsx)("div",{className:"loading-spinner"}),(0,i.jsx)("p",{children:"Loading weather data..."})]})]});if(!e)return null;let n=Y.getWeatherForTime(e,a||void 0),o=Y.getWeatherImpactOnSun(n),l=!1!==n.isForecastAvailable,c=a?Math.ceil((a.getTime()-Date.now())/864e5):0,d=(e,a)=>({Clear:"☀️",Clouds:"☁️",Rain:"\uD83C\uDF27️",Drizzle:"\uD83C\uDF26️",Thunderstorm:"⛈️",Snow:"\uD83C\uDF28️",Fog:"\uD83C\uDF2B️",Mist:"\uD83C\uDF2B️"})[e]||"\uD83C\uDF24️",u=(e=>e<=2?{level:"Low",color:"#4CAF50"}:e<=5?{level:"Moderate",color:"#FF9800"}:e<=7?{level:"High",color:"#FF5722"}:e<=10?{level:"Very High",color:"#9C27B0"}:{level:"Extreme",color:"#E91E63"})(n.uvIndex);return!l&&c>7?(0,i.jsxs)("div",{className:"weather-display unavailable",children:[(0,i.jsx)("div",{className:"weather-header",children:(0,i.jsx)("h3",{children:s("weather.forecast")})}),(0,i.jsxs)("div",{className:"weather-unavailable",children:[(0,i.jsx)("span",{className:"unavailable-icon",children:"\uD83C\uDF24️"}),(0,i.jsxs)("div",{className:"unavailable-content",children:[(0,i.jsx)("strong",{children:"Weather Forecast Unavailable"}),(0,i.jsxs)("p",{children:["This game is ",c," days away. Weather forecasts are only available up to 7 days in advance."]}),(0,i.jsx)("p",{className:"unavailable-note",children:"Sun position calculations are still accurate and based on astronomical data."})]})]})]}):(0,i.jsxs)("div",{className:"weather-display",children:[(0,i.jsxs)("div",{className:"weather-header",children:[(0,i.jsx)("h3",{children:s("weather.forecast")}),a&&(0,i.jsxs)("span",{className:"forecast-time",children:["For game time: ",r?T(a,r.timezone,!0):a.toLocaleString()]})]}),(0,i.jsxs)("div",{className:"weather-main",children:[(0,i.jsxs)("div",{className:"weather-primary",children:[(0,i.jsx)("div",{className:"weather-icon",children:d(n.conditions[0].main,n.conditions[0].icon)}),(0,i.jsxs)("div",{className:"weather-temp",children:[(0,i.jsxs)("span",{className:"temp-value",children:[Math.round(n.temperature),"\xb0F"]}),(0,i.jsxs)("span",{className:"feels-like",children:["Feels like ",Math.round(n.feelsLike),"\xb0F"]})]}),(0,i.jsx)("div",{className:"weather-desc",children:(0,i.jsx)("p",{children:n.conditions[0].description})})]}),(0,i.jsx)("div",{className:"weather-details",children:(0,i.jsxs)("div",{className:"detail-grid",children:[(0,i.jsxs)("div",{className:"detail-item",children:[(0,i.jsx)("span",{className:"detail-icon",children:"\uD83D\uDCA7"}),(0,i.jsx)("span",{className:"detail-label",children:"Humidity"}),(0,i.jsxs)("span",{className:"detail-value",children:[n.humidity,"%"]})]}),(0,i.jsxs)("div",{className:"detail-item",children:[(0,i.jsx)("span",{className:"detail-icon",children:"\uD83D\uDCA8"}),(0,i.jsx)("span",{className:"detail-label",children:"Wind"}),(0,i.jsxs)("span",{className:"detail-value",children:[Math.round(n.windSpeed)," mph ",["N","NNE","NE","ENE","E","ESE","SE","SSE","S","SSW","SW","WSW","W","WNW","NW","NNW"][Math.round(n.windDirection/22.5)%16]]})]}),(0,i.jsxs)("div",{className:"detail-item",children:[(0,i.jsx)("span",{className:"detail-icon",children:"☁️"}),(0,i.jsx)("span",{className:"detail-label",children:"Cloud Cover"}),(0,i.jsxs)("span",{className:"detail-value",children:[n.cloudCover,"%"]})]}),(0,i.jsxs)("div",{className:"detail-item",children:[(0,i.jsx)("span",{className:"detail-icon",children:"\uD83C\uDF21️"}),(0,i.jsx)("span",{className:"detail-label",children:"Pressure"}),(0,i.jsxs)("span",{className:"detail-value",children:[Math.round(n.pressure)," hPa"]})]}),n.uvIndex>0&&(0,i.jsxs)("div",{className:"detail-item",children:[(0,i.jsx)("span",{className:"detail-icon",children:"☀️"}),(0,i.jsx)("span",{className:"detail-label",children:"UV Index"}),(0,i.jsxs)("span",{className:"detail-value",style:{color:u.color},children:[n.uvIndex," (",u.level,")"]})]}),n.precipitationProbability&&n.precipitationProbability>0&&(0,i.jsxs)("div",{className:"detail-item",children:[(0,i.jsx)("span",{className:"detail-icon",children:"\uD83C\uDF27️"}),(0,i.jsx)("span",{className:"detail-label",children:"Rain Chance"}),(0,i.jsxs)("span",{className:"detail-value",children:[n.precipitationProbability,"%"]})]})]})})]}),(0,i.jsx)("div",{className:"weather-impact",children:(0,i.jsxs)("div",{className:`impact-indicator ${o.visibility}`,children:[(0,i.jsxs)("div",{className:"impact-header",children:[(0,i.jsxs)("span",{className:"impact-icon",children:["excellent"===o.visibility&&"\uD83C\uDF1E","good"===o.visibility&&"⛅","poor"===o.visibility&&"☁️","blocked"===o.visibility&&"\uD83C\uDF27️"]}),(0,i.jsxs)("span",{className:"impact-title",children:["Sun Visibility: ",o.visibility]})]}),(0,i.jsx)("p",{className:"impact-desc",children:o.recommendation}),o.sunExposureAdjustment<1&&(0,i.jsxs)("div",{className:"exposure-adjustment",children:[(0,i.jsx)("div",{className:"adjustment-bar",children:(0,i.jsx)("div",{className:"adjustment-fill",style:{width:`${100*o.sunExposureAdjustment}%`}})}),(0,i.jsxs)("span",{className:"adjustment-text",children:["Sun exposure reduced to ",Math.round(100*o.sunExposureAdjustment),"% due to weather"]})]})]})}),a&&e.hourly.length>0&&(0,i.jsxs)("div",{className:"hourly-forecast",children:[(0,i.jsx)("h4",{children:"Game Day Forecast"}),(0,i.jsx)("div",{className:"hourly-grid",children:(()=>{let t=a.getTime(),s=t-72e5,n=t+18e6;return e.hourly.filter(e=>{let a=new Date(e.time).getTime();return a>=s&&a<=n}).map((e,a)=>{let s=new Date(e.time),n=e.weather,o=18e5>Math.abs(s.getTime()-t);return(0,i.jsxs)("div",{className:`hourly-item ${o?"game-hour":""}`,children:[(0,i.jsxs)("div",{className:"hourly-time",children:[r?(0,F.qD)(s,r.timezone,"h a"):s.toLocaleTimeString([],{hour:"numeric"}),o&&(0,i.jsx)("span",{className:"game-indicator",children:"⚾"})]}),(0,i.jsx)("div",{className:"hourly-icon",children:d(n.conditions[0].main,n.conditions[0].icon)}),(0,i.jsxs)("div",{className:"hourly-temp",children:[Math.round(n.temperature),"\xb0"]}),(0,i.jsxs)("div",{className:"hourly-clouds",children:["☁️ ",n.cloudCover,"%"]})]},a)})})()})]})]})};t(6928);let Q=({onFilterChange:e,disabled:a=!1})=>{let[t,s]=(0,r.useState)("any"),[n,o]=(0,r.useState)(0),[l,c]=(0,r.useState)(100),[d,u]=(0,r.useState)([]),[m,p]=(0,r.useState)("any"),[h,g]=(0,r.useState)([]),[f,x]=(0,r.useState)({sunPreference:!0,seatingLevel:!1,coverage:!1,priceRange:!1}),v=(a,t,i,r,s,n)=>{let o={};switch(a){case"avoid":o.sunPreference="shade",o.maxExposure=20;break;case"prefer":o.sunPreference="sun",o.minExposure=60;break;case"custom":o.minExposure=t,o.maxExposure=i;break;default:o.sunPreference="any"}r.length>0&&(o.levels=r),"any"!==s&&(o.covered="covered"===s),n.length>0&&(o.priceRange=n),e(o)},y=e=>{s(e),v(e,n,l,d,m,h)},b=(e,a)=>{o(e),c(a),v(t,e,a,d,m,h)},S=e=>{p(e),v(t,n,l,d,e,h)},w=()=>{s("any"),o(0),c(100),u([]),p("any"),g([]),e({})},j=(e,a)=>{("Enter"===e.key||" "===e.key)&&(e.preventDefault(),a())},N=e=>{x(a=>({...a,[e]:!a[e]}))},C=[+("any"!==t),+(d.length>0),+("any"!==m),+(h.length>0)].reduce((e,a)=>e+a,0);return(0,i.jsxs)("div",{className:`sun-exposure-filter ${a?"disabled":""}`,role:"region","aria-label":"Filter options",children:[(0,i.jsxs)("div",{className:"filter-header",children:[(0,i.jsxs)("h3",{id:"section-filter-title",className:"filter-title",children:[(0,i.jsx)("span",{className:"filter-title-icon",children:"\uD83C\uDFAF"}),"Filter Sections",C>0&&(0,i.jsx)("span",{className:"active-filters-count",children:C})]}),(0,i.jsx)("button",{onClick:w,onKeyDown:e=>j(e,w),disabled:a,className:"clear-filters-btn","aria-label":"Clear all filters",children:"Clear All"})]}),(0,i.jsxs)("div",{className:"filter-section",children:[(0,i.jsxs)("button",{onClick:()=>N("sunPreference"),onKeyDown:e=>j(e,()=>N("sunPreference")),className:"filter-section-header","aria-expanded":f.sunPreference,"aria-controls":"sun-preference-content",children:[(0,i.jsxs)("span",{className:"filter-section-title",title:"Filter sections by percentage of game time in direct sunlight. 0% = no sun, 50% = sun for half the game, 100% = sun entire game.",children:[(0,i.jsx)("span",{className:"filter-section-icon",children:"☀️"}),"Sun Preference"]}),(0,i.jsx)("span",{className:`filter-section-chevron ${f.sunPreference?"expanded":""}`,children:"▼"})]}),f.sunPreference&&(0,i.jsxs)("div",{id:"sun-preference-content",className:"filter-content",role:"radiogroup","aria-labelledby":"sun-preference-label",children:[(0,i.jsxs)("div",{className:`filter-option ${"any"===t?"selected":""}`,children:[(0,i.jsx)("input",{type:"radio",id:"sun-pref-any",name:"sun-preference",value:"any",checked:"any"===t,onChange:()=>y("any"),disabled:a}),(0,i.jsx)("label",{htmlFor:"sun-pref-any",className:"filter-option-label",children:"Any amount of sun"})]}),(0,i.jsxs)("div",{className:`filter-option ${"avoid"===t?"selected":""}`,children:[(0,i.jsx)("input",{type:"radio",id:"sun-pref-avoid",name:"sun-preference",value:"avoid",checked:"avoid"===t,onChange:()=>y("avoid"),disabled:a}),(0,i.jsx)("label",{htmlFor:"sun-pref-avoid",className:"filter-option-label",children:"Avoid sun (≤20% of game)"})]}),(0,i.jsxs)("div",{className:`filter-option ${"prefer"===t?"selected":""}`,children:[(0,i.jsx)("input",{type:"radio",id:"sun-pref-prefer",name:"sun-preference",value:"prefer",checked:"prefer"===t,onChange:()=>y("prefer"),disabled:a}),(0,i.jsx)("label",{htmlFor:"sun-pref-prefer",className:"filter-option-label",children:"Prefer sun (≥60% of game)"})]}),(0,i.jsxs)("div",{className:`filter-option ${"custom"===t?"selected":""}`,children:[(0,i.jsx)("input",{type:"radio",id:"sun-pref-custom",name:"sun-preference",value:"custom",checked:"custom"===t,onChange:()=>y("custom"),disabled:a}),(0,i.jsx)("label",{htmlFor:"sun-pref-custom",className:"filter-option-label",children:"Custom range"})]})]}),"custom"===t&&f.sunPreference&&(0,i.jsxs)("div",{className:"custom-range-container",children:[(0,i.jsxs)("div",{className:"range-input-group",children:[(0,i.jsxs)("label",{htmlFor:"custom-min-range",className:"range-label",children:["Minimum Exposure: ",(0,i.jsxs)("span",{className:"range-value",children:[n,"%"]})]}),(0,i.jsx)("input",{id:"custom-min-range",type:"range",min:"0",max:"100",value:n,onChange:e=>b(Number(e.target.value),l),disabled:a,className:"range-slider","aria-label":`Minimum exposure: ${n}%`})]}),(0,i.jsxs)("div",{className:"range-input-group",children:[(0,i.jsxs)("label",{htmlFor:"custom-max-range",className:"range-label",children:["Maximum Exposure: ",(0,i.jsxs)("span",{className:"range-value",children:[l,"%"]})]}),(0,i.jsx)("input",{id:"custom-max-range",type:"range",min:"0",max:"100",value:l,onChange:e=>b(n,Number(e.target.value)),disabled:a,className:"range-slider","aria-label":`Maximum exposure: ${l}%`})]})]})]}),(0,i.jsxs)("div",{className:"filter-section",children:[(0,i.jsxs)("button",{onClick:()=>N("seatingLevel"),onKeyDown:e=>j(e,()=>N("seatingLevel")),className:"filter-section-header","aria-expanded":f.seatingLevel,"aria-controls":"seating-level-content",children:[(0,i.jsxs)("span",{className:"filter-section-title",title:"Filter by seating level",children:[(0,i.jsx)("span",{className:"filter-section-icon",children:"\uD83C\uDFDF️"}),"Seating Level"]}),(0,i.jsx)("span",{className:`filter-section-chevron ${f.seatingLevel?"expanded":""}`,children:"▼"})]}),f.seatingLevel&&(0,i.jsx)("div",{id:"seating-level-content",className:"filter-content",role:"group","aria-labelledby":"seating-level-label",children:[{value:"field",label:"Field Level",icon:"⚾"},{value:"lower",label:"Lower Bowl",icon:"\uD83C\uDFAB"},{value:"club",label:"Club Level",icon:"\uD83E\uDD42"},{value:"upper",label:"Upper Deck",icon:"\uD83C\uDFAA"},{value:"suite",label:"Suites",icon:"\uD83D\uDC51"}].map(e=>(0,i.jsxs)("div",{className:`filter-option ${d.includes(e.value)?"selected":""}`,children:[(0,i.jsx)("input",{type:"checkbox",id:`level-${e.value}`,checked:d.includes(e.value),onChange:()=>(e=>{let a=d.includes(e)?d.filter(a=>a!==e):[...d,e];u(a),v(t,n,l,a,m,h)})(e.value),disabled:a}),(0,i.jsxs)("label",{htmlFor:`level-${e.value}`,className:"filter-option-label",children:[(0,i.jsx)("span",{className:"filter-option-icon",children:e.icon}),e.label]})]},e.value))})]}),(0,i.jsxs)("div",{className:"filter-section",children:[(0,i.jsxs)("button",{onClick:()=>N("coverage"),onKeyDown:e=>j(e,()=>N("coverage")),className:"filter-section-header","aria-expanded":f.coverage,"aria-controls":"coverage-content",children:[(0,i.jsxs)("span",{className:"filter-section-title",title:"Filter by roof coverage",children:[(0,i.jsx)("span",{className:"filter-section-icon",children:"\uD83C\uDFDB️"}),"Coverage"]}),(0,i.jsx)("span",{className:`filter-section-chevron ${f.coverage?"expanded":""}`,children:"▼"})]}),f.coverage&&(0,i.jsxs)("div",{id:"coverage-content",className:"filter-content",role:"radiogroup","aria-labelledby":"coverage-label",children:[(0,i.jsxs)("div",{className:`filter-option ${"any"===m?"selected":""}`,children:[(0,i.jsx)("input",{type:"radio",id:"coverage-any",name:"covered-preference",value:"any",checked:"any"===m,onChange:()=>S("any"),disabled:a}),(0,i.jsx)("label",{htmlFor:"coverage-any",className:"filter-option-label",children:"Any coverage"})]}),(0,i.jsxs)("div",{className:`filter-option ${"covered"===m?"selected":""}`,children:[(0,i.jsx)("input",{type:"radio",id:"coverage-covered",name:"covered-preference",value:"covered",checked:"covered"===m,onChange:()=>S("covered"),disabled:a}),(0,i.jsx)("label",{htmlFor:"coverage-covered",className:"filter-option-label",children:"Covered sections only"})]}),(0,i.jsxs)("div",{className:`filter-option ${"uncovered"===m?"selected":""}`,children:[(0,i.jsx)("input",{type:"radio",id:"coverage-uncovered",name:"covered-preference",value:"uncovered",checked:"uncovered"===m,onChange:()=>S("uncovered"),disabled:a}),(0,i.jsx)("label",{htmlFor:"coverage-uncovered",className:"filter-option-label",children:"Uncovered sections only"})]})]})]}),(0,i.jsxs)("div",{className:"filter-section",children:[(0,i.jsxs)("button",{onClick:()=>N("priceRange"),onKeyDown:e=>j(e,()=>N("priceRange")),className:"filter-section-header","aria-expanded":f.priceRange,"aria-controls":"price-range-content",children:[(0,i.jsxs)("span",{className:"filter-section-title",title:"Filter by typical price range",children:[(0,i.jsx)("span",{className:"filter-section-icon",children:"\uD83D\uDCB0"}),"Price Range"]}),(0,i.jsx)("span",{className:`filter-section-chevron ${f.priceRange?"expanded":""}`,children:"▼"})]}),f.priceRange&&(0,i.jsx)("div",{id:"price-range-content",className:"filter-content",role:"group","aria-labelledby":"price-range-label",children:[{value:"value",label:"Value",icon:"\uD83D\uDCB5",description:"Upper deck, bleachers"},{value:"moderate",label:"Moderate",icon:"\uD83D\uDCB6",description:"Lower bowl, main level"},{value:"premium",label:"Premium",icon:"\uD83D\uDCB7",description:"Field level, club seats"},{value:"luxury",label:"Luxury",icon:"\uD83D\uDC8E",description:"Behind home plate, dugout"}].map(e=>(0,i.jsxs)("div",{className:`filter-option ${h.includes(e.value)?"selected":""}`,children:[(0,i.jsx)("input",{type:"checkbox",id:`price-${e.value}`,checked:h.includes(e.value),onChange:()=>(e=>{let a=h.includes(e)?h.filter(a=>a!==e):[...h,e];g(a),v(t,n,l,d,m,a)})(e.value),disabled:a}),(0,i.jsxs)("label",{htmlFor:`price-${e.value}`,className:"filter-option-label",children:[(0,i.jsx)("span",{className:"filter-option-icon",children:e.icon}),(0,i.jsxs)("span",{className:"filter-option-text",children:[(0,i.jsx)("span",{className:"filter-option-title",children:e.label}),(0,i.jsx)("span",{className:"filter-option-description",children:e.description})]})]})]},e.value))})]})]})};var Z=t(1694);let X=r.memo(({section:e,sunExposure:a,inSun:t,index:s,timeInSun:n})=>{let[o,l]=((e={})=>{let{threshold:a=.1,root:t=null,rootMargin:i="100px",triggerOnce:s=!0}=e,[n,o]=(0,r.useState)(!1),l=(0,r.useRef)(null),c=(0,r.useRef)(!1);return(0,r.useEffect)(()=>{let e=l.current;if(!e||s&&c.current)return;let r=new IntersectionObserver(a=>{a.forEach(a=>{a.isIntersecting?(o(!0),s&&(c.current=!0,r.unobserve(e))):s||o(!1)})},{threshold:a,root:t,rootMargin:i});return r.observe(e),()=>{r.unobserve(e)}},[a,t,i,s]),[l,n]})({threshold:.01,rootMargin:"200px"}),[c,d]=(0,r.useState)(!1),u=L(),m=Math.round(a);(0,r.useEffect)(()=>{l&&!c&&d(!0)},[l,c]);let p=(e,a)=>0===e?"No sun during game":e<25?a?`Sun for ~${Math.round(a)} min`:"Minimal sun":e<50?a?`Sun for ~${Math.round(a)} min`:"Some sun":e<75?a?`Sun for ~${Math.round(a)} min`:"Mostly sun":a?`Sun for ~${Math.round(a)} min`:"Full sun";return(0,i.jsx)("div",{ref:o,className:`section-card ${c?"loaded":"loading"}`,"data-exposure":m,"data-section":e.id,role:"listitem",tabIndex:0,onClick:()=>{u.light()},"aria-label":`Section ${e.name}, sun for ${m}% of game${n?` (about ${Math.round(n)} minutes)`:""}, ${e.level} level${e.covered?", covered":""}`,style:{opacity:c?1:.3,transform:c?"translateY(0)":"translateY(10px)",transition:"opacity 0.2s ease, transform 0.2s ease"},children:c?(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)("div",{className:"section-header",children:[(0,i.jsx)("h3",{children:e.name}),(0,i.jsxs)("div",{className:"sun-indicator",children:[(0,i.jsx)("span",{className:"sun-icon","aria-hidden":"true",children:(e=>0===e?(0,i.jsx)(Z.hp,{size:20}):e<25?(0,i.jsx)(Z.U0,{size:20}):e<50?(0,i.jsx)(Z.gL,{size:20,color:"#f59e0b"}):e<75?(0,i.jsx)(Z.gL,{size:20,color:"#f97316"}):(0,i.jsx)(Z.Y3,{size:20,color:"#dc2626"}))(a)}),(0,i.jsxs)("span",{className:"exposure-text",children:[m,"%",(0,i.jsxs)("span",{className:"sr-only",children:[" of game in sun - ",p(a,n)]})]}),(0,i.jsx)("span",{className:"exposure-description","aria-hidden":"true",children:p(a,n)})]})]}),(0,i.jsxs)("div",{className:"section-meta",children:[(0,i.jsx)("span",{className:"section-level","aria-label":`Seating level: ${e.level}`,children:"field"===e.level?"Field Level":"lower"===e.level?"Lower Level":"club"===e.level?"Club Level":"upper"===e.level?"Upper Level":"suite"===e.level?"Suite Level":e.level}),e.covered&&(0,i.jsx)(P,{content:"This section has a roof or overhang providing protection from sun and rain",children:(0,i.jsx)("span",{className:"covered-indicator","aria-label":"Covered section",children:"\uD83C\uDFDB️ Covered"})}),e.price&&(0,i.jsx)("span",{className:`price-tier ${e.price}`,"aria-label":`Price tier: ${e.price}`,children:e.price.charAt(0).toUpperCase()+e.price.slice(1)})]}),(0,i.jsxs)("div",{className:"section-direction","aria-label":`Section orientation: ${Math.round(e.baseAngle)} to ${Math.round(e.baseAngle+e.angleSpan)} degrees`,children:[Math.round(e.baseAngle),"\xb0-",Math.round(e.baseAngle+e.angleSpan),"\xb0"]})]}):(0,i.jsxs)("div",{className:"section-skeleton",children:[(0,i.jsx)("div",{className:"skeleton-header"}),(0,i.jsx)("div",{className:"skeleton-meta"}),(0,i.jsx)("div",{className:"skeleton-direction"})]})})},(e,a)=>e.section.id===a.section.id&&e.sunExposure===a.sunExposure&&e.inSun===a.inSun&&e.index===a.index);var ee=t(5254);let ea=(0,r.memo)(({index:e,style:a,data:t})=>{let r=t.sections[e],s={...a,paddingRight:"8px",paddingLeft:"8px",paddingBottom:"8px"};return(0,i.jsx)("div",{style:s,children:(0,i.jsx)(X,{section:r.section,sunExposure:r.sunExposure,inSun:r.inSun,index:e,timeInSun:r.timeInSun})})},ee.t7);ea.displayName="VirtualRow";let et=(0,r.forwardRef)(({children:e,...a},t)=>(0,i.jsx)("div",{ref:t,className:"virtual-section-list",...a,children:e}));et.displayName="VirtualSectionListInner";let ei=(0,r.memo)(({sections:e,height:a,itemHeight:t=260,width:s="100%"})=>{let n=(0,r.useRef)(null),o=(0,r.useCallback)(()=>{n.current&&n.current.scrollToItem(0,"start")},[]);(0,r.useEffect)(()=>{o()},[e.length>0?Math.floor(e.length/10):0,o]);let l=(0,r.useCallback)(()=>window.innerWidth<768?280:t,[t]);return(0,i.jsx)(ee.Y1,{ref:n,height:a,itemCount:e.length,itemSize:l(),width:s,itemData:{sections:e},outerElementType:et,className:"section-grid-virtual",overscanCount:3,children:ea})});ei.displayName="VirtualSectionList";var er=t(2731);t(1245);let es=({sections:e,loading:a=!1,calculationProgress:t})=>{let[s,n]=(0,r.useState)(()=>S.get("sortBy","exposure")),[o,l]=(0,r.useState)(()=>S.get("sortOrder","desc")),[c,d]=(0,r.useState)(""),[u,m]=(0,r.useState)(""),[p,h]=(0,r.useState)(600),g=L(),f=(0,r.useRef)(null),x=(0,r.useRef)(null);(0,r.useEffect)(()=>{let e=setTimeout(()=>{m(c)},150);return()=>clearTimeout(e)},[c]);let v=(0,r.useCallback)(()=>{if(x.current){let e=x.current.getBoundingClientRect();h(Math.max(400,window.innerHeight-e.top-100))}},[]);(0,r.useEffect)(()=>(v(),window.addEventListener("resize",v),()=>window.removeEventListener("resize",v)),[v]),(0,r.useEffect)(()=>{let e=f.current;if(!e)return;let a={passive:!0},t=()=>{},i=()=>{},r=()=>{};return e.addEventListener("wheel",t,a),e.addEventListener("touchstart",i,a),e.addEventListener("touchmove",r,a),()=>{e.removeEventListener("wheel",t),e.removeEventListener("touchstart",i),e.removeEventListener("touchmove",r)}},[]);let y=(0,r.useMemo)(()=>e.filter(e=>{if(!u)return!0;let a=u.toLowerCase(),t=e.section;return t.name.toLowerCase().includes(a)||t.id.toLowerCase().includes(a)||t.level.toLowerCase().includes(a)||t.price&&t.price.toLowerCase().includes(a)}),[e,u]),b=(0,r.useMemo)(()=>[...y].sort((e,a)=>{let t,i;switch(s){case"name":t=e.section.name,i=a.section.name;break;case"exposure":t=e.sunExposure,i=a.sunExposure;break;case"level":t=e.section.level,i=a.section.level;break;case"price":let r={value:1,moderate:2,premium:3,luxury:4};t=r[e.section.price||"moderate"],i=r[a.section.price||"moderate"];break;default:return 0}return"string"==typeof t&&"string"==typeof i?"asc"===o?t.localeCompare(i):i.localeCompare(t):"asc"===o?t-i:i-t}),[y,s,o]),w=e=>{let a;g.light(),a=s===e?"asc"===o?"desc":"asc":"desc",n(e),l(a),S.update("sortBy",e),S.update("sortOrder",a)},j=(e,a)=>{("Enter"===e.key||" "===e.key)&&(e.preventDefault(),a())},N=y.filter(e=>e.inSun).length,C=y.length-N;return a?(0,i.jsx)("div",{className:"section-list loading",children:(0,i.jsx)(er.k,{size:"medium",message:t?`Calculating sun exposure... ${t.completed}/${t.total} sections`:"Calculating sun exposure for all sections..."})}):(0,i.jsxs)("div",{className:"section-list",role:"region","aria-label":"Stadium sections list",ref:f,children:[(0,i.jsxs)("div",{className:"section-list-header",children:[(0,i.jsxs)("div",{className:"list-title",children:[(0,i.jsxs)("h3",{id:"sections-title",children:[(0,i.jsx)(Z.kp,{size:20})," Stadium Sections"]}),(0,i.jsxs)("div",{className:"section-summary","aria-live":"polite",children:[(0,i.jsxs)("span",{className:"summary-item sunny",children:[(0,i.jsx)(Z.gL,{size:16})," ",N," sunny"]}),(0,i.jsxs)("span",{className:"summary-item shady",children:[(0,i.jsx)(Z.hp,{size:16})," ",C," shaded"]}),u&&(0,i.jsxs)("span",{className:"summary-item search-results",children:[(0,i.jsx)(Z.WI,{size:16})," ",y.length," of ",e.length," shown"]})]}),(0,i.jsx)("div",{className:"exposure-info",children:(0,i.jsx)(P,{content:"Percentage shows how much time during the game this section will be in direct sunlight. For example, 50% means sun for about 1.5 hours of a 3-hour game.",children:(0,i.jsxs)("span",{className:"info-text",children:[(0,i.jsx)("span",{className:"info-icon",children:"ℹ"})," What do the percentages mean?"]})})})]}),(0,i.jsxs)("div",{className:"search-and-sort",children:[(0,i.jsxs)("div",{className:"search-section",children:[(0,i.jsxs)("label",{htmlFor:"section-search",className:"search-label",children:[(0,i.jsx)(Z.WI,{size:16})," Search sections:"]}),(0,i.jsx)("input",{id:"section-search",type:"text",className:"search-input",placeholder:"Search by name, level, or price...",value:c,onChange:e=>d(e.target.value),"aria-label":"Search stadium sections"}),c&&(0,i.jsx)("button",{className:"search-clear-btn",onClick:()=>{g.light(),d("")},onKeyDown:e=>j(e,()=>d("")),"aria-label":"Clear search",title:"Clear search",children:(0,i.jsx)(Z.US,{size:14})})]}),(0,i.jsxs)("div",{className:"sort-controls",role:"toolbar","aria-label":"Section sorting options",children:[(0,i.jsx)("span",{className:"sort-label",id:"sort-label",children:"Sort by:"}),(0,i.jsxs)("button",{className:`sort-btn ${"exposure"===s?"active":""}`,onClick:()=>w("exposure"),onKeyDown:e=>j(e,()=>w("exposure")),"aria-label":`Sort by sun exposure ${"exposure"===s?"desc"===o?"descending":"ascending":""}`,"aria-pressed":"exposure"===s,children:["Sun ","exposure"===s&&("desc"===o?"↓":"↑")]}),(0,i.jsxs)("button",{className:`sort-btn ${"name"===s?"active":""}`,onClick:()=>w("name"),onKeyDown:e=>j(e,()=>w("name")),"aria-label":`Sort by section name ${"name"===s?"desc"===o?"descending":"ascending":""}`,"aria-pressed":"name"===s,children:["Name ","name"===s&&("desc"===o?"↓":"↑")]}),(0,i.jsxs)("button",{className:`sort-btn ${"level"===s?"active":""}`,onClick:()=>w("level"),onKeyDown:e=>j(e,()=>w("level")),"aria-label":`Sort by seating level ${"level"===s?"desc"===o?"descending":"ascending":""}`,"aria-pressed":"level"===s,children:["Level ","level"===s&&("desc"===o?"↓":"↑")]}),(0,i.jsxs)("button",{className:`sort-btn ${"price"===s?"active":""}`,onClick:()=>w("price"),onKeyDown:e=>j(e,()=>w("price")),"aria-label":`Sort by price range ${"price"===s?"desc"===o?"descending":"ascending":""}`,"aria-pressed":"price"===s,children:["Price ","price"===s&&("desc"===o?"↓":"↑")]})]})]})]}),0===y.length?(0,i.jsx)("div",{className:"no-sections",role:"status","aria-live":"polite",children:u?(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)("p",{children:['No sections found matching "',u,'".']}),(0,i.jsx)("p",{children:"Try a different search term or clear the search to see all sections."})]}):(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("p",{children:"No sections match your filter criteria."}),(0,i.jsx)("p",{children:"Try adjusting your filters to see more results."})]})}):(0,i.jsx)("div",{className:"section-list-container",role:"list","aria-labelledby":"sections-title",ref:x,children:b.length>15?(0,i.jsx)(ei,{sections:b,height:p,itemHeight:260,width:"100%"}):(0,i.jsx)("div",{className:"section-grid",children:b.map((e,a)=>(0,i.jsx)(X,{section:e.section,sunExposure:e.sunExposure,inSun:e.inSun,index:a,timeInSun:e.timeInSun},`${e.section.id}-${a}`))})})]})};t(4869);let en=({type:e,title:a,message:t,action:r})=>{let s=(()=>{switch(e){case"no-stadium":return{icon:(0,i.jsx)(Z.VE,{size:48,color:"#9ca3af"}),title:a||"Select a Stadium",message:t||"Choose a stadium to see sun exposure data for upcoming games."};case"no-game":return{icon:(0,i.jsx)(Z.MB,{size:48,color:"#9ca3af"}),title:a||"Select a Game or Time",message:t||"Choose a game time to see which sections will be in sun or shade."};case"no-sections":return{icon:(0,i.jsx)(Z.WI,{size:48,color:"#9ca3af"}),title:a||"No Sections Found",message:t||"Try adjusting your filters to see more sections."};case"loading":return{icon:null,title:a||"Loading...",message:t||"Please wait while we calculate sun exposure data."};default:return{icon:"\uD83E\uDD14",title:a||"Something went wrong",message:t||"Please try again or contact support if the problem persists."}}})();return(0,i.jsx)("div",{className:`empty-state empty-state-${e}`,children:(0,i.jsxs)("div",{className:"empty-state-content",children:[(0,i.jsx)("div",{className:"empty-state-icon",children:s.icon}),(0,i.jsx)("h3",{className:"empty-state-title",children:s.title}),(0,i.jsx)("p",{className:"empty-state-message",children:s.message}),r&&(0,i.jsx)("div",{className:"empty-state-action",children:r}),"loading"===e&&(0,i.jsx)(er.k,{size:"medium"})]})})};t(5715);let eo=({message:e,type:a="error",duration:t=5e3,onClose:s})=>{let[n,o]=(0,r.useState)(!0);return((0,r.useEffect)(()=>{if(t>0){let e=setTimeout(()=>{o(!1),s?.()},t);return()=>clearTimeout(e)}},[t,s]),n)?(0,i.jsx)("div",{className:`error-notification error-notification-${a}`,role:"alert","aria-live":"polite",children:(0,i.jsxs)("div",{className:"error-notification-content",children:[(0,i.jsx)("span",{className:"error-notification-icon",children:(()=>{switch(a){case"error":default:return(0,i.jsx)(Z.IJ,{size:20});case"warning":return(0,i.jsx)(Z.id,{size:20});case"info":return(0,i.jsx)(Z.mo,{size:20})}})()}),(0,i.jsx)("span",{className:"error-notification-message",children:e}),(0,i.jsx)("button",{className:"error-notification-close",onClick:()=>{o(!1),s?.()},"aria-label":"Close notification",children:(0,i.jsx)(Z.US,{size:16})})]})}):null},el=r.createContext(null),ec=({children:e})=>{let[a,t]=(0,r.useState)(null),s=()=>{t(null)};return(0,i.jsxs)(el.Provider,{value:{showError:(e,a="error",i)=>{t({message:e,type:a,duration:i})},clearError:s},children:[e,a&&(0,i.jsx)(eo,{message:a.message,type:a.type,duration:a.duration,onClose:s})]})};var ed=t(5764);function eu(e,a){let t=(0,F.L_)(e,a),i=(0,o.GP)(t,"MMM dd, yyyy"),r=(0,o.GP)(t,"h:mm a"),s=function(e,a){try{let t=new Intl.DateTimeFormat("en-US",{timeZone:a,timeZoneName:"short"}).formatToParts(e).find(e=>"timeZoneName"===e.type);return t?.value||"UTC"}catch(e){return console.error("Error getting timezone abbreviation:",e),"UTC"}}(e,a);return`${i} at ${r} ${s}`}t(6855);let em=({selectedVenue:e,selectedStadium:a,selectedGame:t,gameDateTime:r,selectedLeague:s,selectedMiLBLevel:n,onLeagueChange:o,onMiLBLevelChange:l,onVenueChange:c,onStadiumChange:d,onGameSelect:u})=>{let m=e=>{switch(e){case"AAA":return"Triple-A (AAA)";case"AA":return"Double-A (AA)";case"A+":return"High-A (A+)";case"A":return"Single-A (A)";default:return e}},p=()=>{o&&o(""),c&&c(null),d?.(null)},h=()=>{l&&l(""),c&&c(null),d?.(null)},g=()=>{c&&c(null),d?.(null)},f=(e,a)=>{("Enter"===e.key||" "===e.key)&&(e.preventDefault(),a())},x=e=>a?eu(e,a.timezone):e.toLocaleDateString("en-US",{weekday:"short",year:"numeric",month:"short",day:"numeric",hour:"numeric",minute:"2-digit"});return(0,i.jsx)("nav",{className:"breadcrumb",role:"navigation","aria-label":"Current selection breadcrumb",children:(0,i.jsxs)("ol",{className:"breadcrumb-list",children:[(0,i.jsx)("li",{className:"breadcrumb-item",children:(0,i.jsx)("button",{className:"breadcrumb-button",onClick:p,onKeyDown:e=>f(e,p),"aria-label":"Back to league selection",title:"Select a different league",children:"\uD83C\uDFDF️ Select League"})}),s&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("li",{className:"breadcrumb-separator","aria-hidden":"true",children:"›"}),(0,i.jsx)("li",{className:"breadcrumb-item",children:("MiLB"!==s||n)&&(e||a)?(0,i.jsx)("button",{className:"breadcrumb-button",onClick:p,onKeyDown:e=>f(e,p),"aria-label":"Back to league selection",title:"Select a different league",children:(0,ed.Us)(s)?.name||s}):(0,i.jsx)("span",{className:"breadcrumb-current","aria-current":"page",children:(0,ed.Us)(s)?.name||s})})]}),"MiLB"===s&&n&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("li",{className:"breadcrumb-separator","aria-hidden":"true",children:"›"}),(0,i.jsx)("li",{className:"breadcrumb-item",children:e||a?(0,i.jsx)("button",{className:"breadcrumb-button",onClick:h,onKeyDown:e=>f(e,h),"aria-label":"Back to level selection",title:"Select a different level",children:m(n)}):(0,i.jsx)("span",{className:"breadcrumb-current","aria-current":"page",children:m(n)})})]}),(e||a)&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("li",{className:"breadcrumb-separator","aria-hidden":"true",children:"›"}),(0,i.jsx)("li",{className:"breadcrumb-item",children:r?(0,i.jsx)("button",{className:"breadcrumb-button",onClick:g,onKeyDown:e=>f(e,g),"aria-label":"Back to venue selection",title:"Select a different venue",children:e?.name||a?.name}):(0,i.jsx)("span",{className:"breadcrumb-current","aria-current":"page",children:e?.name||a?.name})})]}),(e||a)&&r&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("li",{className:"breadcrumb-separator","aria-hidden":"true",children:"›"}),(0,i.jsx)("li",{className:"breadcrumb-item",children:(0,i.jsx)("span",{className:"breadcrumb-current","aria-current":"page",children:t?(0,i.jsxs)(i.Fragment,{children:[(()=>{if(!("teams"in t))return`${t.awayTeam.name} @ ${t.homeTeam.name}`;{let e=t.teams.home.team.name,a=t.teams.away.team.name;return`${a} @ ${e}`}})(),(0,i.jsx)("span",{className:"breadcrumb-subtitle",children:x(r)})]}):(0,i.jsxs)(i.Fragment,{children:["Custom Time",(0,i.jsx)("span",{className:"breadcrumb-subtitle",children:x(r)})]})})})]})]})})};t(2705);let ep=({selectedStadium:e,selectedGame:a,gameDateTime:t,className:s=""})=>{let[n,o]=(0,r.useState)(!1),[l,c]=(0,r.useState)(!1),d=()=>{let i=new URLSearchParams;return e&&i.set("stadium",e.id),t&&i.set("datetime",t.toISOString()),a&&("gamePk"in a?i.set("game",a.gamePk.toString()):i.set("game",a.gameId)),`${window.location.origin}${window.location.pathname}?${i.toString()}`},u=()=>{if(!e||!t)return"Check out The Shadium - Find the best shaded seats at MLB stadiums!";let i=eu(t,e.timezone||"America/New_York");if(!a)return`Check out The Shadium for ${e.name} on ${i} - Find the best shaded seats!`;{let t,r;return"teams"in a?(t=a.teams.home.team.name,r=a.teams.away.team.name):(t=a.homeTeam.name,r=a.awayTeam.name),`Check out The Shadium for ${r} @ ${t} at ${e.name} on ${i} - Find the best shaded seats!`}},m=async()=>{try{await navigator.clipboard.writeText(d()),o(!0),setTimeout(()=>o(!1),2e3)}catch(a){console.error("Failed to copy to clipboard:",a);let e=document.createElement("textarea");e.value=d(),document.body.appendChild(e),e.select(),document.execCommand("copy"),document.body.removeChild(e),o(!0),setTimeout(()=>o(!1),2e3)}},p=async()=>{if("function"==typeof navigator.share)try{await navigator.share({title:"The Shadium - Find the best shaded seats",text:u(),url:d()})}catch(e){console.error("Failed to share:",e)}},h=()=>{let e=encodeURIComponent("The Shadium - Find the best shaded seats"),a=encodeURIComponent(`${u()}

${d()}`);window.open(`mailto:?subject=${e}&body=${a}`)},g=()=>{let e=encodeURIComponent(u()),a=encodeURIComponent(d());window.open(`https://twitter.com/intent/tweet?text=${e}&url=${a}`)},f=()=>{let e=encodeURIComponent(d());window.open(`https://www.facebook.com/sharer/sharer.php?u=${e}`)},x=(e,a)=>{("Enter"===e.key||" "===e.key)&&(e.preventDefault(),a())},v=()=>{c(!l)},y=e&&t;return(0,i.jsxs)("div",{className:`share-button-container ${s}`,children:[(0,i.jsx)(P,{content:y?"Share this stadium sun analysis":"Select a stadium and time to share",children:(0,i.jsx)("button",{className:`share-button ${!y?"disabled":""}`,onClick:v,onKeyDown:e=>x(e,v),disabled:!y,"aria-label":"Share stadium sun analysis","aria-expanded":l,"aria-haspopup":"menu",children:"\uD83D\uDD17 Share"})}),l&&y&&(0,i.jsxs)("div",{className:"share-menu",role:"menu","aria-label":"Share options",children:["function"==typeof navigator.share&&(0,i.jsx)("button",{className:"share-menu-item",onClick:p,onKeyDown:e=>x(e,p),role:"menuitem",children:"\uD83D\uDCF1 Share"}),(0,i.jsxs)("button",{className:"share-menu-item",onClick:m,onKeyDown:e=>x(e,m),role:"menuitem",children:["\uD83D\uDCCB ",n?"Copied!":"Copy Link"]}),(0,i.jsx)("button",{className:"share-menu-item",onClick:h,onKeyDown:e=>x(e,h),role:"menuitem",children:"\uD83D\uDCE7 Email"}),(0,i.jsx)("button",{className:"share-menu-item",onClick:g,onKeyDown:e=>x(e,g),role:"menuitem",children:"\uD83D\uDC26 Twitter"}),(0,i.jsx)("button",{className:"share-menu-item",onClick:f,onKeyDown:e=>x(e,f),role:"menuitem",children:"\uD83D\uDCD8 Facebook"})]}),l&&(0,i.jsx)("div",{className:"share-menu-backdrop",onClick:()=>c(!1),onKeyDown:e=>{"Escape"===e.key&&c(!1)},tabIndex:0,"aria-hidden":"true"})]})};t(2261);let eh=()=>{let{currentProfile:e,allProfiles:a,switchProfile:t,createProfile:s,deleteProfile:n,exportProfile:o,importProfile:l}=k(),[c,d]=(0,r.useState)(!1),[u,m]=(0,r.useState)(!1),[p,h]=(0,r.useState)(""),[g,f]=(0,r.useState)(""),[x,v]=(0,r.useState)(-1),y=(0,r.useRef)(null),b=(0,r.useRef)(null),S=(0,r.useRef)(null);(0,r.useRef)([]);let w=()=>b.current?Array.from(b.current.querySelectorAll('[role="menuitem"], button, input')):[];(0,r.useEffect)(()=>{let e=e=>{e.target.closest(".user-profile-menu")||(d(!1),v(-1))},a=e=>{"Escape"===e.key&&c&&(d(!1),v(-1),S.current?.focus())};if(c)return document.addEventListener("click",e),document.addEventListener("keydown",a),()=>{document.removeEventListener("click",e),document.removeEventListener("keydown",a)}},[c]),(0,r.useEffect)(()=>{c&&setTimeout(()=>{let e=w();e.length>0&&(v(0),e[0]?.focus())},100)},[c]);let j=()=>{p.trim()&&(s(p.trim(),g.trim()||void 0),h(""),f(""),m(!1),d(!1))},N=e=>e.split(" ").map(e=>e[0]).join("").toUpperCase().slice(0,2);return e?(0,i.jsxs)("div",{className:"user-profile-menu",children:[(0,i.jsx)(P,{content:`Logged in as ${e.name}`,children:(0,i.jsxs)("button",{ref:S,className:"profile-menu-trigger",onClick:()=>d(!c),onKeyDown:e=>{("Enter"===e.key||" "===e.key)&&(e.preventDefault(),d(!c))},"aria-expanded":c,"aria-haspopup":"menu","aria-controls":"profile-menu",id:"profile-menu-trigger",children:[(0,i.jsx)("div",{className:"profile-avatar",style:{backgroundColor:e.avatarColor},children:N(e.name)}),(0,i.jsx)("span",{className:"profile-name",children:e.name}),(0,i.jsx)("span",{className:"dropdown-icon","aria-hidden":"true",children:"▼"})]})}),c&&(0,i.jsxs)("div",{ref:b,className:"profile-menu-dropdown",role:"menu",id:"profile-menu","aria-labelledby":"profile-menu-trigger",onKeyDown:e=>{let a=w();switch(e.key){case"Escape":e.preventDefault(),d(!1),S.current?.focus();break;case"ArrowDown":e.preventDefault();let t=x<a.length-1?x+1:0;v(t),a[t]?.focus();break;case"ArrowUp":e.preventDefault();let i=x>0?x-1:a.length-1;v(i),a[i]?.focus();break;case"Home":e.preventDefault(),v(0),a[0]?.focus();break;case"End":e.preventDefault();let r=a.length-1;v(r),a[r]?.focus()}},children:[(0,i.jsx)("div",{className:"profile-info",children:(0,i.jsxs)("div",{className:"profile-info-header",children:[(0,i.jsx)("div",{className:"profile-avatar-large",style:{backgroundColor:e.avatarColor},children:N(e.name)}),(0,i.jsxs)("div",{className:"profile-details",children:[(0,i.jsx)("div",{className:"profile-name-large",children:e.name}),e.email&&(0,i.jsx)("div",{className:"profile-email",children:e.email}),(0,i.jsxs)("div",{className:"profile-stats",children:[(0,i.jsxs)("span",{children:[e.stats.stadiumsViewed.length," stadiums viewed"]}),(0,i.jsxs)("span",{children:[e.favorites.stadiums.length," favorites"]})]})]})]})}),(0,i.jsx)("div",{className:"menu-divider"}),a.length>1&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("div",{className:"menu-section-title",children:"Switch Profile"}),a.filter(a=>a.id!==e.id).map(e=>(0,i.jsxs)("button",{className:"menu-item profile-switch-item",onClick:()=>{t(e.id),d(!1)},role:"menuitem",children:[(0,i.jsx)("div",{className:"profile-avatar-small",style:{backgroundColor:e.avatarColor},children:N(e.name)}),(0,i.jsx)("span",{children:e.name})]},e.id)),(0,i.jsx)("div",{className:"menu-divider"})]}),u?(0,i.jsxs)("div",{className:"create-profile-form",role:"dialog","aria-labelledby":"create-profile-heading",children:[(0,i.jsx)("h4",{id:"create-profile-heading",className:"form-heading",children:"Create New Profile"}),(0,i.jsxs)("div",{className:"form-field",children:[(0,i.jsx)("label",{htmlFor:"profile-name-input",className:"form-label",children:"Profile Name *"}),(0,i.jsx)("input",{id:"profile-name-input",type:"text",placeholder:"Enter profile name",value:p,onChange:e=>h(e.target.value),onKeyPress:e=>"Enter"===e.key&&j(),autoFocus:!0,required:!0,"aria-describedby":"profile-name-help"}),(0,i.jsx)("div",{id:"profile-name-help",className:"form-help",children:"This will be displayed as your profile name"})]}),(0,i.jsxs)("div",{className:"form-field",children:[(0,i.jsx)("label",{htmlFor:"profile-email-input",className:"form-label",children:"Email (Optional)"}),(0,i.jsx)("input",{id:"profile-email-input",type:"email",placeholder:"Enter email address",value:g,onChange:e=>f(e.target.value),onKeyPress:e=>"Enter"===e.key&&j(),"aria-describedby":"profile-email-help"}),(0,i.jsx)("div",{id:"profile-email-help",className:"form-help",children:"Used for profile identification and data export"})]}),(0,i.jsxs)("div",{className:"form-actions",children:[(0,i.jsx)("button",{onClick:j,disabled:!p.trim(),className:"btn-primary",role:"menuitem","aria-describedby":"create-btn-help",children:"Create Profile"}),(0,i.jsx)("div",{id:"create-btn-help",className:"sr-only",children:p.trim()?"Create new profile with entered information":"Profile name is required"}),(0,i.jsx)("button",{onClick:()=>{m(!1),h(""),f("")},className:"btn-secondary",role:"menuitem",children:"Cancel"})]})]}):(0,i.jsx)(i.Fragment,{children:(0,i.jsxs)("button",{className:"menu-item",onClick:()=>m(!0),role:"menuitem",children:[(0,i.jsx)("span",{className:"menu-icon",children:"➕"}),"Create New Profile"]})}),(0,i.jsxs)("button",{className:"menu-item",onClick:()=>{let a=o();if(a){let t=new Blob([a],{type:"application/json"}),i=URL.createObjectURL(t),r=document.createElement("a");r.href=i,r.download=`mlb-sun-tracker-profile-${e?.name.replace(/\s+/g,"-").toLowerCase()}.json`,document.body.appendChild(r),r.click(),document.body.removeChild(r),URL.revokeObjectURL(i)}},role:"menuitem",children:[(0,i.jsx)("span",{className:"menu-icon",children:"\uD83D\uDCBE"}),"Export Profile"]}),(0,i.jsxs)("button",{className:"menu-item",onClick:()=>y.current?.click(),role:"menuitem",children:[(0,i.jsx)("span",{className:"menu-icon",children:"\uD83D\uDCE5"}),"Import Profile"]}),(0,i.jsx)("input",{ref:y,type:"file",accept:".json",onChange:e=>{let a=e.target.files?.[0];if(a){let e=new FileReader;e.onload=e=>{l(e.target?.result)?d(!1):alert("Failed to import profile. Please check the file format.")},e.readAsText(a)}},style:{display:"none"}}),a.length>1&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("div",{className:"menu-divider"}),(0,i.jsxs)("button",{className:"menu-item menu-item-danger",onClick:()=>{window.confirm(`Are you sure you want to delete the profile "${e.name}"?`)&&(n(e.id),d(!1))},role:"menuitem",children:[(0,i.jsx)("span",{className:"menu-icon",children:"\uD83D\uDDD1️"}),"Delete Profile"]})]})]})]}):null};var eg=t(5734),ef=t.n(eg),ex=t(4281);t(1890);class ev{constructor(e,a=!1){this.stadium=e,this.seatCache=new Map,this.sunDirectionCache=new Map,this.useWebWorkers=a&&"undefined"!=typeof Worker,this.buildBVH(),this.buildSpatialGrid(),this.useWebWorkers&&this.initializeWorkerPool()}buildBVH(){0!==this.stadium.obstructions.length&&(this.bvhRoot=this.buildBVHNode(this.stadium.obstructions))}buildBVHNode(e){let a={min:{x:1/0,y:1/0,z:1/0},max:{x:-1/0,y:-1/0,z:-1/0},obstructions:[]};for(let t of e)a.min.x=Math.min(a.min.x,t.boundingBox.min.x),a.min.y=Math.min(a.min.y,t.boundingBox.min.y),a.min.z=Math.min(a.min.z,t.boundingBox.min.z),a.max.x=Math.max(a.max.x,t.boundingBox.max.x),a.max.y=Math.max(a.max.y,t.boundingBox.max.y),a.max.z=Math.max(a.max.z,t.boundingBox.max.z);if(e.length<=4)return a.obstructions=e,a;let t={x:a.max.x-a.min.x,y:a.max.y-a.min.y,z:a.max.z-a.min.z},i="x";t.y>t.x&&t.y>t.z?i="y":t.z>t.x&&(i="z");let r=[...e].sort((e,a)=>(e.boundingBox.min[i]+e.boundingBox.max[i])/2-(a.boundingBox.min[i]+a.boundingBox.max[i])/2),s=Math.floor(r.length/2);return a.left=this.buildBVHNode(r.slice(0,s)),a.right=this.buildBVHNode(r.slice(s)),a}buildSpatialGrid(){let e=new Map;for(let a of this.stadium.obstructions){let t=this.worldToGrid(a.boundingBox.min,50),i=this.worldToGrid(a.boundingBox.max,50);for(let r=t.x;r<=i.x;r++)for(let s=t.y;s<=i.y;s++)for(let n=t.z;n<=i.z;n++){let t=`${r},${s},${n}`;e.has(t)||e.set(t,[]),e.get(t).push(a)}}this.spatialGrid={cellSize:50,grid:e,bounds:{min:{x:-500,y:-500,z:0},max:{x:500,y:500,z:200}}}}worldToGrid(e,a){return{x:Math.floor(e.x/a),y:Math.floor(e.y/a),z:Math.floor(e.z/a)}}initializeWorkerPool(){let e=Math.min(navigator.hardwareConcurrency||4,8);this.workerPool=[];for(let a=0;a<e;a++);}rayIntersectsAABBOptimized(e,a,t,i,r=1/0){let s={x:1/a.x,y:1/a.y,z:1/a.z},n=(t.x-e.x)*s.x,o=(i.x-e.x)*s.x,l=(t.y-e.y)*s.y,c=(i.y-e.y)*s.y,d=(t.z-e.z)*s.z,u=(i.z-e.z)*s.z,m=Math.max(Math.min(n,o),Math.min(l,c),Math.min(d,u)),p=Math.min(Math.max(n,o),Math.max(l,c),Math.max(d,u),r);return p>=0&&p>=m}traverseBVH(e,a,t){if(!e||!this.rayIntersectsAABBOptimized(a,t,e.min,e.max))return[];if(e.obstructions.length>0)return e.obstructions.filter(e=>this.rayIntersectsAABBOptimized(a,t,e.boundingBox.min,e.boundingBox.max));let i=[];return e.left&&i.push(...this.traverseBVH(e.left,a,t)),e.right&&i.push(...this.traverseBVH(e.right,a,t)),i}isSeatInShadeOptimized(e,a){let t=`${e.id}-${a.x}-${a.y}-${a.z}`;if(this.seatCache.has(t))return this.seatCache.get(t);let i=this.traverseBVH(this.bvhRoot,e.position,a),r=0,s=[];for(let e of i)s.push(e.id),r+=e.opacity||1;r=Math.min(1,r);let n={seatId:e.id,inShade:r>.5,obstructedBy:s.length>0?s:void 0,shadeFraction:r};return this.seatCache.set(t,n),n}getSunRayDirection(e){let a=`${e.azimuth}-${e.elevation}`;if(this.sunDirectionCache.has(a))return this.sunDirectionCache.get(a);let t=e.azimuthRadians,i=e.elevationRadians,r={x:-Math.sin(t)*Math.cos(i),y:-Math.cos(t)*Math.cos(i),z:-Math.sin(i)};return this.sunDirectionCache.set(a,r),r}calculateSectionShadeOptimized(e,a,t="medium"){let i=this.getSunRayDirection(a);if(a.elevation<=0)return this.createFullShadeResult(e);let r=1;switch(t){case"low":r=4;break;case"medium":r=2;break;case"high":r=1}let s=[],n=0;for(let a=0;a<e.seats.length;a+=r){let t=e.seats[a],o=this.isSeatInShadeOptimized(t,i);s.push(o),o.inShade&&(n+=r)}if(r>1){for(let a=0;a<e.seats.length;a++)if(a%r!=0){let t=s[Math.floor(a/r)*r/r];s.push({seatId:e.seats[a].id,inShade:t.inShade,obstructedBy:t.obstructedBy,shadeFraction:t.shadeFraction})}}return{sectionId:e.id,percentageInShade:n/e.seats.length*100,seatsInShade:n,totalSeats:e.seats.length,seatResults:s}}calculateAllSectionsShade(e){return this.calculateAllSectionsOptimized(e)}calculateAllSectionsOptimized(e,a=16){let t=new Map,i=performance.now(),r=[...this.stadium.sections].sort((e,a)=>{let t={field:0,lower:1,club:2,suite:3,upper:4};return(t[e.level]||5)-(t[a.level]||5)}),s="high";for(let n=0;n<r.length;n++){let o=r[n],l=performance.now()-i,c=l/(n+1)*(r.length-n-1);c+l>2*a?s="low":c+l>a&&(s="medium");let d=this.calculateSectionShadeOptimized(o,e,s);t.set(o.id,d)}return t}estimateSectionShade(e,a){return this.estimateSectionShadeQuick(e,a)}estimateSectionShadeQuick(e,a){let t=this.getSunRayDirection(a),i=[this.calculateSectionCenter(e),e.vertices[0],e.vertices[e.vertices.length-1]],r=0;for(let e of i)this.traverseBVH(this.bvhRoot,e,t).length>0&&r++;let s=(e.baseAngle+e.angleSpan/2)*Math.PI/180;return 100*Math.min(1,.7*(Math.abs(a.azimuthRadians-this.stadium.orientation*Math.PI/180-s)>Math.PI/2)+r/i.length)}calculateSectionCenter(e){if(0===e.vertices.length)return{x:0,y:0,z:0};let a=e.vertices.reduce((e,a)=>({x:e.x+a.x,y:e.y+a.y,z:e.z+a.z}),{x:0,y:0,z:0});return{x:a.x/e.vertices.length,y:a.y/e.vertices.length,z:a.z/e.vertices.length}}createFullShadeResult(e){return{sectionId:e.id,percentageInShade:100,seatsInShade:e.seats.length,totalSeats:e.seats.length,seatResults:e.seats.map(e=>({seatId:e.id,inShade:!0,shadeFraction:1}))}}clearCaches(){this.seatCache.clear(),this.sunDirectionCache.clear()}destroy(){this.clearCaches(),this.workerPool&&(this.workerPool.forEach(e=>e.terminate()),this.workerPool=void 0)}}function ey(e){return e*Math.PI/180}function eb(e,a,t){let i=e*Math.PI/180;return{x:a*Math.cos(i),y:a*Math.sin(i),z:t}}let eS={yankees:[{id:"frieze-facade",type:"structure",boundingBox:{min:{x:-200,y:100,z:90},max:{x:200,y:120,z:110}},opacity:.7},{id:"monument-park-overhang",type:"overhang",boundingBox:{min:eb(315,380,15),max:eb(45,410,35)},opacity:.9}],redsox:[{id:"green-monster",type:"structure",boundingBox:{min:eb(225,310,0),max:eb(270,315,37)},opacity:1},{id:"rf-roof-deck",type:"upper_deck",boundingBox:{min:eb(340,280,60),max:eb(20,320,85)},opacity:.8}],astros:[{id:"train-track",type:"structure",boundingBox:{min:eb(270,400,20),max:eb(315,436,40)},opacity:.8},{id:"crawford-boxes",type:"overhang",boundingBox:{min:eb(225,280,25),max:eb(270,315,45)},opacity:.85}],giants:[{id:"coke-bottle",type:"structure",boundingBox:{min:eb(270,415,0),max:eb(275,420,80)},opacity:.9},{id:"arcade",type:"structure",boundingBox:{min:eb(20,420,0),max:eb(70,450,65)},opacity:.7}],dodgers:[{id:"left-pavilion-roof",type:"roof",boundingBox:{min:eb(200,350,55),max:eb(240,400,70)},opacity:.9},{id:"right-pavilion-roof",type:"roof",boundingBox:{min:eb(300,350,55),max:eb(340,400,70)},opacity:.9}],cubs:[{id:"upper-deck-overhang",type:"upper_deck",boundingBox:{min:eb(180,200,65),max:eb(360,240,80)},opacity:.85},{id:"bleacher-boards",type:"structure",boundingBox:{min:eb(315,360,0),max:eb(45,380,25)},opacity:.6}],mariners:[{id:"roof-track-left",type:"structure",boundingBox:{min:eb(180,200,100),max:eb(220,210,115)},opacity:.7},{id:"roof-track-right",type:"structure",boundingBox:{min:eb(320,200,100),max:eb(360,210,115)},opacity:.7}],rangers:[{id:"home-run-porch",type:"structure",boundingBox:{min:eb(330,300,25),max:eb(30,330,45)},opacity:.8}],orioles:[{id:"warehouse",type:"structure",boundingBox:{min:eb(30,450,0),max:eb(90,500,100)},opacity:1}],cardinals:[{id:"big-mac-land",type:"structure",boundingBox:{min:eb(270,350,35),max:eb(290,380,55)},opacity:.75}],whitesox:[{id:"fundamentals-deck",type:"upper_deck",boundingBox:{min:eb(315,280,40),max:eb(45,320,60)},opacity:.8}],phillies:[{id:"ashburn-alley",type:"overhang",boundingBox:{min:eb(315,320,45),max:eb(45,360,65)},opacity:.85}],nationals:[{id:"red-porch",type:"structure",boundingBox:{min:eb(315,330,25),max:eb(45,370,45)},opacity:.8}],braves:[{id:"chop-house",type:"structure",boundingBox:{min:eb(30,380,30),max:eb(90,420,50)},opacity:.75}],mets:[{id:"shea-bridge",type:"structure",boundingBox:{min:eb(315,380,60),max:eb(45,400,75)},opacity:.7}],pirates:[{id:"riverwalk",type:"overhang",boundingBox:{min:eb(20,320,35),max:eb(90,360,55)},opacity:.8}],reds:[{id:"riverboat-deck",type:"structure",boundingBox:{min:eb(315,380,40),max:eb(45,410,60)},opacity:.75}],rockies:[{id:"rock-pile",type:"structure",boundingBox:{min:eb(315,390,20),max:eb(45,420,40)},opacity:.7}],padres:[{id:"western-metal",type:"structure",boundingBox:{min:eb(210,320,0),max:eb(230,335,85)},opacity:1},{id:"park-at-park",type:"structure",boundingBox:{min:eb(315,380,0),max:eb(45,430,30)},opacity:.5}],twins:[{id:"overlook",type:"upper_deck",boundingBox:{min:eb(330,280,55),max:eb(30,320,75)},opacity:.85}],royals:[{id:"crown-vision",type:"scoreboard",boundingBox:{min:eb(315,400,50),max:eb(45,420,100)},opacity:.9}],tigers:[{id:"dugout-overhang",type:"overhang",boundingBox:{min:eb(90,100,25),max:eb(270,140,40)},opacity:.8}],guardians:[{id:"heritage-park",type:"structure",boundingBox:{min:eb(315,370,25),max:eb(45,410,45)},opacity:.7}],rays:[{id:"catwalk-a",type:"structure",boundingBox:{min:eb(0,150,85),max:eb(360,180,90)},opacity:.4},{id:"catwalk-b",type:"structure",boundingBox:{min:eb(0,220,95),max:eb(360,250,100)},opacity:.4}],angels:[{id:"rock-waterfall",type:"structure",boundingBox:{min:eb(315,370,0),max:eb(45,390,55)},opacity:.7}],athletics:[{id:"mt-davis",type:"structure",boundingBox:{min:eb(315,380,0),max:eb(45,450,100)},opacity:1}],bluejays:[{id:"hotel-windows",type:"structure",boundingBox:{min:eb(315,380,80),max:eb(45,400,140)},opacity:.6}],brewers:[{id:"bernie-brewer-slide",type:"structure",boundingBox:{min:eb(270,380,20),max:eb(290,400,60)},opacity:.7}],diamondbacks:[{id:"pool-area",type:"structure",boundingBox:{min:eb(30,380,0),max:eb(60,415,25)},opacity:.6}],marlins:[{id:"home-run-sculpture",type:"structure",boundingBox:{min:eb(270,390,20),max:eb(290,410,70)},opacity:.8}]},ew={"buffalo-bisons":[{id:"upper-deck",type:"upper_deck",boundingBox:{min:eb(180,180,45),max:eb(360,220,65)},opacity:.85}],"charlotte-knights":[{id:"skyline-deck",type:"upper_deck",boundingBox:{min:eb(270,280,50),max:eb(90,320,70)},opacity:.8}],"columbus-clippers":[{id:"rooftop-terrace",type:"structure",boundingBox:{min:eb(30,340,35),max:eb(60,380,55)},opacity:.75}],"durham-bulls":[{id:"blue-monster",type:"structure",boundingBox:{min:eb(225,305,0),max:eb(245,310,32)},opacity:1}],"gwinnett-stripers":[{id:"party-pavilion",type:"structure",boundingBox:{min:eb(30,350,25),max:eb(90,390,45)},opacity:.7}],"indianapolis-indians":[{id:"lawn-seating",type:"structure",boundingBox:{min:eb(270,360,15),max:eb(90,400,35)},opacity:.6}],"iowa-cubs":[{id:"right-field-deck",type:"upper_deck",boundingBox:{min:eb(330,280,40),max:eb(30,320,60)},opacity:.8}],"las-vegas-aviators":[{id:"pool-beyond-rf",type:"structure",boundingBox:{min:eb(30,380,0),max:eb(60,420,20)},opacity:.5}],"louisville-bats":[{id:"pepsi-party-deck",type:"upper_deck",boundingBox:{min:eb(315,320,40),max:eb(45,360,60)},opacity:.75}],"memphis-redbirds":[{id:"bluff-seating",type:"structure",boundingBox:{min:eb(270,350,30),max:eb(90,390,50)},opacity:.7}],"portland-sea-dogs":[{id:"maine-monster",type:"structure",boundingBox:{min:eb(225,315,0),max:eb(245,320,37)},opacity:1}],"richmond-flying-squirrels":[{id:"party-deck",type:"upper_deck",boundingBox:{min:eb(30,320,35),max:eb(90,360,55)},opacity:.75}],"hartford-yard-goats":[{id:"dunkin-park-deck",type:"upper_deck",boundingBox:{min:eb(270,280,40),max:eb(90,320,60)},opacity:.8}],"san-antonio-missions":[{id:"berm-seating",type:"structure",boundingBox:{min:eb(270,360,0),max:eb(90,400,20)},opacity:.5}],"tulsa-drillers":[{id:"oil-derrick",type:"structure",boundingBox:{min:eb(30,380,0),max:eb(35,385,60)},opacity:.7}]},ej={"highmark-stadium":[{id:"upper-deck-overhang",type:"upper_deck",boundingBox:{min:eb(90,200,60),max:eb(270,250,80)},opacity:.9}],"hard-rock-stadium":[{id:"canopy-roof",type:"roof",boundingBox:{min:eb(0,180,90),max:eb(360,240,110)},opacity:.85}],"gillette-stadium":[{id:"lighthouse",type:"structure",boundingBox:{min:eb(45,380,0),max:eb(50,385,120)},opacity:1},{id:"bridge-structure",type:"structure",boundingBox:{min:eb(0,360,80),max:eb(180,370,100)},opacity:.8}],"metlife-stadium":[{id:"upper-tier-overhang",type:"upper_deck",boundingBox:{min:eb(0,220,70),max:eb(360,270,90)},opacity:.85}],"paul-brown-stadium":[{id:"club-level-overhang",type:"overhang",boundingBox:{min:eb(90,180,50),max:eb(270,220,65)},opacity:.8}],"m-and-t-bank-stadium":[{id:"upper-deck-structure",type:"upper_deck",boundingBox:{min:eb(0,200,65),max:eb(360,250,85)},opacity:.85}],"acrisure-stadium":[{id:"scoreboard-structure",type:"scoreboard",boundingBox:{min:eb(315,380,40),max:eb(45,400,90)},opacity:.9}],"cleveland-browns-stadium":[{id:"dawg-pound-overhang",type:"overhang",boundingBox:{min:eb(90,180,45),max:eb(270,210,60)},opacity:.75}],"lucas-oil-stadium":[{id:"retractable-roof",type:"roof",boundingBox:{min:eb(0,0,100),max:eb(360,300,120)},opacity:1}],"nissan-stadium":[{id:"upper-level-overhang",type:"upper_deck",boundingBox:{min:eb(90,190,55),max:eb(270,230,75)},opacity:.8}],"nrg-stadium":[{id:"retractable-roof-panels",type:"roof",boundingBox:{min:eb(0,0,110),max:eb(360,320,130)},opacity:1}],"tiaa-bank-field":[{id:"pools-cabanas",type:"structure",boundingBox:{min:eb(45,360,20),max:eb(135,390,40)},opacity:.7}],"allegiant-stadium":[{id:"translucent-roof",type:"roof",boundingBox:{min:eb(0,0,100),max:eb(360,350,125)},opacity:.3}],"empower-field":[{id:"ring-of-fame",type:"structure",boundingBox:{min:eb(0,280,75),max:eb(360,300,85)},opacity:.6}],"arrowhead-stadium":[{id:"upper-deck-spiral",type:"upper_deck",boundingBox:{min:eb(0,210,65),max:eb(360,260,85)},opacity:.85}],"sofi-stadium":[{id:"translucent-canopy",type:"roof",boundingBox:{min:eb(0,0,95),max:eb(360,400,115)},opacity:.4},{id:"oculus-video-board",type:"scoreboard",boundingBox:{min:eb(0,150,60),max:eb(360,170,80)},opacity:.9}],"at-t-stadium":[{id:"retractable-roof",type:"roof",boundingBox:{min:eb(0,0,110),max:eb(360,380,135)},opacity:1},{id:"center-video-board",type:"scoreboard",boundingBox:{min:eb(90,160,50),max:eb(270,180,90)},opacity:.95}],"lincoln-financial-field":[{id:"upper-level-overhang",type:"upper_deck",boundingBox:{min:eb(0,200,60),max:eb(360,240,80)},opacity:.85}],"fedex-field":[{id:"upper-deck-structure",type:"upper_deck",boundingBox:{min:eb(90,190,55),max:eb(270,230,75)},opacity:.8}],"soldier-field":[{id:"colonnade-structure",type:"structure",boundingBox:{min:eb(0,280,0),max:eb(360,300,90)},opacity:.7}],"ford-field":[{id:"fixed-dome",type:"roof",boundingBox:{min:eb(0,0,95),max:eb(360,320,115)},opacity:1}],"lambeau-field":[{id:"bowl-structure",type:"upper_deck",boundingBox:{min:eb(0,200,60),max:eb(360,250,80)},opacity:.85}],"us-bank-stadium":[{id:"etfe-roof",type:"roof",boundingBox:{min:eb(0,0,100),max:eb(360,340,120)},opacity:.4},{id:"glass-panels",type:"structure",boundingBox:{min:eb(270,300,0),max:eb(360,320,100)},opacity:.3}],"bank-of-america-stadium":[{id:"upper-bowl-overhang",type:"upper_deck",boundingBox:{min:eb(0,190,55),max:eb(360,230,75)},opacity:.8}],"mercedes-benz-superdome":[{id:"dome-roof",type:"roof",boundingBox:{min:eb(0,0,90),max:eb(360,320,110)},opacity:1}],"raymond-james-stadium":[{id:"pirate-ship",type:"structure",boundingBox:{min:eb(45,360,0),max:eb(75,390,50)},opacity:.8}],"mercedes-benz-stadium":[{id:"retractable-petals",type:"roof",boundingBox:{min:eb(0,0,105),max:eb(360,350,125)},opacity:.9},{id:"halo-board",type:"scoreboard",boundingBox:{min:eb(0,260,70),max:eb(360,280,90)},opacity:.85}],"state-farm-stadium":[{id:"retractable-roof",type:"roof",boundingBox:{min:eb(0,0,100),max:eb(360,340,120)},opacity:1}],"levis-stadium":[{id:"suite-tower",type:"structure",boundingBox:{min:eb(180,250,40),max:eb(360,290,80)},opacity:.85}],"lumen-field":[{id:"hawks-nest",type:"overhang",boundingBox:{min:eb(45,280,70),max:eb(135,320,90)},opacity:.9}]};function eN(e,a,t){let i=e*Math.PI/180;return{x:a*Math.cos(i),y:a*Math.sin(i),z:t}}let eC=new Map,ek=new Map;function eD(e,a,t){let i=ef().getPosition(e,a,t),r=(180*i.azimuth/Math.PI+180)%360,s=180*i.altitude/Math.PI;return{azimuth:i.azimuth,altitude:i.altitude,azimuthDegrees:r,altitudeDegrees:s}}function eP(e,a){return e.filter(e=>{let{section:t,sunExposure:i}=e;return(void 0===a.minExposure||!(i<a.minExposure))&&(void 0===a.maxExposure||!(i>a.maxExposure))&&(!a.levels||!(a.levels.length>0)||!!a.levels.includes(t.level))&&(void 0===a.covered||t.covered===a.covered)&&(!a.priceRange||!(a.priceRange.length>0)||!t.price||!!a.priceRange.includes(t.price))})}function eE(){var e;let{currentProfile:a,updatePreferences:t,trackStadiumView:n}=k(),{t:o}=W(),[l,c]=(0,r.useState)(null),[d,u]=(0,r.useState)(null),[m,p]=(0,r.useState)(null),[h,g]=(0,r.useState)(null),[f,x]=(0,r.useState)(null),[v,y]=(0,r.useState)(!1),[b,S]=(0,r.useState)([]),[w,j]=(0,r.useState)([]),[N,C]=(0,r.useState)({}),[D,F]=(0,r.useState)(!1),{showError:A}=(()=>{let e=r.useContext(el);if(!e)throw Error("useError must be used within an ErrorProvider");return e})();(0,r.useEffect)(()=>{},[]),(0,r.useEffect)(()=>{let e=new URLSearchParams(window.location.search),t=a?.preferences||{},i=e.get("stadium"),r=e.get("datetime");if(i){let e=s.find(e=>e.id===i);if(e&&(c(e),r))try{let e=new Date(r);isNaN(e.getTime())||p(e)}catch(e){console.error("Invalid datetime parameter:",e)}}else if(t.selectedStadiumId){let e=s.find(e=>e.id===t.selectedStadiumId);e&&c(e)}t.filterCriteria&&C(t.filterCriteria)},[a]);let T=(0,r.useCallback)(async()=>{if(l){y(!0);try{let e=await Y.getForecast(l.latitude,l.longitude);x(e)}catch(e){console.error("Error loading weather forecast:",e),x(null),A(o("weather.error"),"warning")}finally{y(!1)}}},[l,A,o]);(0,r.useEffect)(()=>{if(l&&m){F(!0);try{let e=eD(m,l.latitude,l.longitude);g(e);let a=f?Y.getWeatherForTime(f,m):void 0,t=(function(e,a,t){var i,r;let s=eD(a,e.latitude,e.longitude);if(s.altitudeDegrees<=0||"fixed"===e.roof)return(0,ex._V)(e.id).map(e=>({section:e,shadePercentage:100,isFullyShaded:!0,isPartiallyShaded:!1,isInSun:!1}));let n=function(e){if(ek.has(e.id))return ek.get(e.id);let a=(0,ex._V)(e.id),t=new ev(function(e,a){let t=e.id;if(eC.has(t))return eC.get(t);let i=[];for(let e of a){let a,t;switch(e.level){case"field":a=60,t=0;break;case"lower":default:a=150,t=25;break;case"club":a=180,t=50;break;case"upper":a=200,t=75;break;case"suite":a=170,t=60}let r=function(e,a,t){let i=[eN(e.baseAngle,a,t),eN(e.baseAngle+e.angleSpan,a,t),eN(e.baseAngle,a+60,t+50),eN(e.baseAngle+e.angleSpan,a+60,t+50)];return{id:e.id,name:e.name,level:e.level,vertices:i,seats:function(e,a,t,i=20,r=20){let s=[],n=e.angleSpan/r,o=60/i;for(let l=0;l<i;l++)for(let i=0;i<r;i++){let r=e.baseAngle+i*n,c=a+l*o,d=t+2.5*l;s.push({id:`${e.id}-R${l+1}-S${i+1}`,sectionId:e.id,row:l+1,seatNumber:i+1,position:eN(r,c,d)})}return s}(e,a,t),baseAngle:e.baseAngle,angleSpan:e.angleSpan}}(e,a,t);i.push(r)}let r={id:e.id,sections:i,obstructions:function(e){var a;let t=[];if(e.roofOverhang&&e.roofOverhang>0){let a=e.roofHeight||120;for(let i=0;i<360;i+=30){let r=200+e.roofOverhang;t.push({id:`roof-segment-${i}`,type:"roof",boundingBox:{min:eN(i-15,200,a-10),max:eN(i+15,r,a)},opacity:1})}}if(e.upperDeckHeight)for(let a=0;a<360;a+=45)t.push({id:`upper-deck-${a}`,type:"upper_deck",boundingBox:{min:eN(a-22.5,150,e.upperDeckHeight-5),max:eN(a+22.5,180,e.upperDeckHeight)},opacity:.9});let i=eS[a=e.id]?eS[a]:ew[a]?ew[a]:ej[a]?ej[a]:[];return t.push(...i),t}(e),origin:{x:0,y:0,z:0},orientation:e.orientation};return eC.set(t,r),r}(e,a));return ek.set(e.id,t),t}(e),o={azimuth:i=s.azimuthDegrees,elevation:r=s.altitudeDegrees,azimuthRadians:ey(i),elevationRadians:ey(r)},l=n.calculateAllSectionsShade(o),c=1;t&&(c=function(e){let{cloudCover:a,conditions:t,precipitationProbability:i}=e;if(i&&i>70||t.some(e=>"Rain"===e.main||"Snow"===e.main))return .1;if(i&&i>30)return .4;if(a>80)return .4;if(a>60)return .6;if(a>40)return .8;else if(a>15)return .9;return 1}(t));let d=[];for(let a of(0,ex._V)(e.id)){let e=l.get(a.id);if(!e){d.push({section:a,shadePercentage:0,isFullyShaded:!1,isPartiallyShaded:!1,isInSun:!0});continue}let t=Math.min(100,e.percentageInShade+(100-e.percentageInShade)*(1-c));d.push({section:a,shadePercentage:Math.round(t),isFullyShaded:t>=95,isPartiallyShaded:t>5&&t<95,isInSun:t<50})}return d})(l,m,a).map(e=>({section:e.section,inSun:!e.isFullyShaded&&!e.isPartiallyShaded,sunExposure:100-e.shadePercentage}));S(t);let i=eP(t,N);j(i)}catch(e){console.error("Error calculating sun exposure:",e),A(o("errors.sunCalculation"),"error")}finally{F(!1)}}},[l,m,f,N,A,o]),(0,r.useEffect)(()=>{l&&T()},[l,T]),(0,r.useEffect)(()=>{b.length>0&&j(eP(b,N))},[b,N]);let L=(e,a)=>{u(e),p(a)},B=e=>{try{c(e),u(null),p(null),x(null),g(null),S([]),j([]),C({}),e?(t({selectedStadiumId:e.id}),n(e.id)):t({selectedStadiumId:void 0})}catch(e){console.error("Error changing stadium:",e),A(o("errors.stadiumLoad"),"error")}};return(0,i.jsxs)("div",{className:"App",children:[(0,i.jsx)("header",{className:"App-header",children:(0,i.jsxs)("div",{className:"header-content",children:[(0,i.jsxs)("div",{className:"header-left",children:[(0,i.jsx)("h1",{children:o("app.title")}),(0,i.jsx)("p",{children:o("app.subtitle")}),l&&m&&(0,i.jsxs)("div",{className:"quick-summary",children:[(0,i.jsx)("span",{className:"stadium-name",children:l.name}),(0,i.jsx)(E,{stadiumId:l.id,stadiumName:l.name,size:"small"}),(0,i.jsx)("span",{className:"game-time",children:m.toLocaleDateString()}),(0,i.jsx)(ep,{selectedStadium:l,selectedGame:d,gameDateTime:m,className:"header-share-btn"})]})]}),(0,i.jsxs)("div",{className:"header-right",children:[(0,i.jsx)(H,{variant:"buttons",showLabel:!1,className:"header-language-selector"}),(0,i.jsx)(eh,{})]})]})}),(0,i.jsxs)("main",{className:"App-main",children:[(0,i.jsx)(em,{selectedStadium:l,selectedGame:d,gameDateTime:m,onStadiumChange:B,onGameSelect:L}),(0,i.jsx)(V,{selectedStadium:l,onGameSelect:L,onStadiumChange:B,stadiums:s}),!l&&(0,i.jsx)(en,{type:"no-stadium",action:(0,i.jsxs)("p",{style:{fontSize:"0.9rem",color:"#666",margin:0},children:["\uD83D\uDCA1 ",o("emptyStates.noStadium.description")]})}),l&&!m&&(0,i.jsx)(en,{type:"no-game",action:(0,i.jsxs)("p",{style:{fontSize:"0.9rem",color:"#666",margin:0},children:["\uD83C\uDFAF ",o("emptyStates.noGame.description")]})}),l&&m&&(0,i.jsxs)("div",{className:"results",children:[(0,i.jsxs)("div",{className:"weather-info-section",children:[f&&(0,i.jsx)(J,{weather:f,gameTime:m,loading:v}),h&&(0,i.jsxs)("div",{className:"sun-info",children:[(0,i.jsx)("h3",{children:o("sun.information")}),(0,i.jsxs)("div",{className:"sun-details",children:[(0,i.jsxs)("div",{className:"sun-detail-item",children:[(0,i.jsx)("span",{className:"sun-icon",children:"☀️"}),(0,i.jsxs)("div",{className:"sun-detail-content",children:[(0,i.jsx)("span",{className:"sun-label",children:o("sun.condition")}),(0,i.jsx)("span",{className:"sun-value",children:(e=h).altitudeDegrees<0?"Sun is below the horizon":e.altitudeDegrees<10?"Sun is very low on the horizon":e.altitudeDegrees<30?"Sun is low in the sky":e.altitudeDegrees<60?"Sun is at medium height":"Sun is high in the sky"})]})]}),(0,i.jsxs)("div",{className:"sun-detail-item",children:[(0,i.jsx)("span",{className:"sun-icon",children:"\uD83E\uDDED"}),(0,i.jsxs)("div",{className:"sun-detail-content",children:[(0,i.jsx)(P,{content:o("tooltips.sunDirection"),children:(0,i.jsx)("span",{className:"sun-label",children:o("sun.direction")})}),(0,i.jsxs)("span",{className:"sun-value",children:[h?["N","NE","E","SE","S","SW","W","NW"][Math.round(h.azimuthDegrees/45)%8]:"N/A"," (",h?Math.round(h.azimuthDegrees):0,"\xb0)"]})]})]}),(0,i.jsxs)("div",{className:"sun-detail-item",children:[(0,i.jsx)("span",{className:"sun-icon",children:"\uD83D\uDCD0"}),(0,i.jsxs)("div",{className:"sun-detail-content",children:[(0,i.jsx)(P,{content:o("tooltips.sunElevation"),children:(0,i.jsx)("span",{className:"sun-label",children:o("sun.elevation")})}),(0,i.jsxs)("span",{className:"sun-value",children:[h?Math.round(h.altitudeDegrees):0,"\xb0"]})]})]}),h&&h.altitudeDegrees<0&&(0,i.jsxs)("div",{className:"night-game",children:[(0,i.jsx)("span",{className:"night-icon",children:"\uD83C\uDF19"}),(0,i.jsx)("span",{children:o("recommendations.nightGame.description")})]})]})]})]}),(0,i.jsxs)("div",{className:"filter-section",children:[(0,i.jsx)("div",{className:"section-overview",children:(0,i.jsxs)("div",{className:"overview-stats",children:[(0,i.jsxs)("div",{className:"stat-item",children:[(0,i.jsx)("span",{className:"stat-number",children:b.length}),(0,i.jsx)("span",{className:"stat-label",children:o("sections.totalSections")})]}),(0,i.jsxs)("div",{className:"stat-item",children:[(0,i.jsx)("span",{className:"stat-number",children:w.length}),(0,i.jsx)("span",{className:"stat-label",children:o("sections.matchingFilters")})]}),(0,i.jsxs)("div",{className:"stat-item",children:[(0,i.jsx)("span",{className:"stat-number",children:w.filter(e=>e.inSun).length}),(0,i.jsx)("span",{className:"stat-label",children:o("sun.inSun")})]})]})}),(0,i.jsx)(Q,{onFilterChange:e=>{C(e),t({filterCriteria:e})},disabled:D}),(0,i.jsx)(es,{sections:w,loading:D})]}),(0,i.jsxs)("div",{className:"recommendations",children:[(0,i.jsxs)("h3",{children:["\uD83C\uDFAF ",o("recommendations.title")]}),(0,i.jsxs)("div",{className:"recommendations-content",children:[h&&h.altitudeDegrees<0?(0,i.jsxs)("div",{className:"recommendation-item night",children:[(0,i.jsx)("span",{className:"rec-icon",children:"\uD83C\uDF19"}),(0,i.jsxs)("div",{className:"rec-content",children:[(0,i.jsx)("h4",{children:o("recommendations.nightGame.title")}),(0,i.jsx)("p",{children:o("recommendations.nightGame.description")})]})]}):"fixed"===l.roof?(0,i.jsxs)("div",{className:"recommendation-item covered",children:[(0,i.jsx)("span",{className:"rec-icon",children:"\uD83C\uDFDF️"}),(0,i.jsxs)("div",{className:"rec-content",children:[(0,i.jsx)("h4",{children:o("recommendations.coveredStadium.title")}),(0,i.jsx)("p",{children:o("recommendations.coveredStadium.description")})]})]}):(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)("div",{className:"recommendation-item shade",children:[(0,i.jsx)("span",{className:"rec-icon",children:"\uD83C\uDFDB️"}),(0,i.jsxs)("div",{className:"rec-content",children:[(0,i.jsx)("h4",{children:o("recommendations.avoidSun.title")}),(0,i.jsxs)("p",{children:[h&&h.azimuthDegrees>180?o("recommendations.avoidSun.firstBaseSide"):o("recommendations.avoidSun.thirdBaseSide")," ","retractable"===l.roof&&o("recommendations.avoidSun.retractableRoof")]})]})]}),(0,i.jsxs)("div",{className:"recommendation-item sun",children:[(0,i.jsx)("span",{className:"rec-icon",children:"☀️"}),(0,i.jsxs)("div",{className:"rec-content",children:[(0,i.jsx)("h4",{children:o("recommendations.sunLovers.title")}),(0,i.jsx)("p",{children:h&&(h.azimuthDegrees<90||h.azimuthDegrees>270)?o("recommendations.sunLovers.rightField"):o("recommendations.sunLovers.leftField")})]})]}),h&&h.altitudeDegrees>60&&(0,i.jsxs)("div",{className:"recommendation-item high-sun",children:[(0,i.jsx)("span",{className:"rec-icon",children:"\uD83C\uDF24️"}),(0,i.jsxs)("div",{className:"rec-content",children:[(0,i.jsx)("h4",{children:o("recommendations.highSun.title")}),(0,i.jsx)("p",{children:o("recommendations.highSun.description")})]})]}),f&&(0,i.jsxs)("div",{className:"recommendation-item weather",children:[(0,i.jsx)("span",{className:"rec-icon",children:"\uD83C\uDF26️"}),(0,i.jsxs)("div",{className:"rec-content",children:[(0,i.jsx)("h4",{children:o("recommendations.weather.title")}),(0,i.jsx)("p",{children:Y.getWeatherImpactOnSun(Y.getWeatherForTime(f,m||void 0)).recommendation})]})]})]}),d&&(0,i.jsxs)("div",{className:"game-info",children:[(0,i.jsxs)("h4",{children:["\uD83D\uDCCA ",o("game.gameDetails")]}),(0,i.jsxs)("p",{children:[(0,i.jsxs)("strong",{children:[o("game.matchup"),":"]})," ","teams"in d?`${d.teams.away.team.name} @ ${d.teams.home.team.name}`:`${d.awayTeam.name} @ ${d.homeTeam.name}`]}),(0,i.jsxs)("p",{children:[(0,i.jsxs)("strong",{children:[o("game.venue"),":"]})," ",d.venue.name]}),(0,i.jsxs)("p",{children:[(0,i.jsxs)("strong",{children:[o("game.gameTime"),":"]})," ",m.toLocaleString()]})]})]})]})]})]}),(0,i.jsxs)("footer",{className:"App-footer",children:[(0,i.jsx)("p",{children:o("footer.disclaimer")}),(0,i.jsxs)("p",{children:[o("footer.weatherCredit")," ",(0,i.jsx)("a",{href:"https://open-meteo.com",target:"_blank",rel:"noopener noreferrer",children:o("footer.openMeteo")})]})]})]})}function eF(){return(0,i.jsx)(O,{children:(0,i.jsx)(ec,{children:(0,i.jsx)(D,{children:(0,i.jsx)(eE,{})})})})}}}]);