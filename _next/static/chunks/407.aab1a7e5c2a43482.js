(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[407],{5051:()=>{},5407:(e,s,i)=>{"use strict";i.r(s),i.d(s,{SmartItinerariesPage:()=>y});var a=i(5155),n=i(2115),t=i(1278);let r=[{stadiumId:"yankees",amenities:[{id:"yankees_nathans",name:"Nathan's Famous Hot Dogs",type:"concession",level:"concourse",location:{angle:90,distance:.7,section:"115"},operational:{opensBeforeGame:90,closesAfterGame:30,staffed:!0},details:{foodType:"hot_food",kidFriendly:!0,priceRange:"moderate"}},{id:"yankees_lobels",name:"Lobel's Steak Sandwich",type:"concession",level:"field",location:{angle:270,distance:.6,section:"134"},operational:{opensBeforeGame:60,closesAfterGame:15,staffed:!0},details:{foodType:"hot_food",priceRange:"premium"}},{id:"yankees_bronx_pale_ale",name:"Bronx Brewery Beer Stand",type:"concession",level:"concourse",location:{angle:180,distance:.8,section:"203"},operational:{opensBeforeGame:60,closesAfterGame:0,staffed:!0},details:{foodType:"alcohol",priceRange:"premium"}},{id:"yankees_garlic_fries",name:"Garlic Fries Stand",type:"concession",level:"upper",location:{angle:45,distance:.9,section:"420"},operational:{opensBeforeGame:60,closesAfterGame:15,staffed:!0},details:{foodType:"snacks",kidFriendly:!0,dietary:["vegetarian"],priceRange:"moderate"}},{id:"yankees_team_store_main",name:"Yankees Team Store - Main",type:"souvenir",level:"exterior",location:{angle:0,distance:1,section:"Gate 6"},operational:{opensBeforeGame:120,closesAfterGame:60,staffed:!0},details:{priceRange:"premium"}},{id:"yankees_team_store_concourse",name:"Yankees Clubhouse Shop",type:"souvenir",level:"concourse",location:{angle:180,distance:.7,section:"229"},operational:{opensBeforeGame:90,closesAfterGame:30,staffed:!0},details:{priceRange:"premium"}},{id:"yankees_sunscreen_1",name:"Play Sun Smart Station - Field Level",type:"sunscreen_kiosk",level:"field",location:{angle:90,distance:.6,section:"110"},operational:{opensBeforeGame:90,closesAfterGame:30,staffed:!1},details:{sunscreenType:"dispenser",spf:30,playSimSmartPartner:!0}},{id:"yankees_sunscreen_2",name:"Play Sun Smart Station - Upper Deck",type:"sunscreen_kiosk",level:"upper",location:{angle:270,distance:.9,section:"427"},operational:{opensBeforeGame:90,closesAfterGame:30,staffed:!1},details:{sunscreenType:"dispenser",spf:30,playSimSmartPartner:!0}},{id:"yankees_family_restroom_1",name:"Family Restroom - Section 115",type:"restroom",level:"field",location:{angle:90,distance:.7,section:"115"},operational:{opensBeforeGame:120,closesAfterGame:60,staffed:!0},details:{familyRestroom:!0,changingStation:!0,accessibility:!0}},{id:"yankees_nursing_1",name:"Nursing Suite",type:"nursing_station",level:"concourse",location:{angle:180,distance:.8,section:"214"},operational:{opensBeforeGame:90,closesAfterGame:30,staffed:!0},details:{nursing:!0}}],familyFeatures:{familyRestrooms:6,nursingStations:2,playAreas:1,sunscreenKiosks:4}},{stadiumId:"redsox",amenities:[{id:"redsox_fenway_franks",name:"Fenway Franks",type:"concession",level:"concourse",location:{angle:90,distance:.7,section:"Grandstand 12"},operational:{opensBeforeGame:90,closesAfterGame:30,staffed:!0},details:{foodType:"hot_food",kidFriendly:!0,priceRange:"moderate"}},{id:"redsox_wicked_good_sausages",name:"Wicked Good Sausages",type:"concession",level:"concourse",location:{angle:180,distance:.8,section:"Gate D"},operational:{opensBeforeGame:60,closesAfterGame:15,staffed:!0},details:{foodType:"hot_food",priceRange:"moderate"}},{id:"redsox_lobster_roll",name:"New England Lobster Rolls",type:"concession",level:"field",location:{angle:270,distance:.6,section:"Field Box 70"},operational:{opensBeforeGame:60,closesAfterGame:15,staffed:!0},details:{foodType:"hot_food",priceRange:"premium"}},{id:"redsox_sammy_adams",name:"Sam Adams Brewhouse",type:"concession",level:"concourse",location:{angle:45,distance:.7,section:"Bleachers"},operational:{opensBeforeGame:60,closesAfterGame:0,staffed:!0},details:{foodType:"alcohol",priceRange:"premium"}},{id:"redsox_team_store_yawkey",name:"Red Sox Team Store - Yawkey Way",type:"souvenir",level:"exterior",location:{angle:0,distance:1,section:"Yawkey Way"},operational:{opensBeforeGame:180,closesAfterGame:60,staffed:!0},details:{priceRange:"premium"}},{id:"redsox_monster_dogs",name:"Monster Dogs",type:"concession",level:"upper",location:{angle:135,distance:.5,section:"Green Monster"},operational:{opensBeforeGame:60,closesAfterGame:15,staffed:!0},details:{foodType:"hot_food",kidFriendly:!0,priceRange:"premium"}},{id:"redsox_sunscreen_1",name:"Play Sun Smart Station - Bleachers",type:"sunscreen_kiosk",level:"upper",location:{angle:180,distance:.9,section:"Bleachers"},operational:{opensBeforeGame:90,closesAfterGame:30,staffed:!1},details:{sunscreenType:"dispenser",spf:30,playSimSmartPartner:!0}}],familyFeatures:{familyRestrooms:4,nursingStations:2,playAreas:0,sunscreenKiosks:3}},{stadiumId:"dodgers",amenities:[{id:"dodgers_dodger_dog",name:"Original Dodger Dog Stand",type:"concession",level:"concourse",location:{angle:90,distance:.7,section:"Field 50"},operational:{opensBeforeGame:90,closesAfterGame:30,staffed:!0},details:{foodType:"hot_food",kidFriendly:!0,priceRange:"moderate"}},{id:"dodgers_mexican_food",name:"Elote Man Mexican Food",type:"concession",level:"concourse",location:{angle:180,distance:.8,section:"Reserve 1"},operational:{opensBeforeGame:60,closesAfterGame:15,staffed:!0},details:{foodType:"hot_food",dietary:["vegetarian"],priceRange:"moderate"}},{id:"dodgers_think_blue_bbq",name:"Think Blue BBQ",type:"concession",level:"field",location:{angle:270,distance:.6,section:"Field 45"},operational:{opensBeforeGame:60,closesAfterGame:15,staffed:!0},details:{foodType:"hot_food",priceRange:"premium"}},{id:"dodgers_cpk",name:"California Pizza Kitchen",type:"concession",level:"club",location:{angle:0,distance:.5,section:"Club Level"},operational:{opensBeforeGame:90,closesAfterGame:30,staffed:!0},details:{foodType:"hot_food",kidFriendly:!0,dietary:["vegetarian"],priceRange:"premium"}},{id:"dodgers_team_store_main",name:"Dodgers Team Store - Top Deck",type:"souvenir",level:"upper",location:{angle:0,distance:.9,section:"Top Deck"},operational:{opensBeforeGame:120,closesAfterGame:45,staffed:!0},details:{priceRange:"premium"}},{id:"dodgers_sunscreen_1",name:"Play Sun Smart Station - Pavilion",type:"sunscreen_kiosk",level:"concourse",location:{angle:180,distance:.5,section:"Pavilion"},operational:{opensBeforeGame:90,closesAfterGame:30,staffed:!1},details:{sunscreenType:"dispenser",spf:30,playSimSmartPartner:!0}},{id:"dodgers_sunscreen_2",name:"Play Sun Smart Station - Reserve",type:"sunscreen_kiosk",level:"upper",location:{angle:90,distance:.8,section:"Reserve 20"},operational:{opensBeforeGame:90,closesAfterGame:30,staffed:!1},details:{sunscreenType:"dispenser",spf:30,playSimSmartPartner:!0}},{id:"dodgers_family_area",name:"Coca-Cola All You Can Eat Pavilion",type:"family_area",level:"concourse",location:{angle:180,distance:.7,section:"Pavilion"},operational:{opensBeforeGame:90,closesAfterGame:30,staffed:!0},details:{kidFriendly:!0,foodType:"hot_food",priceRange:"moderate"}}],familyFeatures:{familyRestrooms:6,nursingStations:3,playAreas:2,sunscreenKiosks:4}},{stadiumId:"angels",amenities:[{id:"angels_helmet_nachos",name:"Helmet Nachos Stand",type:"concession",level:"concourse",location:{angle:90,distance:.7,section:"130"},operational:{opensBeforeGame:90,closesAfterGame:30,staffed:!0},details:{foodType:"hot_food",kidFriendly:!0,priceRange:"moderate"}},{id:"angels_chronic_tacos",name:"Chronic Tacos",type:"concession",level:"field",location:{angle:270,distance:.6,section:"108"},operational:{opensBeforeGame:60,closesAfterGame:15,staffed:!0},details:{foodType:"hot_food",dietary:["vegetarian"],priceRange:"moderate"}},{id:"angels_ruby_bbq",name:"Ruby's BBQ",type:"concession",level:"concourse",location:{angle:180,distance:.8,section:"230"},operational:{opensBeforeGame:60,closesAfterGame:15,staffed:!0},details:{foodType:"hot_food",priceRange:"premium"}},{id:"angels_team_store_main",name:"Angels Team Store",type:"souvenir",level:"exterior",location:{angle:0,distance:1,section:"Home Plate Gate"},operational:{opensBeforeGame:120,closesAfterGame:60,staffed:!0},details:{priceRange:"premium"}},{id:"angels_sunscreen_1",name:"Play Sun Smart Station - Right Field",type:"sunscreen_kiosk",level:"concourse",location:{angle:45,distance:.7,section:"104"},operational:{opensBeforeGame:90,closesAfterGame:30,staffed:!1},details:{sunscreenType:"dispenser",spf:30,playSimSmartPartner:!0}},{id:"angels_sunscreen_2",name:"Play Sun Smart Station - Left Field",type:"sunscreen_kiosk",level:"concourse",location:{angle:135,distance:.7,section:"133"},operational:{opensBeforeGame:90,closesAfterGame:30,staffed:!1},details:{sunscreenType:"dispenser",spf:30,playSimSmartPartner:!0}},{id:"angels_family_restroom_1",name:"Family Restroom - Section 130",type:"restroom",level:"concourse",location:{angle:90,distance:.7,section:"130"},operational:{opensBeforeGame:120,closesAfterGame:60,staffed:!0},details:{familyRestroom:!0,changingStation:!0,accessibility:!0}}],familyFeatures:{familyRestrooms:4,nursingStations:2,playAreas:1,sunscreenKiosks:3}},{stadiumId:"dodgers",amenities:[{id:"dodger_sunscreen_1",name:"Play Sun Smart Station - Pavilion",type:"sunscreen_kiosk",level:"concourse",location:{angle:180,distance:.5},operational:{opensBeforeGame:90,closesAfterGame:30,staffed:!1},details:{sunscreenType:"dispenser",spf:30,playSimSmartPartner:!0}},{id:"dodger_family_area_1",name:"Blue Heaven Family Area",type:"family_area",level:"concourse",location:{angle:270,distance:.7},operational:{opensBeforeGame:120,closesAfterGame:60,staffed:!0},details:{playArea:!0,nursing:!0,strollerStorage:!0}}],familyFeatures:{familyRestrooms:6,nursingStations:3,playAreas:2,sunscreenKiosks:4}},{stadiumId:"padres",amenities:[{id:"padres_hodads",name:"Hodad's Burgers",type:"concession",level:"field",location:{angle:90,distance:.6,section:"105"},operational:{opensBeforeGame:90,closesAfterGame:30,staffed:!0},details:{foodType:"hot_food",kidFriendly:!0,priceRange:"premium"}},{id:"padres_brisket_nachos",name:"Tri-Tip Nachos",type:"concession",level:"concourse",location:{angle:180,distance:.7,section:"228"},operational:{opensBeforeGame:60,closesAfterGame:15,staffed:!0},details:{foodType:"hot_food",priceRange:"premium"}},{id:"padres_fish_tacos",name:"Rubio's Fish Tacos",type:"concession",level:"field",location:{angle:270,distance:.6,section:"131"},operational:{opensBeforeGame:60,closesAfterGame:15,staffed:!0},details:{foodType:"hot_food",dietary:["gluten_free"],priceRange:"moderate"}},{id:"padres_team_store_main",name:"Padres Team Store - Gaslamp Gate",type:"souvenir",level:"exterior",location:{angle:0,distance:1,section:"Gaslamp Gate"},operational:{opensBeforeGame:120,closesAfterGame:60,staffed:!0},details:{priceRange:"premium"}},{id:"padres_park_concession",name:"Park at the Park Concessions",type:"concession",level:"field",location:{angle:180,distance:.9,section:"Park"},operational:{opensBeforeGame:90,closesAfterGame:0,staffed:!0},details:{foodType:"hot_food",kidFriendly:!0,priceRange:"budget"}},{id:"padres_sunscreen_1",name:"Play Sun Smart Station - Park at the Park",type:"sunscreen_kiosk",level:"field",location:{angle:180,distance:.9,section:"Park"},operational:{opensBeforeGame:90,closesAfterGame:30,staffed:!1},details:{sunscreenType:"dispenser",spf:30,playSimSmartPartner:!0}}],familyFeatures:{familyRestrooms:5,nursingStations:2,playAreas:1,sunscreenKiosks:4}},{stadiumId:"giants",amenities:[{id:"giants_garlic_fries",name:"Gilroy Garlic Fries",type:"concession",level:"concourse",location:{angle:90,distance:.7,section:"104"},operational:{opensBeforeGame:90,closesAfterGame:30,staffed:!0},details:{foodType:"snacks",kidFriendly:!0,dietary:["vegetarian"],priceRange:"moderate"}},{id:"giants_crab_sandwich",name:"Crazy Crab'z Sandwich",type:"concession",level:"field",location:{angle:45,distance:.6,section:"132"},operational:{opensBeforeGame:60,closesAfterGame:15,staffed:!0},details:{foodType:"hot_food",priceRange:"premium"}},{id:"giants_ghirardelli",name:"Ghirardelli Hot Chocolate",type:"concession",level:"club",location:{angle:0,distance:.5,section:"Club Level"},operational:{opensBeforeGame:90,closesAfterGame:30,staffed:!0},details:{foodType:"dessert",kidFriendly:!0,priceRange:"moderate"}},{id:"giants_dugout_store",name:"Giants Dugout Store",type:"souvenir",level:"exterior",location:{angle:0,distance:1,section:"Willie Mays Plaza"},operational:{opensBeforeGame:180,closesAfterGame:60,staffed:!0},details:{priceRange:"premium"}},{id:"giants_sunscreen_1",name:"Play Sun Smart Station - Bleachers",type:"sunscreen_kiosk",level:"upper",location:{angle:135,distance:.9,section:"Bleachers"},operational:{opensBeforeGame:90,closesAfterGame:30,staffed:!1},details:{sunscreenType:"dispenser",spf:30,playSimSmartPartner:!0}}],familyFeatures:{familyRestrooms:5,nursingStations:2,playAreas:1,sunscreenKiosks:3}}];var o=i(4289);class l{async generateSmartItinerary(e,s,i,a,n,t){let r={id:"itinerary_".concat(e.id,"_").concat(i.getTime()),stadiumId:e.id,gameDate:i,gameStartTime:i,createdAt:new Date,preferences:n,weatherContext:{maxUVIndex:this.getMaxUVIndex(a),averageTemperature:this.getAverageTemperature(a),cloudCover:a.current.cloudCover,precipitationProbability:a.current.precipitationProbability||0},recommendations:[],summary:{totalWalkingTime:0,sunscreenReminders:0,shadeBreaks:0,familyFriendlyStops:0}},o=this.generateTimeSlots(i,e,a),l=await this.generateRecommendations(e,o,n,t);return r.recommendations=l,r.summary=this.calculateSummary(l),r.sectionRecommendations=this.generateSectionRecommendations(e,i,a,n),r}generateTimeSlots(e,s,i){let a=[],n=new Date(e.getTime()-72e5),t=new Date(e.getTime()+144e5);for(let r=n.getTime();r<t.getTime();r+=18e5){let n=new Date(r),t=new Date(r+18e5),l=(0,o.oP)(n,s.latitude,s.longitude),c=this.estimateUVIndex(n,i);a.push({startTime:n,endTime:t,inningRange:this.estimateInningRange(n,e),sunConditions:{uvIndex:c,sunAngle:l.altitudeDegrees,recommendedAction:this.getSunRecommendation(c,l.altitudeDegrees)},crowdLevel:this.estimateCrowdLevel(n,e),suitableActivities:this.getSuitableActivities(n,e,c)})}return a}async generateRecommendations(e,s,i,a){var n;let t=[],o=(n=e.id,r.find(e=>e.stadiumId===n)||null);if(!o)return this.createBasicRecommendations(s,e,i);s.filter(e=>null===e.inningRange),t.push(this.createArrivalRecommendation(s[0],e,i));let l=o.amenities.filter(e=>"sunscreen_kiosk"===e.type);l.length>0&&t.push(...this.createSunscreenRecommendations(s,l,i));let c=o.amenities.filter(e=>"concession"===e.type);c.length>0&&!i.skipConcessions&&t.push(...this.createConcessionRecommendations(s,c,i));let d=o.amenities.filter(e=>"restroom"===e.type);if(d.length>0&&t.push(...this.createRestroomRecommendations(s,d,i)),t.push(...this.createShadeBreakRecommendations(s,i)),i.hasChildren){let e=o.amenities.filter(e=>"family_area"===e.type);t.push(...this.createFamilyActivityRecommendations(s,e,i))}let m=o.amenities.filter(e=>"souvenir"===e.type);return m.length>0&&!i.skipActivities&&t.push(...this.createTeamStoreRecommendations(s,m,i)),t.sort((e,s)=>e.time.getTime()-s.time.getTime())}createArrivalRecommendation(e,s,i){var a;let n="early"===i.arrivalTime?90:"on_time"===i.arrivalTime?60:30;null==(a=e.inningRange)||a.start;let t=new Date(e.startTime.getTime()+72e5*!e.inningRange);return{id:"arrival_".concat(e.startTime.getTime()),time:new Date(t.getTime()-60*n*1e3),duration:15,type:"arrival",priority:"medium",location:{description:"".concat(s.name," - Main Entrance"),walkingTime:0},details:{title:"Arrive at Stadium",description:"Arrive ".concat(n," minutes before first pitch"),reason:"".concat("early"===i.arrivalTime?"Extra time for exploring stadium and avoiding crowds":"on_time"===i.arrivalTime?"Balanced arrival for parking and getting to seats":"Quick arrival - head straight to your seats"),uvIndexAtTime:e.sunConditions.uvIndex},familyConsiderations:i.hasChildren?{kidFriendly:!0,hasRestroom:!0,shaded:!1,quietArea:!1,strollerAccessible:!0}:void 0}}createSunscreenRecommendations(e,s,i){let a=[],n=e.find(e=>e.sunConditions.uvIndex>3&&null===e.inningRange);return n&&s.length>0&&a.push({id:"sunscreen_initial_".concat(n.startTime.getTime()),time:n.startTime,duration:5,type:"sunscreen",priority:"high"===i.sunSensitivity||"extreme"===i.sunSensitivity?"critical":"high",location:{amenityId:s[0].id,description:s[0].name,walkingTime:3},details:{title:"Apply Sunscreen",description:"Visit the Play Sun Smart station before heading to your seats",reason:"UV index is ".concat(n.sunConditions.uvIndex," - sun protection recommended"),uvIndexAtTime:n.sunConditions.uvIndex,sunExposureLevel:this.getSunExposureLevel(n.sunConditions.uvIndex)},familyConsiderations:{kidFriendly:!0,hasRestroom:!1,shaded:!0,quietArea:!0,strollerAccessible:!0}}),e.filter(e=>e.sunConditions.uvIndex>6&&e.inningRange&&e.inningRange.start>3).forEach(e=>{s.length>0&&a.push({id:"sunscreen_reapply_".concat(e.startTime.getTime()),time:e.startTime,duration:3,type:"sunscreen",priority:"high",location:{amenityId:s[0].id,description:s[0].name,walkingTime:2},details:{title:"Reapply Sunscreen",description:"Time for sunscreen reapplication",reason:"UV index is ".concat(e.sunConditions.uvIndex," - reapplication recommended"),uvIndexAtTime:e.sunConditions.uvIndex,sunExposureLevel:this.getSunExposureLevel(e.sunConditions.uvIndex)}})}),a}createConcessionRecommendations(e,s,i){let a=[],n=s.filter(e=>(!i.hasChildren||!!e.details.kidFriendly)&&(!(i.dietaryRestrictions.length>0)||i.dietaryRestrictions.some(s=>{var i;return null==(i=e.details.dietary)?void 0:i.includes(s)}))),t=e.find(e=>"low"===e.crowdLevel&&null===e.inningRange);if(t&&n.length>0){let e=n[0];a.push({id:"concession_pregame_".concat(t.startTime.getTime()),time:t.startTime,duration:15,type:"concession",priority:"medium",location:{amenityId:e.id,description:e.name,walkingTime:5},details:{title:"Pre-Game Food Stop",description:"Visit ".concat(e.name," for ").concat("hot_food"===e.details.foodType?"hot food":e.details.foodType),reason:"Beat the crowds with pre-game visit",uvIndexAtTime:t.sunConditions.uvIndex},familyConsiderations:i.hasChildren?{kidFriendly:e.details.kidFriendly||!1,hasRestroom:!0,shaded:!0,quietArea:!1,strollerAccessible:!0}:void 0})}return a}createRestroomRecommendations(e,s,i){let a=[],n=s.filter(e=>!i.hasChildren||e.details.familyRestroom||e.details.changingStation),t=e.find(e=>e.inningRange&&e.inningRange.start<=7&&e.inningRange.end>=7);if(t&&n.length>0){let e=n[0];a.push({id:"restroom_seventh_".concat(t.startTime.getTime()),time:t.startTime,duration:8,type:"restroom",priority:"medium",location:{amenityId:e.id,description:e.name,walkingTime:3},details:{title:"Restroom Break",description:"Perfect timing during seventh inning stretch",reason:"Traditional break time with less crowding",uvIndexAtTime:t.sunConditions.uvIndex},familyConsiderations:i.hasChildren?{kidFriendly:!0,hasRestroom:!0,shaded:!0,quietArea:!0,strollerAccessible:e.details.accessibility||!1}:void 0})}return a}createTeamStoreRecommendations(e,s,i){let a=[],n=e.find(e=>{var s;return(null==(s=e.inningRange)?void 0:s.start)===8});if(n&&s.length>0){let e=s[0];a.push({id:"team_store_".concat(n.startTime.getTime()),time:n.startTime,duration:20,type:"activity",priority:"low",location:{amenityId:e.id,description:e.name,sectionId:e.location.section,walkingTime:5},details:{title:"Team Store Visit",description:"Browse ".concat(e.name," while avoiding post-game crowds"),reason:"Late innings are ideal for shopping to beat exit rush",uvIndexAtTime:n.sunConditions.uvIndex,sunExposureLevel:"low"},familyConsiderations:i.hasChildren?{kidFriendly:!0,hasRestroom:!1,shaded:!0,quietArea:!0,strollerAccessible:!0}:void 0})}return a}createShadeBreakRecommendations(e,s){let i=[];return e.filter(e=>e.sunConditions.uvIndex>7&&"seek_shade"===e.sunConditions.recommendedAction).forEach(e=>{i.push({id:"shade_break_".concat(e.startTime.getTime()),time:e.startTime,duration:10,type:"shade_break",priority:"high"===s.sunSensitivity||"extreme"===s.sunSensitivity?"high":"medium",location:{description:"Concourse or covered area",walkingTime:2},details:{title:"Shade Break",description:"Take a break from direct sun exposure",reason:"UV index is ".concat(e.sunConditions.uvIndex," - shade recommended"),uvIndexAtTime:e.sunConditions.uvIndex,sunExposureLevel:this.getSunExposureLevel(e.sunConditions.uvIndex)},familyConsiderations:{kidFriendly:!0,hasRestroom:!0,shaded:!0,quietArea:!0,strollerAccessible:!0}})}),i}createFamilyActivityRecommendations(e,s,i){let a=[];if(!i.hasChildren||0===s.length)return a;let n=e.find(e=>"low"===e.crowdLevel&&null===e.inningRange);if(n){let e=s[0];a.push({id:"family_activity_".concat(n.startTime.getTime()),time:n.startTime,duration:20,type:"activity",priority:"low",location:{amenityId:e.id,description:e.name,walkingTime:5},details:{title:"Family Activity Time",description:"Let kids play and explore family-friendly areas",reason:"Low crowd level - perfect for family activities",uvIndexAtTime:n.sunConditions.uvIndex},familyConsiderations:{kidFriendly:!0,hasRestroom:!0,shaded:!0,quietArea:!0,strollerAccessible:!0}})}return a}createBasicRecommendations(e,s,i){var a;let n=[],t=(null==(a=e.find(e=>e.inningRange&&1===e.inningRange.start))?void 0:a.startTime)||new Date;n.push(this.createArrivalRecommendation(e[0],s,i));let r=e.find(e=>!e.inningRange);r&&r.sunConditions.uvIndex>3&&n.push({id:"sunscreen_pregame_".concat(r.startTime.getTime()),time:new Date(t.getTime()-18e5),duration:5,type:"sunscreen",priority:"high",location:{description:"Stadium sunscreen station or concourse",walkingTime:3},details:{title:"Apply Sunscreen - Pre-Game",description:"Apply sunscreen before heading to your seats",reason:"UV index is ".concat(r.sunConditions.uvIndex," - protect yourself before the game"),uvIndexAtTime:r.sunConditions.uvIndex,sunExposureLevel:this.getSunExposureLevel(r.sunConditions.uvIndex)},familyConsiderations:{kidFriendly:!0,hasRestroom:!1,shaded:!0,quietArea:!0,strollerAccessible:!0}});let o=e.find(e=>e.inningRange&&3===e.inningRange.start);o&&n.push({id:"concession_3rd_".concat(o.startTime.getTime()),time:o.startTime,duration:15,type:"concession",priority:"medium",location:{description:"Stadium concession stands",walkingTime:5},details:{title:"Concession Break - 3rd Inning",description:"Good time for snacks and restroom before crowds",reason:"Early innings typically have shorter lines",uvIndexAtTime:o.sunConditions.uvIndex},familyConsiderations:i.hasChildren?{kidFriendly:!0,hasRestroom:!0,shaded:!0,quietArea:!1,strollerAccessible:!0}:void 0});let l=e.find(e=>e.inningRange&&5===e.inningRange.start);l&&l.sunConditions.uvIndex>5&&(n.push({id:"sunscreen_5th_".concat(l.startTime.getTime()),time:l.startTime,duration:5,type:"sunscreen",priority:"high"===i.sunSensitivity||"extreme"===i.sunSensitivity?"high":"medium",location:{description:"Concourse sunscreen station",walkingTime:2},details:{title:"Reapply Sunscreen - 5th Inning",description:"Time to reapply for continued protection",reason:"UV index is ".concat(l.sunConditions.uvIndex," - reapplication recommended after 2+ hours"),uvIndexAtTime:l.sunConditions.uvIndex,sunExposureLevel:this.getSunExposureLevel(l.sunConditions.uvIndex)},familyConsiderations:{kidFriendly:!0,hasRestroom:!1,shaded:!0,quietArea:!0,strollerAccessible:!0}}),l.sunConditions.uvIndex>7&&n.push({id:"shade_break_5th_".concat(l.startTime.getTime()),time:new Date(l.startTime.getTime()+3e5),duration:10,type:"shade_break",priority:"high",location:{description:"Concourse or covered area",walkingTime:2},details:{title:"Shade Break - Mid-Game",description:"Take a break from intense sun exposure",reason:"UV index is ".concat(l.sunConditions.uvIndex," - extended shade break recommended"),uvIndexAtTime:l.sunConditions.uvIndex,sunExposureLevel:this.getSunExposureLevel(l.sunConditions.uvIndex)},familyConsiderations:{kidFriendly:!0,hasRestroom:!0,shaded:!0,quietArea:!0,strollerAccessible:!0}}));let c=e.find(e=>e.inningRange&&7===e.inningRange.start);if(c&&n.push({id:"seventh_stretch_".concat(c.startTime.getTime()),time:c.startTime,duration:10,type:"activity",priority:"medium",location:{description:"Stand and stretch at your seat",walkingTime:0},details:{title:"7th Inning Stretch",description:'Traditional stretch and "Take Me Out to the Ball Game"',reason:"Baseball tradition and good time for restroom/concessions",uvIndexAtTime:c.sunConditions.uvIndex},familyConsiderations:i.hasChildren?{kidFriendly:!0,hasRestroom:!0,shaded:!1,quietArea:!1,strollerAccessible:!0}:void 0}),i.hasChildren){let s=e.find(e=>e.inningRange&&8===e.inningRange.start);s&&n.push({id:"family_8th_".concat(s.startTime.getTime()),time:s.startTime,duration:10,type:"activity",priority:"low",location:{description:"Concourse for final snacks/restroom",walkingTime:3},details:{title:"Family Break - 8th Inning",description:"Last chance for restroom and prepare for departure",reason:"Families often leave early to beat crowds",uvIndexAtTime:s.sunConditions.uvIndex},familyConsiderations:{kidFriendly:!0,hasRestroom:!0,shaded:!0,quietArea:!1,strollerAccessible:!0}})}return n.sort((e,s)=>e.time.getTime()-s.time.getTime())}generateSectionRecommendations(e,s,i,a){let n=(0,o.oP)(s,e.latitude,e.longitude),t=i?this.getWeatherForGameTime(i,s):void 0,r=(0,o.Zi)(e,n,t);console.log("Smart Itinerary Section Calculation:",{stadiumId:e.id,gameDateTime:s.toISOString(),sunPosition:{azimuth:n.azimuthDegrees,altitude:n.altitudeDegrees},totalSections:r.length,preferences:{prioritizeShade:a.prioritizeShade,sunSensitivity:a.sunSensitivity}});let l=(e,s)=>{var i,a;let n={field:1,lower:2,club:3,upper:4,suite:0},t=null!=(i=n[e.section.level])?i:5,r=null!=(a=n[s.section.level])?a:5;return t!==r?t-r:e.section.name.localeCompare(s.section.name)},c=r.filter(e=>e.inSun&&e.sunExposure>60).sort(l),d=r.filter(e=>e.inSun&&e.sunExposure<=60).sort(l),m=r.filter(e=>!e.inSun).sort(l);console.log("Section categorization:",{sunny:c.length,partialSun:d.length,shade:m.length});let u=[],h=[],p=[],g="";return a.prioritizeShade||"high"===a.sunSensitivity||"extreme"===a.sunSensitivity?(u=m.slice(0,5).map(e=>e.section.name),h=d.slice(0,3).map(e=>e.section.name),p=c.slice(0,3).map(e=>e.section.name),g="Based on your ".concat(a.sunSensitivity," sun sensitivity and preference for shade, we recommend sections that will remain shaded throughout the game. "),a.hasChildren&&(g+="These sections are also ideal for families with children to avoid prolonged sun exposure. "),n.altitudeDegrees<0&&(g="This is a night game, so sun exposure is not a concern. All sections are suitable. ")):"low"===a.sunSensitivity?(u=[...d.slice(0,3),...m.slice(0,2)].map(e=>e.section.name),h=c.slice(0,3).map(e=>e.section.name),p=[],g="Since you have low sun sensitivity, we recommend sections with partial sun for warmth without excessive exposure. ",t&&t.temperature<60&&(g+="Given the cooler temperature, some sun exposure might be comfortable. ")):(u=[...d.slice(0,2),...m.slice(0,3)].map(e=>e.section.name),h=[...m.slice(3,5),...d.slice(2,4)].map(e=>e.section.name),p=c.filter(e=>e.sunExposure>80).slice(0,2).map(e=>e.section.name),g="With moderate sun sensitivity, we recommend sections with partial shade for a comfortable balance. "),t&&(t.cloudCover>70?g+="Cloudy conditions will provide natural sun protection across all sections. ":i.current.uvIndex>7&&(g+="High UV index (".concat(i.current.uvIndex,") - extra sun protection is recommended regardless of seating choice. "))),(a.hasChildren||a.frequentRestrooms)&&(g+="Preferred sections are also close to family amenities and restrooms. "),{preferred:u,alternatives:h,avoid:p,reasoning:g,allSections:r.map(e=>({name:e.section.name,sunExposure:e.sunExposure,inSun:e.inSun})).sort((e,s)=>e.name.localeCompare(s.name))}}getWeatherForGameTime(e,s){let i=e.hourly.find(e=>36e5>Math.abs(new Date(e.time).getTime()-s.getTime()));return(null==i?void 0:i.weather)||e.current}getMaxUVIndex(e){return Math.max(e.current.uvIndex,...e.hourly.map(e=>e.weather.uvIndex))}getAverageTemperature(e){let s=e.hourly.map(e=>e.weather.temperature);return s.reduce((e,s)=>e+s,0)/s.length}estimateUVIndex(e,s){let i=s.hourly.find(s=>36e5>Math.abs(new Date(s.time).getTime()-e.getTime()));return(null==i?void 0:i.weather.uvIndex)||s.current.uvIndex}estimateInningRange(e,s){let i=(e.getTime()-s.getTime())/6e4;if(i<0)return null;let a=Math.floor(i/20)+1;return a>9?{start:9,end:9}:{start:a,end:a}}getSunRecommendation(e,s){return e>7?"seek_shade":e>3?"apply_sunscreen":s>45?"normal":"ideal_conditions"}estimateCrowdLevel(e,s){let i=(e.getTime()-s.getTime())/6e4;return i<-60?"low":i<-30?"moderate":i<0?"high":i<120?"peak":"moderate"}getSuitableActivities(e,s,i){let a=[],n=(e.getTime()-s.getTime())/6e4;return n<0?a.push("arrival","concession","exploration","sunscreen"):n<60?(a.push("watching_game","restroom"),i>6&&a.push("shade_break")):n<120?(a.push("watching_game","concession","restroom"),i>6&&a.push("shade_break")):a.push("watching_game","souvenir","restroom"),a}getSunExposureLevel(e){return e<=2?"low":e<=5?"moderate":e<=7?"high":"extreme"}calculateSummary(e){let s={totalWalkingTime:0,sunscreenReminders:0,shadeBreaks:0,familyFriendlyStops:0};return e.forEach(e=>{var i;s.totalWalkingTime+=e.location.walkingTime||0,"sunscreen"===e.type&&s.sunscreenReminders++,"shade_break"===e.type&&s.shadeBreaks++,(null==(i=e.familyConsiderations)?void 0:i.kidFriendly)&&s.familyFriendlyStops++}),s}}let c=new l;var d=i(7496);i(6424);let m=e=>{let{itinerary:s,stadium:i}=e,{t:n}=(0,d.Bd)(),t=e=>{switch(e){case"critical":return"#ff4444";case"high":return"#ff8800";case"medium":default:return"#4CAF50";case"low":return"#9E9E9E"}},r=e=>{let i=s.gameStartTime,a=Math.round((e.getTime()-i.getTime())/6e4);if(a<-120)return"Early Arrival";if(a<-90)return"2hr Before Game";if(a<-60)return"90min Before Game";if(a<-30)return"1hr Before Game";if(a<0)return"30min Before Game";let n=Math.floor(a/20)+1;return n>9?"Post-Game":n<1?"Game Start":"".concat(n).concat(1===n?"st":2===n?"nd":3===n?"rd":"th"," Inning")},o=(e=>{let s={};e.forEach(e=>{let i=r(e.time);s[i]||(s[i]=[]),s[i].push(e)});let i={};return["Early Arrival","2hr Before Game","90min Before Game","1hr Before Game","30min Before Game","Game Start","1st Inning","2nd Inning","3rd Inning","4th Inning","5th Inning","6th Inning","7th Inning","8th Inning","9th Inning","Post-Game"].forEach(e=>{s[e]&&(i[e]=s[e])}),i})(s.recommendations);return(0,a.jsxs)("div",{className:"itinerary-timeline",children:[(0,a.jsx)("h3",{children:"\uD83D\uDCC5 Your Game Day Timeline"}),(0,a.jsx)("div",{className:"timeline-container",children:Object.entries(o).map(e=>{let[s,i]=e;return(0,a.jsxs)("div",{className:"timeline-hour-group",children:[(0,a.jsxs)("div",{className:"hour-header",children:[(0,a.jsx)("h4",{children:r(new Date(i[0].time))}),(0,a.jsx)("div",{className:"hour-divider"})]}),(0,a.jsx)("div",{className:"recommendations-list",children:i.map((e,s)=>(0,a.jsxs)("div",{className:"timeline-item priority-".concat(e.priority),children:[(0,a.jsx)("div",{className:"timeline-marker",children:(0,a.jsx)("div",{className:"marker-dot",style:{backgroundColor:t(e.priority)},children:(0,a.jsx)("span",{className:"recommendation-icon",children:(e=>{switch(e){case"arrival":return"\uD83D\uDEB6‍♂️";case"concession":return"\uD83C\uDF7F";case"restroom":return"\uD83D\uDEBB";case"sunscreen":return"\uD83E\uDDF4";case"shade_break":return"\uD83C\uDF33";case"activity":return"\uD83C\uDFAF";case"departure":return"\uD83D\uDE97";default:return"\uD83D\uDCCD"}})(e.type)})})}),(0,a.jsxs)("div",{className:"timeline-content",children:[(0,a.jsxs)("div",{className:"recommendation-header",children:[(0,a.jsx)("h5",{children:e.details.title}),(0,a.jsxs)("div",{className:"recommendation-meta",children:[(0,a.jsx)("span",{className:"duration",children:(e=>{if(e<60)return"".concat(e,"m");let s=Math.floor(e/60),i=e%60;return i>0?"".concat(s,"h ").concat(i,"m"):"".concat(s,"h")})(e.duration)}),e.location.walkingTime>0&&(0,a.jsxs)("span",{className:"walking-time",children:["\uD83D\uDEB6‍♂️ ",e.location.walkingTime,"m"]})]})]}),(0,a.jsx)("p",{className:"recommendation-description",children:e.details.description}),(0,a.jsxs)("div",{className:"recommendation-details",children:[(0,a.jsx)("div",{className:"location-info",children:(0,a.jsxs)("span",{className:"location",children:["\uD83D\uDCCD ",e.location.description]})}),(0,a.jsx)("div",{className:"reason",children:(0,a.jsxs)("span",{className:"reason-text",children:["\uD83D\uDCA1 ",e.details.reason]})}),e.details.uvIndexAtTime&&(0,a.jsxs)("div",{className:"uv-info",children:[(0,a.jsxs)("span",{className:"uv-index",style:{color:(e=>e<=2?"#4CAF50":e<=5?"#FF9800":e<=7?"#FF5722":"#E91E63")(e.details.uvIndexAtTime)},children:["☀️ UV Index: ",e.details.uvIndexAtTime]}),e.details.sunExposureLevel&&(0,a.jsxs)("span",{className:"sun-exposure ".concat(e.details.sunExposureLevel),children:["(",e.details.sunExposureLevel," exposure)"]})]}),e.familyConsiderations&&(0,a.jsxs)("div",{className:"family-considerations",children:[(0,a.jsx)("span",{className:"family-label",children:"\uD83D\uDC68‍\uD83D\uDC69‍\uD83D\uDC67‍\uD83D\uDC66 Family Features:"}),(0,a.jsxs)("div",{className:"family-features",children:[e.familyConsiderations.kidFriendly&&(0,a.jsx)("span",{className:"family-feature",children:"Kid-friendly"}),e.familyConsiderations.hasRestroom&&(0,a.jsx)("span",{className:"family-feature",children:"Restroom nearby"}),e.familyConsiderations.shaded&&(0,a.jsx)("span",{className:"family-feature",children:"Shaded area"}),e.familyConsiderations.strollerAccessible&&(0,a.jsx)("span",{className:"family-feature",children:"Stroller accessible"})]})]})]}),(0,a.jsx)("div",{className:"priority-indicator",children:(0,a.jsx)("span",{className:"priority-badge priority-".concat(e.priority),style:{borderColor:t(e.priority)},children:e.priority.toUpperCase()})})]})]},e.id))})]},s)})}),(0,a.jsxs)("div",{className:"timeline-legend",children:[(0,a.jsx)("h4",{children:"Priority Levels"}),(0,a.jsxs)("div",{className:"legend-items",children:[(0,a.jsxs)("div",{className:"legend-item",children:[(0,a.jsx)("div",{className:"legend-dot",style:{backgroundColor:"#ff4444"}}),(0,a.jsx)("span",{children:"Critical - Essential for safety/health"})]}),(0,a.jsxs)("div",{className:"legend-item",children:[(0,a.jsx)("div",{className:"legend-dot",style:{backgroundColor:"#ff8800"}}),(0,a.jsx)("span",{children:"High - Important for comfort"})]}),(0,a.jsxs)("div",{className:"legend-item",children:[(0,a.jsx)("div",{className:"legend-dot",style:{backgroundColor:"#4CAF50"}}),(0,a.jsx)("span",{children:"Medium - Recommended"})]}),(0,a.jsxs)("div",{className:"legend-item",children:[(0,a.jsx)("div",{className:"legend-dot",style:{backgroundColor:"#9E9E9E"}}),(0,a.jsx)("span",{children:"Low - Optional"})]})]})]})]})};var u=i(2509);i(8094);let h=e=>{let{preferences:s,onPreferencesChange:i,onClose:n,selectedStadium:r,onStadiumChange:o,onGameSelect:l}=e,{t:c}=(0,d.Bd)(),m=(e,a)=>{i({...s,[e]:a})};return(0,a.jsxs)("div",{className:"preferences-panel",children:[(0,a.jsxs)("div",{className:"preferences-header",children:[(0,a.jsx)("h3",{children:"⚙️ Customize Your Itinerary"}),(0,a.jsx)("button",{className:"close-button",onClick:n,children:"✕"})]}),(0,a.jsxs)("div",{className:"preferences-content",children:[(0,a.jsxs)("div",{className:"preference-section",children:[(0,a.jsx)("h4",{children:"⚾ Stadium & Game"}),(0,a.jsx)("div",{className:"game-selector-wrapper",children:(0,a.jsx)(u.E,{selectedStadium:r,onStadiumChange:o,onGameSelect:l,stadiums:t.L})})]}),(0,a.jsxs)("div",{className:"preference-section",children:[(0,a.jsx)("h4",{children:"\uD83D\uDC65 Group Details"}),(0,a.jsxs)("div",{className:"preference-item",children:[(0,a.jsx)("label",{htmlFor:"groupSize",children:"Group Size:"}),(0,a.jsx)("input",{id:"groupSize",type:"number",min:"1",max:"20",value:s.groupSize,onChange:e=>m("groupSize",parseInt(e.target.value)),className:"number-input"})]}),(0,a.jsx)("div",{className:"preference-item",children:(0,a.jsxs)("label",{className:"checkbox-label",children:[(0,a.jsx)("input",{type:"checkbox",id:"pref-has-children",checked:s.hasChildren,onChange:e=>m("hasChildren",e.target.checked)}),(0,a.jsx)("span",{className:"checkmark"}),"Traveling with children"]})}),(0,a.jsx)("div",{className:"preference-item",children:(0,a.jsxs)("label",{className:"checkbox-label",children:[(0,a.jsx)("input",{type:"checkbox",id:"pref-has-elderly",checked:s.hasElderly,onChange:e=>m("hasElderly",e.target.checked)}),(0,a.jsx)("span",{className:"checkmark"}),"Traveling with elderly"]})}),(0,a.jsx)("div",{className:"preference-item",children:(0,a.jsxs)("label",{className:"checkbox-label",children:[(0,a.jsx)("input",{type:"checkbox",id:"pref-mobility-needs",checked:s.mobilityNeeds,onChange:e=>m("mobilityNeeds",e.target.checked)}),(0,a.jsx)("span",{className:"checkmark"}),"Mobility assistance needed"]})})]}),(0,a.jsxs)("div",{className:"preference-section",children:[(0,a.jsx)("h4",{children:"\uD83C\uDF7D️ Dietary Preferences"}),(0,a.jsx)("div",{className:"dietary-restrictions",children:["vegetarian","vegan","gluten_free","halal","kosher"].map(e=>(0,a.jsxs)("label",{className:"checkbox-label",children:[(0,a.jsx)("input",{type:"checkbox",id:"pref-dietary-".concat(e),checked:s.dietaryRestrictions.includes(e),onChange:()=>(e=>{let i=s.dietaryRestrictions;m("dietaryRestrictions",i.includes(e)?i.filter(s=>s!==e):[...i,e])})(e)}),(0,a.jsx)("span",{className:"checkmark"}),e.replace("_"," ").replace(/\b\w/g,e=>e.toUpperCase())]},e))})]}),(0,a.jsxs)("div",{className:"preference-section",children:[(0,a.jsx)("h4",{children:"☀️ Sun & Comfort"}),(0,a.jsx)("div",{className:"preference-item",children:(0,a.jsxs)("label",{className:"checkbox-label",children:[(0,a.jsx)("input",{type:"checkbox",id:"pref-prioritize-shade",checked:s.prioritizeShade,onChange:e=>m("prioritizeShade",e.target.checked)}),(0,a.jsx)("span",{className:"checkmark"}),"Prioritize shaded areas"]})}),(0,a.jsx)("div",{className:"preference-item",children:(0,a.jsxs)("label",{className:"checkbox-label",children:[(0,a.jsx)("input",{type:"checkbox",id:"pref-frequent-restrooms",checked:s.frequentRestrooms,onChange:e=>m("frequentRestrooms",e.target.checked)}),(0,a.jsx)("span",{className:"checkmark"}),"More frequent restroom breaks"]})}),(0,a.jsxs)("div",{className:"preference-item",children:[(0,a.jsx)("label",{htmlFor:"sunSensitivity",children:"Sun Sensitivity:"}),(0,a.jsxs)("select",{id:"sunSensitivity",value:s.sunSensitivity,onChange:e=>m("sunSensitivity",e.target.value),className:"select-input",children:[(0,a.jsx)("option",{value:"low",children:"Low"}),(0,a.jsx)("option",{value:"moderate",children:"Moderate"}),(0,a.jsx)("option",{value:"high",children:"High"}),(0,a.jsx)("option",{value:"extreme",children:"Extreme"})]})]})]}),(0,a.jsxs)("div",{className:"preference-section",children:[(0,a.jsx)("h4",{children:"⏰ Timing Preferences"}),(0,a.jsxs)("div",{className:"preference-item",children:[(0,a.jsx)("label",{htmlFor:"arrivalTime",children:"Arrival Time:"}),(0,a.jsxs)("select",{id:"arrivalTime",value:s.arrivalTime,onChange:e=>m("arrivalTime",e.target.value),className:"select-input",children:[(0,a.jsx)("option",{value:"early",children:"Early (90 min before)"}),(0,a.jsx)("option",{value:"on_time",children:"On Time (60 min before)"}),(0,a.jsx)("option",{value:"late",children:"Late (30 min before)"})]})]}),(0,a.jsxs)("div",{className:"preference-item",children:[(0,a.jsx)("label",{htmlFor:"departureTime",children:"Departure Time:"}),(0,a.jsxs)("select",{id:"departureTime",value:s.departureTime,onChange:e=>m("departureTime",e.target.value),className:"select-input",children:[(0,a.jsx)("option",{value:"early",children:"Early (7th inning)"}),(0,a.jsx)("option",{value:"full_game",children:"Full Game"}),(0,a.jsx)("option",{value:"late",children:"Late (stay after)"})]})]})]}),(0,a.jsxs)("div",{className:"preference-section",children:[(0,a.jsx)("h4",{children:"\uD83D\uDCB0 Budget & Activities"}),(0,a.jsxs)("div",{className:"preference-item",children:[(0,a.jsx)("label",{htmlFor:"budgetConstraints",children:"Budget Level:"}),(0,a.jsxs)("select",{id:"budgetConstraints",value:s.budgetConstraints,onChange:e=>m("budgetConstraints",e.target.value),className:"select-input",children:[(0,a.jsx)("option",{value:"budget",children:"Budget Conscious"}),(0,a.jsx)("option",{value:"moderate",children:"Moderate"}),(0,a.jsx)("option",{value:"premium",children:"Premium"}),(0,a.jsx)("option",{value:"unlimited",children:"No Limits"})]})]}),(0,a.jsx)("div",{className:"preference-item",children:(0,a.jsxs)("label",{className:"checkbox-label",children:[(0,a.jsx)("input",{type:"checkbox",id:"pref-skip-concessions",checked:s.skipConcessions,onChange:e=>m("skipConcessions",e.target.checked)}),(0,a.jsx)("span",{className:"checkmark"}),"Skip concession recommendations"]})}),(0,a.jsx)("div",{className:"preference-item",children:(0,a.jsxs)("label",{className:"checkbox-label",children:[(0,a.jsx)("input",{type:"checkbox",id:"pref-skip-activities",checked:s.skipActivities,onChange:e=>m("skipActivities",e.target.checked)}),(0,a.jsx)("span",{className:"checkmark"}),"Skip activity recommendations"]})}),(0,a.jsx)("div",{className:"preference-item",children:(0,a.jsxs)("label",{className:"checkbox-label",children:[(0,a.jsx)("input",{type:"checkbox",id:"pref-prioritize-speed",checked:s.prioritizeSpeed,onChange:e=>m("prioritizeSpeed",e.target.checked)}),(0,a.jsx)("span",{className:"checkmark"}),"Minimize walking time"]})})]}),s.hasChildren&&(0,a.jsxs)("div",{className:"preference-section",children:[(0,a.jsx)("h4",{children:"\uD83D\uDC76 Special Needs"}),(0,a.jsx)("div",{className:"preference-item",children:(0,a.jsxs)("label",{className:"checkbox-label",children:[(0,a.jsx)("input",{type:"checkbox",id:"pref-nursling-needs",checked:s.nurslingNeeds,onChange:e=>m("nurslingNeeds",e.target.checked)}),(0,a.jsx)("span",{className:"checkmark"}),"Nursing/feeding needs"]})})]})]}),(0,a.jsx)("div",{className:"preferences-footer",children:(0,a.jsx)("button",{className:"apply-button",onClick:n,children:"✓ Apply Preferences"})})]})};var p=i(6740);i(5051);let g=e=>{var s;let{itinerary:i,stadium:t}=e,{t:r}=(0,d.Bd)(),o=(0,p._)(),[l,c]=(0,n.useState)(!1),m=(e=>e<=2?{level:"Low",color:"#4CAF50"}:e<=5?{level:"Moderate",color:"#FF9800"}:e<=7?{level:"High",color:"#FF5722"}:{level:"Extreme",color:"#E91E63"})(i.weatherContext.maxUVIndex),u=((e,s)=>s>70?"☁️":s>30?"⛅":e>80?"☀️":e>60?"\uD83C\uDF24️":"\uD83C\uDF25️")(i.weatherContext.averageTemperature,i.weatherContext.cloudCover);return(0,a.jsxs)("div",{className:"itinerary-summary",children:[(0,a.jsxs)("div",{className:"summary-header",children:[(0,a.jsx)("h3",{children:"\uD83D\uDCCA Your Game Day Overview"}),(0,a.jsxs)("div",{className:"summary-stats",children:[(0,a.jsxs)("div",{className:"stat-item",children:[(0,a.jsx)("span",{className:"stat-value",children:i.recommendations.length}),(0,a.jsx)("span",{className:"stat-label",children:"Recommendations"})]}),(0,a.jsxs)("div",{className:"stat-item",children:[(0,a.jsx)("span",{className:"stat-value",children:(e=>{if(e<60)return"".concat(e,"m");let s=Math.floor(e/60),i=e%60;return i>0?"".concat(s,"h ").concat(i,"m"):"".concat(s,"h")})(i.summary.totalWalkingTime)}),(0,a.jsx)("span",{className:"stat-label",children:"Total Walking"})]})]})]}),(0,a.jsxs)("div",{className:"summary-content",children:[(0,a.jsxs)("div",{className:"weather-summary",children:[(0,a.jsx)("h4",{children:"\uD83C\uDF24️ Weather Conditions"}),(0,a.jsxs)("div",{className:"weather-details",children:[(0,a.jsxs)("div",{className:"weather-item",children:[(0,a.jsx)("span",{className:"weather-icon",children:u}),(0,a.jsxs)("div",{className:"weather-info",children:[(0,a.jsxs)("span",{className:"weather-temp",children:[Math.round(i.weatherContext.averageTemperature),"\xb0F"]}),(0,a.jsx)("span",{className:"weather-desc",children:"Average Temperature"})]})]}),(0,a.jsxs)("div",{className:"weather-item",children:[(0,a.jsx)("span",{className:"weather-icon",children:"☀️"}),(0,a.jsxs)("div",{className:"weather-info",children:[(0,a.jsx)("span",{className:"uv-index",style:{color:m.color},children:i.weatherContext.maxUVIndex}),(0,a.jsxs)("span",{className:"weather-desc",children:["Max UV Index (",m.level,")"]})]})]}),(0,a.jsxs)("div",{className:"weather-item",children:[(0,a.jsx)("span",{className:"weather-icon",children:"☁️"}),(0,a.jsxs)("div",{className:"weather-info",children:[(0,a.jsxs)("span",{className:"cloud-cover",children:[i.weatherContext.cloudCover,"%"]}),(0,a.jsx)("span",{className:"weather-desc",children:"Cloud Cover"})]})]}),i.weatherContext.precipitationProbability>0&&(0,a.jsxs)("div",{className:"weather-item",children:[(0,a.jsx)("span",{className:"weather-icon",children:"\uD83C\uDF27️"}),(0,a.jsxs)("div",{className:"weather-info",children:[(0,a.jsxs)("span",{className:"precipitation",children:[i.weatherContext.precipitationProbability,"%"]}),(0,a.jsx)("span",{className:"weather-desc",children:"Rain Chance"})]})]})]})]}),(0,a.jsxs)("div",{className:"recommendations-summary",children:[(0,a.jsx)("h4",{children:"\uD83D\uDCDD Recommendation Breakdown"}),(0,a.jsxs)("div",{className:"recommendation-types",children:[(0,a.jsxs)("div",{className:"recommendation-type",children:[(0,a.jsx)("span",{className:"type-icon",children:"\uD83D\uDCCD"}),(0,a.jsx)("span",{className:"type-count",children:i.recommendations.length}),(0,a.jsx)("span",{className:"type-label",children:"Total Recommendations"})]}),i.summary.sunscreenReminders>0&&(0,a.jsxs)("div",{className:"recommendation-type",children:[(0,a.jsx)("span",{className:"type-icon",children:"\uD83E\uDDF4"}),(0,a.jsx)("span",{className:"type-count",children:i.summary.sunscreenReminders}),(0,a.jsx)("span",{className:"type-label",children:"Sunscreen Reminders"})]}),i.summary.shadeBreaks>0&&(0,a.jsxs)("div",{className:"recommendation-type",children:[(0,a.jsx)("span",{className:"type-icon",children:"\uD83C\uDF33"}),(0,a.jsx)("span",{className:"type-count",children:i.summary.shadeBreaks}),(0,a.jsx)("span",{className:"type-label",children:"Shade Breaks"})]}),i.summary.familyFriendlyStops>0&&(0,a.jsxs)("div",{className:"recommendation-type",children:[(0,a.jsx)("span",{className:"type-icon",children:"\uD83D\uDC68‍\uD83D\uDC69‍\uD83D\uDC67‍\uD83D\uDC66"}),(0,a.jsx)("span",{className:"type-count",children:i.summary.familyFriendlyStops}),(0,a.jsx)("span",{className:"type-label",children:"Family-Friendly Stops"})]}),i.recommendations.filter(e=>"concession"===e.type).length>0&&(0,a.jsxs)("div",{className:"recommendation-type",children:[(0,a.jsx)("span",{className:"type-icon",children:"\uD83C\uDF7F"}),(0,a.jsx)("span",{className:"type-count",children:i.recommendations.filter(e=>"concession"===e.type).length}),(0,a.jsx)("span",{className:"type-label",children:"Concession Visits"})]}),i.recommendations.filter(e=>"activity"===e.type).length>0&&(0,a.jsxs)("div",{className:"recommendation-type",children:[(0,a.jsx)("span",{className:"type-icon",children:"⚾"}),(0,a.jsx)("span",{className:"type-count",children:i.recommendations.filter(e=>"activity"===e.type).length}),(0,a.jsx)("span",{className:"type-label",children:"Activities"})]})]})]}),(0,a.jsxs)("div",{className:"safety-highlights",children:[(0,a.jsx)("h4",{children:"\uD83D\uDEE1️ Safety Highlights"}),(0,a.jsxs)("div",{className:"safety-items",children:[i.weatherContext.maxUVIndex>6&&(0,a.jsxs)("div",{className:"safety-item high-uv",children:[(0,a.jsx)("span",{className:"safety-icon",children:"⚠️"}),(0,a.jsx)("span",{className:"safety-text",children:"High UV expected - extra sun protection recommended"})]}),i.weatherContext.precipitationProbability>30&&(0,a.jsxs)("div",{className:"safety-item rain-chance",children:[(0,a.jsx)("span",{className:"safety-icon",children:"\uD83C\uDF27️"}),(0,a.jsx)("span",{className:"safety-text",children:"Rain possible - consider bringing umbrella"})]}),i.weatherContext.averageTemperature>85&&(0,a.jsxs)("div",{className:"safety-item high-temp",children:[(0,a.jsx)("span",{className:"safety-icon",children:"\uD83C\uDF21️"}),(0,a.jsx)("span",{className:"safety-text",children:"Hot weather - stay hydrated and take breaks"})]}),i.preferences.hasChildren&&(0,a.jsxs)("div",{className:"safety-item family-safety",children:[(0,a.jsx)("span",{className:"safety-icon",children:"\uD83D\uDC68‍\uD83D\uDC69‍\uD83D\uDC67‍\uD83D\uDC66"}),(0,a.jsx)("span",{className:"safety-text",children:"Family-friendly amenities included in recommendations"})]})]})]}),(0,a.jsxs)("div",{className:"timing-overview",children:[(0,a.jsx)("h4",{children:"⏰ Key Timing"}),(0,a.jsxs)("div",{className:"timing-items",children:[(0,a.jsxs)("div",{className:"timing-item",children:[(0,a.jsx)("span",{className:"timing-label",children:"Recommended Arrival:"}),(0,a.jsx)("span",{className:"timing-value",children:new Date(i.gameStartTime.getTime()-("early"===i.preferences.arrivalTime?90:"on_time"===i.preferences.arrivalTime?60:30)*6e4).toLocaleTimeString([],{hour:"numeric",minute:"2-digit"})})]}),(0,a.jsxs)("div",{className:"timing-item",children:[(0,a.jsx)("span",{className:"timing-label",children:"Game Start:"}),(0,a.jsx)("span",{className:"timing-value",children:i.gameStartTime.toLocaleTimeString([],{hour:"numeric",minute:"2-digit"})})]}),(0,a.jsxs)("div",{className:"timing-item",children:[(0,a.jsx)("span",{className:"timing-label",children:"Peak UV Time:"}),(0,a.jsx)("span",{className:"timing-value",children:new Date(i.gameStartTime.getTime()+72e5).toLocaleTimeString([],{hour:"numeric",minute:"2-digit"})})]})]})]}),i.sectionRecommendations&&(0,a.jsxs)("div",{className:"section-recommendations",children:[(0,a.jsxs)("div",{className:"section-recommendations-header",children:[(0,a.jsx)("h4",{children:"\uD83C\uDFAF Seating Sections"}),i.sectionRecommendations.allSections&&(0,a.jsx)("button",{className:"toggle-sections-btn ".concat(l?"active":""),onClick:()=>{o.light(),c(!l)},"aria-label":l?"Show recommendations only":"Show all sections",children:l?"\uD83C\uDFAF Show Recommendations":"\uD83D\uDCCB Show All Sections"})]}),(0,a.jsx)("div",{className:"section-recommendation-content",children:l?(0,a.jsxs)("div",{className:"all-sections-view",children:[(0,a.jsx)("p",{className:"all-sections-note",children:"All stadium sections with sun exposure data (same as Sun Tracker view):"}),(0,a.jsx)("div",{className:"all-sections-grid",children:null==(s=i.sectionRecommendations.allSections)?void 0:s.map(e=>(0,a.jsxs)("div",{className:"section-card-mini",children:[(0,a.jsx)("div",{className:"section-name",children:e.name}),(0,a.jsx)("div",{className:"section-exposure",children:(0,a.jsxs)("span",{className:"exposure-indicator ".concat(e.inSun?"sunny":"shade"),children:[e.inSun?"☀️":"\uD83C\uDF2B️"," ",e.sunExposure,"%"]})})]},e.name))})]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("p",{className:"recommendation-reasoning",children:i.sectionRecommendations.reasoning}),i.sectionRecommendations.preferred.length>0&&(0,a.jsxs)("div",{className:"section-group preferred",children:[(0,a.jsx)("h5",{children:"✅ Preferred Sections"}),(0,a.jsx)("div",{className:"section-list",children:i.sectionRecommendations.preferred.map(e=>(0,a.jsx)("span",{className:"section-badge preferred",children:e},e))})]}),i.sectionRecommendations.alternatives.length>0&&(0,a.jsxs)("div",{className:"section-group alternatives",children:[(0,a.jsx)("h5",{children:"\uD83D\uDD04 Alternative Sections"}),(0,a.jsx)("div",{className:"section-list",children:i.sectionRecommendations.alternatives.map(e=>(0,a.jsx)("span",{className:"section-badge alternative",children:e},e))})]}),i.sectionRecommendations.avoid.length>0&&(0,a.jsxs)("div",{className:"section-group avoid",children:[(0,a.jsx)("h5",{children:"⚠️ Sections to Avoid"}),(0,a.jsx)("div",{className:"section-list",children:i.sectionRecommendations.avoid.map(e=>(0,a.jsx)("span",{className:"section-badge avoid",children:e},e))})]})]})})]})]}),(0,a.jsx)("div",{className:"mlb-play-sun-smart",children:(0,a.jsxs)("div",{className:"play-sun-smart-banner",children:[(0,a.jsx)("span",{className:"banner-icon",children:"\uD83C\uDFDF️"}),(0,a.jsxs)("div",{className:"banner-content",children:[(0,a.jsx)("h5",{children:"MLB Play Sun Smart Initiative"}),(0,a.jsx)("p",{children:"This itinerary includes sunscreen kiosks and sun safety recommendations in partnership with MLB's Play Sun Smart program."})]})]})})]})};var f=i(4271);i(9699);let y=e=>{let{selectedStadium:s,selectedGame:i,gameDateTime:r,weatherForecast:o,selectedSectionId:l,onStadiumChange:y,onGameSelect:x}=e,{t:v}=(0,d.Bd)(),j=(0,p._)(),[k,N]=(0,n.useState)(null),[S,T]=(0,n.useState)(!1),[C,b]=(0,n.useState)({groupSize:2,hasChildren:!1,hasElderly:!1,mobilityNeeds:!1,dietaryRestrictions:[],prioritizeShade:!0,frequentRestrooms:!1,budgetConstraints:"moderate",arrivalTime:"on_time",departureTime:"full_game",nurslingNeeds:!1,sunSensitivity:"moderate",skipConcessions:!1,skipActivities:!1,prioritizeSpeed:!1}),[D,_]=(0,n.useState)(!0),[w,R]=(0,n.useState)(null);(0,n.useEffect)(()=>{s&&r&&o&&A()},[s,r,o,C]);let A=async()=>{if(s&&r&&o){T(!0),R(null);try{let e=await c.generateSmartItinerary(s,i,r,o,C,l);N(e)}catch(e){R("Failed to generate itinerary. Please try again."),console.error("Error generating itinerary:",e)}finally{T(!1)}}},G=()=>{A()};return s&&r?(0,a.jsx)(f.E3,{children:(0,a.jsxs)("div",{className:"smart-itineraries-page",children:[(0,a.jsxs)("div",{className:"preferences-sidebar ".concat(D?"open":""),children:[(0,a.jsxs)("div",{className:"sidebar-header",children:[(0,a.jsx)("h3",{children:"⚙️ Preferences"}),(0,a.jsx)("button",{className:"sidebar-toggle",onClick:()=>{j.light(),_(!D)},"aria-label":D?"Close preferences":"Open preferences",children:D?"\xd7":"☰"})]}),D&&(0,a.jsx)("div",{className:"sidebar-content",children:(0,a.jsx)(h,{preferences:C,onPreferencesChange:e=>{b(e)},onClose:()=>_(!1),selectedStadium:s,onStadiumChange:y,onGameSelect:x})})]}),(0,a.jsxs)("div",{className:"itinerary-main-content ".concat(D?"with-sidebar":""),children:[(0,a.jsxs)("div",{className:"itinerary-header",children:[(0,a.jsxs)("div",{className:"header-content",children:[(0,a.jsx)("h1",{children:"\uD83D\uDDD3️ Smart Itinerary"}),(0,a.jsx)("h2",{children:s.name}),(0,a.jsx)("p",{className:"game-info",children:i?"".concat(i.teams.away.team.name," @ ").concat(i.teams.home.team.name):"Custom Game Time"}),(0,a.jsxs)("p",{className:"datetime",children:[r.toLocaleDateString()," at ",r.toLocaleTimeString([],{hour:"numeric",minute:"2-digit"})]})]}),(0,a.jsx)("div",{className:"header-actions",children:(0,a.jsx)("button",{className:"regenerate-button",onClick:()=>{j.medium(),G()},disabled:S,children:S?"\uD83D\uDD04 Generating...":"\uD83D\uDD04 Regenerate"})})]}),w&&(0,a.jsxs)("div",{className:"error-message",children:[(0,a.jsxs)("p",{children:["❌ ",w]}),(0,a.jsx)("button",{onClick:()=>{j.medium(),G()},children:"Try Again"})]}),S&&(0,a.jsxs)("div",{className:"generating-state",children:[(0,a.jsx)("div",{className:"loading-spinner"}),(0,a.jsx)("h3",{children:"Generating Your Smart Itinerary..."}),(0,a.jsx)("p",{children:"Analyzing weather conditions, sun exposure, and stadium amenities"})]}),k&&!S&&(0,a.jsxs)("div",{className:"itinerary-content",children:[(0,a.jsx)(g,{itinerary:k,stadium:s}),(0,a.jsx)(m,{itinerary:k,stadium:s})]}),!k&&!S&&!w&&(0,a.jsxs)("div",{className:"welcome-message",children:[(0,a.jsx)("h3",{children:"\uD83C\uDFAF Your Personalized Ballpark Experience"}),(0,a.jsx)("p",{children:"Our Smart Itinerary combines real-time weather data, sun exposure calculations, and stadium amenity locations to create the perfect game day plan for you and your family."}),(0,a.jsxs)("div",{className:"feature-highlights",children:[(0,a.jsxs)("div",{className:"feature",children:[(0,a.jsx)("span",{className:"feature-icon",children:"☀️"}),(0,a.jsx)("h4",{children:"Sun Smart"}),(0,a.jsx)("p",{children:"Sunscreen reminders and shade breaks based on UV index"})]}),(0,a.jsxs)("div",{className:"feature",children:[(0,a.jsx)("span",{className:"feature-icon",children:"\uD83D\uDC68‍\uD83D\uDC69‍\uD83D\uDC67‍\uD83D\uDC66"}),(0,a.jsx)("h4",{children:"Family First"}),(0,a.jsx)("p",{children:"Kid-friendly dining, restrooms, and activity recommendations"})]}),(0,a.jsxs)("div",{className:"feature",children:[(0,a.jsx)("span",{className:"feature-icon",children:"\uD83D\uDEB6‍♂️"}),(0,a.jsx)("h4",{children:"Optimized Routes"}),(0,a.jsx)("p",{children:"Minimize walking time with smart location planning"})]}),(0,a.jsxs)("div",{className:"feature",children:[(0,a.jsx)("span",{className:"feature-icon",children:"⏰"}),(0,a.jsx)("h4",{children:"Perfect Timing"}),(0,a.jsx)("p",{children:"Beat crowds with optimal concession and restroom timing"})]})]})]})]})]})}):(0,a.jsx)("div",{className:"smart-itineraries-page",children:(0,a.jsxs)("div",{className:"empty-state",children:[(0,a.jsx)("h2",{children:"\uD83D\uDDD3️ Smart Itineraries"}),(0,a.jsx)("p",{children:"Select a stadium and game time to generate your personalized ballpark itinerary"}),(0,a.jsx)(u.E,{stadiums:t.L,selectedStadium:s,onStadiumChange:y,onGameSelect:x}),(0,a.jsxs)("div",{className:"empty-state-features",children:[(0,a.jsx)("h3",{children:"What you'll get:"}),(0,a.jsxs)("ul",{children:[(0,a.jsx)("li",{children:"\uD83C\uDF1E Sun exposure-based timing recommendations"}),(0,a.jsx)("li",{children:"\uD83C\uDF7F Optimal concession visit times"}),(0,a.jsx)("li",{children:"\uD83D\uDEBB Family-friendly restroom and amenity locations"}),(0,a.jsx)("li",{children:"\uD83E\uDDF4 Sunscreen application reminders"}),(0,a.jsx)("li",{children:"\uD83D\uDC68‍\uD83D\uDC69‍\uD83D\uDC67‍\uD83D\uDC66 Kid-friendly activities and timing"}),(0,a.jsx)("li",{children:"\uD83D\uDCCD Walking routes and proximity optimization"})]})]})]})})}},6424:()=>{},8094:()=>{},9699:()=>{}}]);